<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"> 
    <body>     
        <ui:composition template="./../index.xhtml"> 
            <ui:define name="content">
                <style>
                    .ui-menu.ui-menu-dynamic {
                        width: 19em;
                    }
                    .borderHidden.ui-panelgrid>*>tr,
                    .borderHidden.ui-panelgrid .ui-panelgrid-cell {
                        border: none;
                    }
                    .companyHeaderGrid.ui-panelgrid>*>tr,
                    .companyHeaderGrid.ui-panelgrid .ui-panelgrid-cell {
                        border: none;
                    }
                    .borderHidden.ui-panelgrid>*>tr,
                    .borderHidden.ui-panelgrid .ui-panelgrid-cell {
                        border: none;
                    }
                    .ui-datalist-content{
                        border: none;
                    }
                    .opciones .ui-selectonemenu-list { 
                        height: 100px;
                    }
                    #fLisiados\:main-panel td{
                        border: none !important;
                    }
                    #fLisiados\:main-panel tr{
                        border: none !important;
                    }
                </style>
                <p:outputPanel id="padding">
                    <p:growl id="msgs" />
                    <p:outputPanel  rendered="#{proyectoBean.mostrarPagoTotalCooperativa}" style=" width: 100%">
                        <h:form id="fAgregarPagoTotalCooperativa">
                            <p:panel id="pPagoTotal"  header="Liquidar deuda"  style="width: 100%; margin: auto; margin-bottom: 20px">
                                <p:panelGrid  style="width: 100%; margin: auto;">   
                                    <p:row>
                                        <p:column colspan="5" style=" width: 15%; background-color:#ebedf0">
                                            <center>  <h:outputText value="Cliente"/> </center> 
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column style=" width: 15%; vertical-align:  top ">
                                            <h:outputText value="Código:"/> <br></br>
                                            <h:outputText value="NIT:"/> <br></br>
                                            <h:outputText value="Giro:"/> <br></br>
                                            
                                        </p:column>
                                        <p:column style=" width: 20%; vertical-align:  top">
                                            <h:outputText value="#{proyectoBean.entidadeleccionada.codigoClienteEntidad}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.entidadeleccionada.nitEntidad}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.entidadeleccionada.giroEntidad}"/> <br></br>
                                            
                                        </p:column>
                                        <p:column colspan="2" style=" width:15%; vertical-align:  top">
                                            <h:outputText value="Cooperativa:"/>   <br></br>
                                            
                                            <h:outputText value="Representante legal:"/>   <br></br>
                                            <h:outputText value="Nombre:"/>   <br></br>
                                        </p:column>
                                        <p:column style=" width: 50%; vertical-align:  top">
                                            <h:outputText value="#{proyectoBean.entidadeleccionada.codigoEntidad}"/> <br></br>
                                           
                                            <h:outputText value="#{proyectoBean.entidadeleccionada.nombreRepresentanteEntidad}">
                                            </h:outputText><br></br>
                                             <h:outputText value="#{proyectoBean.entidadeleccionada.nombreEntidad}"/> 
                                        </p:column>
                                    </p:row>
                                </p:panelGrid>
                                <br></br>
                                <p:panelGrid  style="width: 100%; margin: auto;"> 
                                    <p:row>
                                        <p:column colspan="5" style=" width: 15%; background-color:#ebedf0">
                                            <center>  <h:outputText value="Credito"/> </center> 
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column style=" width: 15%; ">
                                            <h:outputText value="Código:"/> <br></br>
                                            <h:outputText value="Modalidad:"/> <br></br>
                                            <h:outputText value="Destino:"/> <br></br>
                                            <h:outputText value="Monto:"/> <br></br>
                                            <h:outputText value="Plazo (meses):"/> <br></br>
                                            <h:outputText value="Forma de pago:"/> <br></br>
                                        </p:column>
                                        <p:column style=" width: 50%">
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.codigoProyecto}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.cambiar(proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito)}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.destinoProyecto}"/> <br></br>
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.monto}">
                                                <f:convertNumber  pattern=",#00.00" locale="en-US" /> 
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.plazo}"/>  <br></br>
                                            <h:outputText value="#{proyectoBean.formaPagos}"/> <br></br>
                                        </p:column>
                                        <p:column colspan="2" style=" width:25%; ">
                                            <h:outputText value="Tasa de interés (%):"/> <br></br>
                                            <h:outputText value="Tasa de interés por mora (%):"/> <br></br>
                                            <h:outputText value="Estado:"/>   <br></br>
                                            <h:outputText value="Calificación:"/>   <br></br>
                                            <h:outputText value="Fecha de aprobación:"/> <br></br>
                                            <h:outputText value="Fecha de vencimiento:"/>   <br></br>
                                            <h:outputText value="Fecha de finalización:"/>   <br></br>
                                        </p:column>
                                        <p:column style=" width: 25%">
                                            <h:outputText value="#{proyectoBean.politicaSeleccionada.tasaInteres}">
                                                <f:convertNumber     pattern=",#0.00" locale="en-US" />  
                                            </h:outputText>
                                                
                                                <br></br>
                                            <h:outputText value="#{proyectoBean.politicaSeleccionada.tasaInteresMora}">
                                                <f:convertNumber     pattern=",#0.00" locale="en-US" />  
                                            </h:outputText>
                                                <br></br>
                                            <h:outputText value="#{proyectoBean.cambiarEstado(proyectoBean.proyectoSeleccionado.estado)}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.calificacion}">
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.fechaAprovacion}">
                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.fechaVencimientoProyecto}">
                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.fechaFinalizacionProyecto eq null? '--/--/----':proyectoBean.proyectoSeleccionado.fechaFinalizacionProyecto}"> 
                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                            </h:outputText>
                                        </p:column>
                                    </p:row>
                                </p:panelGrid>
                                <br></br>
                                <p:panelGrid  style="width: 100%; margin: auto;">   
                                    <p:row>
                                        <p:column colspan="6" style=" width: 25%; background-color: #ebedf0 "> 
                                            <center>           <h:outputText value="Ultimo pago"/> </center> 
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column style=" width: 25%">
                                            <h:outputText value="Numero de cuota:"/>   <br></br>
                                            <h:outputText value="Cuota:"/>   <br></br>
                                            <h:outputText value="Interés:"/> <br></br>
                                            <h:outputText value="Abono:"/>   <br></br>
                                        </p:column>
                                        <p:column style=" width: 25%">
                                            <h:outputText value="#{proyectoBean.numeroPagos}"/> <br></br>
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.pago.cuota}">
                                                <f:convertNumber  pattern="#00.00" locale="en-US" /> 
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.pago.interes}">
                                                <f:convertNumber  pattern=",#00.00" locale="en-US" /> 
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.pago.abono}">
                                                <f:convertNumber  pattern=",#00.00" locale="en-US" /> 
                                            </h:outputText>
                                        </p:column>
                                        <p:column colspan="2" style=" width:25%">
                                            <h:outputText value="Capital amortizado:"/>   <br></br>
                                            <h:outputText value="Saldo del capital:"/>   <br></br>
                                            <h:outputText value="Mora:"/>   <br></br>
                                            <h:outputText value="Capital+mora:"/>   <br></br>
                                        </p:column>
                                        <p:column style=" width: 25%">
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.pago.capitalamortizado}">
                                                <f:convertNumber  pattern=",#00.00" locale="en-US" /> 
                                            </h:outputText>
                                            <br></br>
                                            <b>
                                                <h:outputText value="$"/>
                                                <h:outputText value="#{proyectoBean.pago.saldocapital}">
                                                    <f:convertNumber  pattern=",#00.00" locale="en-US" /> 
                                                </h:outputText>
                                            </b>
                                            <br></br>
                                            <b>
                                                <h:outputText value="$"/>
                                                <h:outputText value="#{proyectoBean.totalMoraGenerada}">
                                                    <f:convertNumber  pattern=",#00.00" locale="en-US" /> 
                                                </h:outputText>
                                                <p:commandLink id="ajax" oncomplete="PF('dgDetalle').show()"    >
                                                    <i class="fa fa-eye" aria-hidden="true"></i>
                                                </p:commandLink>
                                            </b>
                                            <br></br>
                                            <b>
                                                <h:outputText value="$"/>
                                                <h:outputText value="#{proyectoBean.totalCapitalMora}">
                                                    <f:convertNumber  pattern=",#00.00" locale="en-US" /> 
                                                </h:outputText>
                                            </b>
                                        </p:column>
                                    </p:row>
                                </p:panelGrid>
                                <br></br>
                                <div align="center">
                                    <p:commandButton  title="Registrar" value="Guardar"  actionListener="#{proyectoBean.validarFormularioPagoTotal}"  update=":padding"   icon="fa fa-check" style="#{proyectoBean.btnCrear}">
                                    </p:commandButton>
                                    <p:commandButton  actionListener="#{proyectoBean.enableShowSeguimiento}" update=":padding" icon="fa fa-close" title="Cancelar" value="Cancelar" style="#{proyectoBean.btnCancelar}"> 
                                    </p:commandButton>
                                </div>
                            </p:panel>
                        </h:form>
                        <p:dialog header="Confirmar" width="25%" widgetVar="pgGuardar" modal="true"  visible="#{proyectoBean.estadoFormularioPagoTotal}" resizable="true" responsive="true" styleClass="ui-panelgrid-blank" appendTo="@(body)">
                            <h:form>
                                <p:outputPanel style="text-align:center;">
                                    <br></br>
                                    <p:panelGrid>
                                        <h:outputText value="¿Desea guardar este pago?"/>
                                    </p:panelGrid>
                                    <br></br>
                                    <hr></hr>                                 
                                    <center>
                                        <p:commandButton style="#{empleadoBean.btnNuevo}" value="Si" actionListener="#{proyectoBean.createPagoTotal}"   oncomplete="PF('pgGuardar').hide()"  title="Cerrar" update=":padding">
                                        <f:setPropertyActionListener value="#{false}" target="#{proyectoBean.estadoFormularioPagoTotal}" />
                                        </p:commandButton>
                                        <p:commandButton oncomplete="PF('pgGuardar').hide()" style="#{empleadoBean.btnCancelar}"  value="No"> 
                                            <f:setPropertyActionListener value="#{false}" target="#{proyectoBean.estadoFormularioPagoTotal}" />
                                        </p:commandButton>
                                    </center>
                                </p:outputPanel>
                            </h:form>
                        </p:dialog>
                        <p:dialog header="Detalles de mora" widgetVar="dgDetalle" modal="true"  width="60%" resizable="true" responsive="true" styleClass="ui-panelgrid-blank" appendTo="@(body)">
                            <h:form>
                                <b> <h:outputText value="Lista de cuotas retrasadas"/>
                                </b>
                                <hr></hr>
                                <p:dataTable  id="basicMora" var="entidades" widgetVar="cuotasData" value="#{proyectoBean.listaPagosMora}"
                                              style="width: 100%;"
                                              paginator="true"
                                              rows="5"
                                              paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                              rowsPerPageTemplate="5,10,15"
                                              currentPageReportTemplate="Mostrando {startRecord}-{endRecord} de {totalRecords}"
                                              paginatorPosition="bottom"
                                              emptyMessage="No se encontraron cuotas con mora" rowIndexVar="No" 
                                              >
                                    <p:column   
                                        headerText="Nº" width="5%" style="text-align: center" >                                             
                                        <h:outputText value="#{No+1}"  />                                      </p:column> 
                                    <p:column   
                                        headerText="Fecha de pago" width="10%" filterBy="#{entidades.fecha}" sortBy="#{entidades.fecha}" >                                             
                                        <div align="center">
                                            <h:outputText value="#{entidades.fecha}">
                                                <f:convertDateTime pattern="dd/MM/YYYY"/>
                                            </h:outputText>
                                        </div>
                                    </p:column> 
                                    <p:column   
                                        headerText="Dias de retraso" width="10%" filterBy="#{entidades.idpago}" sortBy="#{entidades.idpago}" >                                             
                                        <div align="center">
                                            <h:outputText value="#{entidades.idpago}">
                                            </h:outputText>
                                        </div>
                                    </p:column> 
                                    <p:column   
                                        headerText="Cuota" width="10%" filterBy="#{entidades.cuota}" sortBy="#{entidades.cuota}" >                                             
                                        <div align="center">
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{entidades.cuota}">
                                                <f:convertNumber     pattern=",#00.00" locale="en-US" /> 
                                            </h:outputText>
                                        </div>
                                    </p:column> 
                                    <p:column   
                                        headerText="Mora" width="10%" filterBy="#{entidades.abono}" sortBy="#{entidades.abono}" >                                             
                                        <div align="center">
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{entidades.abono}">
                                                <f:convertNumber     pattern=",#00.00" locale="en-US" /> 
                                            </h:outputText>
                                        </div>
                                    </p:column> 
                                    <p:column   
                                        headerText="Total" width="10%" filterBy="#{entidades.interes}" sortBy="#{entidades.interes}" >                                             
                                        <div align="center">
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{entidades.interes}">
                                                <f:convertNumber     pattern=",#00.00" locale="en-US" /> 
                                            </h:outputText>
                                        </div>
                                    </p:column> 
                                </p:dataTable>
                                <br></br>
                                <p:fieldset>
                                    <p:panelGrid  style=" width: 100%;" styleClass="borderHidden" >
                                        <p:row>
                                            <p:column style=" width: 15%">
                                                <h:outputText value="Total mora:" /> 
                                            </p:column>
                                            <p:column style=" width: 85%"   >
                                                <h:outputText value="$" />
                                                <h:outputText value="#{proyectoBean.totalMoraGenerada}">
                                                    <f:convertNumber     pattern=",#00.00" locale="en-US" /> 
                                                </h:outputText>
                                            </p:column>
                                        </p:row>
                                    </p:panelGrid>
                                </p:fieldset>
                            </h:form>
                        </p:dialog>
                    </p:outputPanel>
                    <p:outputPanel  rendered="#{proyectoBean.mostrarIncobrabilidadCooperativa}" style=" width: 100%">
                        <h:form id="fAgregarIncobrabilidadCoper">
                            <p:panel id="pPagoTotal"  header="Agregar incobrabilidad"  style="width: 100%; margin: auto; margin-bottom: 20px">
                                <p:panelGrid  style="width: 100%; margin: auto;" styleClass="borderHidden">   
                                    <p:row>
                                        <p:column style=" width: 75%">
                                        </p:column>
                                        <p:column colspan="1" > 
                                            <h:outputText value="Fecha:* "/> 
                                        </p:column>
                                    </p:row>  
                                    <p:row>
                                        <p:column style=" width: 25%">
                                        </p:column>
                                        <p:column colspan="1" > 
                                            <p:calendar  id="cFecha" value="#{proyectoBean.proyectoSeleccionado.fechaIncobrabilidad}" maxdate="#{proyectoBean.hoy}" locale="es" pattern="dd/MM/yyyy" mask="true" showOn="button" navigator="true" style="width: 100%"/>
                                        </p:column>
                                    </p:row> 
                                </p:panelGrid>                             
                                <br></br>
                                <p:panelGrid  style="width: 100%; margin: auto;">   
                                    <p:row>
                                        <p:column colspan="5" style=" width: 15%; background-color:#ebedf0">
                                            <center>  <h:outputText value="Cliente"/> </center> 
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column style=" width: 15%; vertical-align:  top ">
                                            <h:outputText value="Código:"/> <br></br>
                                            <h:outputText value="NIT:"/> <br></br>
                                            <h:outputText value="Giro:"/> <br></br>
                                            
                                        </p:column>
                                        <p:column style=" width: 20%; vertical-align:  top">
                                            <h:outputText value="#{proyectoBean.entidadeleccionada.codigoClienteEntidad}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.entidadeleccionada.nitEntidad}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.entidadeleccionada.giroEntidad}"/> <br></br>
                                            
                                        </p:column>
                                        <p:column colspan="2" style=" width:15%; vertical-align:  top">
                                            <h:outputText value="Cooperativa:"/>   <br></br>
                                            
                                            <h:outputText value="Representante legal:"/>   <br></br>
                                            <h:outputText value="Nombre:"/>   <br></br>
                                        </p:column>
                                        <p:column style=" width: 50%; vertical-align:  top ">
                                            <h:outputText value="#{proyectoBean.entidadeleccionada.codigoEntidad}"/> <br></br>
                                            
                                            <h:outputText value="#{proyectoBean.entidadeleccionada.nombreRepresentanteEntidad}">
                                            </h:outputText><br></br>
                                            <h:outputText value="#{proyectoBean.entidadeleccionada.nombreEntidad}"/> 
                                        </p:column>
                                    </p:row>
                                </p:panelGrid>
                                <br></br>
                                <p:panelGrid  style="width: 100%; margin: auto;"> 
                                    <p:row>
                                        <p:column colspan="5" style=" width: 15%; background-color:#ebedf0">
                                            <center>  <h:outputText value="Credito"/> </center> 
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column style=" width: 15%; ">
                                            <h:outputText value="Código:"/> <br></br>
                                            <h:outputText value="Modalidad:"/> <br></br>
                                            <h:outputText value="Destino:"/> <br></br>
                                            <h:outputText value="Monto:"/> <br></br>
                                            <h:outputText value="Plazo (meses):"/> <br></br>
                                            <h:outputText value="Forma de pago:"/> <br></br>
                                        </p:column>
                                        <p:column style=" width: 50%">
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.codigoProyecto}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.cambiar(proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito)}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.destinoProyecto}"/> <br></br>
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.monto}">
                                                <f:convertNumber  pattern=",#00.00" locale="en-US" /> 
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.plazo}"/>  <br></br>
                                            <h:outputText value="#{proyectoBean.formaPagos}"/> <br></br>
                                        </p:column>
                                        <p:column colspan="2" style=" width:25%; ">
                                            <h:outputText value="Tasa de interés (%):"/> <br></br>
                                            <h:outputText value="Tasa de interés por mora (%):"/> <br></br>
                                            <h:outputText value="Estado:"/>   <br></br>
                                            <h:outputText value="Calificación:"/>   <br></br>
                                            <h:outputText value="Fecha de aprobación:"/> <br></br>
                                            <h:outputText value="Fecha de vencimiento:"/>   <br></br>
                                            <h:outputText value="Fecha de finalización:"/>   <br></br>
                                        </p:column>
                                        <p:column style=" width: 25%">
                                            <h:outputText value="#{proyectoBean.politicaSeleccionada.tasaInteres}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.politicaSeleccionada.tasaInteresMora}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.cambiarEstado(proyectoBean.proyectoSeleccionado.estado)}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.calificacion}">
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.fechaAprovacion}">
                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.fechaVencimientoProyecto}">
                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.fechaFinalizacionProyecto eq null? '--/--/----':proyectoBean.proyectoSeleccionado.fechaFinalizacionProyecto}"> 
                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                            </h:outputText>
                                        </p:column>
                                    </p:row>
                                </p:panelGrid>
                                <br></br>
                                <h:outputText  value="Motivo de la incobrabilidad:*"/> 
                                <p:inputTextarea style=" width: 100%" placeholder="Introduzca el motivo" value="#{proyectoBean.proyectoSeleccionado.razonIncobrabilidad}" /> 
                                <br></br>
                                <div align="center">
                                    <p:commandButton  title="Registrar" value="Guardar"  actionListener="#{proyectoBean.validarFormulario}"  update=":padding"   icon="fa fa-check" style="#{proyectoBean.btnCrear}">
                                    </p:commandButton>
                                    <p:commandButton  actionListener="#{proyectoBean.enableShowSeguimiento}" update=":padding" icon="fa fa-close" title="Cancelar" value="Cancelar" style="#{proyectoBean.btnCancelar}"> 
                                    </p:commandButton>
                                </div>
                            </p:panel>
                        </h:form>
                        <p:dialog header="Confirmar" width="25%" widgetVar="pgGuardar" modal="true"  visible="#{proyectoBean.estadoFormulario}" resizable="true" responsive="true" styleClass="ui-panelgrid-blank" appendTo="@(body)">
                            <h:form>
                                <p:outputPanel style="text-align:center;">
                                    <br></br>
                                    <p:panelGrid>
                                        <h:outputText value="¿Desea agregar esta calificación?"/>
                                    </p:panelGrid>
                                    <br></br>
                                    <hr></hr>                                 
                                    <center>
                                        <p:commandButton style="#{empleadoBean.btnNuevo}" value="Si" actionListener="#{proyectoBean.moverIncobrable()}"   oncomplete="PF('pgGuardar').hide()"  title="Cerrar" update=":padding">
                                        </p:commandButton>
                                        <p:commandButton oncomplete="PF('pgGuardar').hide()" style="#{empleadoBean.btnCancelar}"  value="No"> 
                                            <f:setPropertyActionListener value="#{false}" target="#{proyectoBean.estadoFormulario}" />
                                        </p:commandButton>
                                    </center>
                                </p:outputPanel>
                            </h:form>
                        </p:dialog>
                    </p:outputPanel>
                    <p:outputPanel  rendered="#{proyectoBean.mostrarIncobrabilidadPersona}" style=" width: 100%">
                        <h:form id="fAgregarIncobrabilidadPersona">
                            <p:panel id="pPagoTotalPersona"  header="Agregar incobrabilidad"  style="width: 100%; margin: auto; margin-bottom: 20px">
                                <p:panelGrid  style="width: 100%; margin: auto;" styleClass="borderHidden">   
                                    <p:row>
                                        <p:column style=" width: 78%">
                                        </p:column>
                                        <p:column colspan="1" > 
                                            <h:outputText value="Fecha:* "/> 
                                        </p:column>
                                    </p:row>  
                                    <p:row>
                                        <p:column style=" width: 22%">
                                        </p:column>
                                        <p:column colspan="1" > 
                                            <p:calendar  id="cFecha" value="#{proyectoBean.proyectoSeleccionado.fechaIncobrabilidad}" maxdate="#{proyectoBean.hoy}"  locale="es" pattern="dd/MM/yyyy" mask="true" showOn="button" navigator="true" style="width: 100%"/>
                                        </p:column>
                                    </p:row> 
                                </p:panelGrid>                             
                                <br></br>
                                <p:panelGrid  style="width: 100%; margin: auto;">   
                                    <p:row>
                                        <p:column colspan="5" style=" width: 15%; background-color:#ebedf0">
                                            <center>  <h:outputText value="Cliente"/> </center> 
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column style=" width: 25%; ">
                                            <h:outputText value="Código:"/> <br></br>
                                            <h:outputText value="Nombres:"/>   <br></br>
                                            <h:outputText value="Apellidos:"/>   <br></br>
                                        </p:column>
                                        <p:column style=" width: 25%">
                                            <h:outputText value="#{proyectoBean.clienteSeleccionado.codigoCliente}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.clienteSeleccionado.nombreCliente}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.clienteSeleccionado.apellidoCliente}"/>
                                        </p:column>
                                        <p:column colspan="2" style=" width:25%; ">
                                            <h:outputText value="DUI:"/> <br></br>
                                            <h:outputText value="NIT:"/>   <br></br>
                                        </p:column>
                                        <p:column style=" width: 25%">
                                            <h:outputText value="#{proyectoBean.clienteSeleccionado.duiCliente}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.clienteSeleccionado.nitCliente}">
                                            </h:outputText>
                                        </p:column>
                                    </p:row>
                                </p:panelGrid>
                                <br></br>
                                <p:panelGrid  style="width: 100%; margin: auto;"> 
                                    <p:row>
                                        <p:column colspan="5" style=" width: 15%; background-color:#ebedf0">
                                            <center>  <h:outputText value="Credito"/> </center> 
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column style=" width: 15%; ">
                                            <h:outputText value="Código:"/> <br></br>
                                            <h:outputText value="Modalidad:"/> <br></br>
                                            <h:outputText value="Destino:"/> <br></br>
                                            <h:outputText value="Monto:"/> <br></br>
                                            <h:outputText value="Plazo (meses):"/> <br></br>
                                            <h:outputText value="Forma de pago:"/> <br></br>
                                        </p:column>
                                        <p:column style=" width: 50%">
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.codigoProyecto}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.cambiar(proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito)}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.destinoProyecto}"/> <br></br>
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.monto}">
                                                <f:convertNumber  pattern=",#00.00" locale="en-US" /> 
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.plazo}"/>  <br></br>
                                            <h:outputText value="#{proyectoBean.formaPagos}"/> <br></br>
                                        </p:column>
                                        <p:column colspan="2" style=" width:25%; ">
                                            <h:outputText value="Tasa de interés (%):"/> <br></br>
                                            <h:outputText value="Tasa de interés por mora (%):"/> <br></br>
                                            <h:outputText value="Estado:"/>   <br></br>
                                            <h:outputText value="Calificación:"/>   <br></br>
                                            <h:outputText value="Fecha de aprobación:"/> <br></br>
                                            <h:outputText value="Fecha de vencimiento:"/>   <br></br>
                                            <h:outputText value="Fecha de finalización:"/>   <br></br>
                                        </p:column>
                                        <p:column style=" width: 25%">
                                            <h:outputText value="#{proyectoBean.politicaSeleccionada.tasaInteres}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.politicaSeleccionada.tasaInteresMora}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.cambiarEstado(proyectoBean.proyectoSeleccionado.estado)}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.calificacion}">
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.fechaAprovacion}">
                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.fechaVencimientoProyecto}">
                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.fechaFinalizacionProyecto eq null? '--/--/----':proyectoBean.proyectoSeleccionado.fechaFinalizacionProyecto}"> 
                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                            </h:outputText>
                                        </p:column>
                                    </p:row>
                                </p:panelGrid>
                                <p:panelGrid styleClass="companyHeaderGrid"  style="width: 100%; margin: auto;">   
                                </p:panelGrid>
                                <br></br>
                                <h:outputText  value="Motivo de la incobrabilidad:*"/> 
                                <p:inputTextarea style=" width: 100%" placeholder="Introduzca el motivo" value="#{proyectoBean.proyectoSeleccionado.razonIncobrabilidad}" /> 
                                <br></br>
                                <div align="center">
                                    <p:commandButton  title="Registrar" value="Guardar"  actionListener="#{proyectoBean.validarFormulario}"  update=":padding"   icon="fa fa-check" style="#{proyectoBean.btnCrear}">
                                    </p:commandButton>
                                    <p:commandButton  actionListener="#{proyectoBean.enableShowSeguimiento}" update=":padding" icon="fa fa-close" title="Cancelar" value="Cancelar" style="#{proyectoBean.btnCancelar}"> 
                                    </p:commandButton>
                                </div>
                            </p:panel>
                        </h:form>
                        <p:dialog header="Confirmar" width="25%" widgetVar="pgGuardar" modal="true"  visible="#{proyectoBean.estadoFormulario}" resizable="true" responsive="true" styleClass="ui-panelgrid-blank" appendTo="@(body)">
                            <h:form>
                                <p:outputPanel style="text-align:center;">
                                    <br></br>
                                    <p:panelGrid>
                                        <h:outputText value="¿Desea agregar esta calificación?"/>
                                    </p:panelGrid>
                                    <br></br>
                                    <hr></hr>                                   
                                    <center>
                                        <p:commandButton style="#{empleadoBean.btnNuevo}" value="Si" actionListener="#{proyectoBean.moverIncobrable()}"   oncomplete="PF('pgGuardar').hide()"  title="Cerrar" update=":padding">
                                        </p:commandButton>
                                        <p:commandButton oncomplete="PF('pgGuardar').hide()" style="#{empleadoBean.btnCancelar}"  value="No"> 
                                            <f:setPropertyActionListener value="#{false}" target="#{proyectoBean.estadoFormulario}" />
                                        </p:commandButton>
                                    </center>
                                </p:outputPanel>
                            </h:form>
                        </p:dialog>
                    </p:outputPanel>
                    <p:outputPanel  rendered="#{proyectoBean.mostrarPagoTotalPersona}" style=" width: 100%">
                        <h:form id="fAgregarPagoTotalPersona">
                            <p:panel id="pPagoTotalPersona"  header="Liquidar deuda"  style="width: 100%; margin: auto; margin-bottom: 20px">
                                <br></br>
                                <p:panelGrid  style="width: 100%; margin: auto;">   
                                    <p:row>
                                        <p:column colspan="5" style=" width: 15%; background-color:#ebedf0">
                                            <center>  <h:outputText value="Cliente"/> </center> 
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column style=" width: 25%; ">
                                            <h:outputText value="Código:"/> <br></br>
                                            <h:outputText value="Nombres:"/>   <br></br>
                                            <h:outputText value="Apellidos:"/>   <br></br>
                                        </p:column>
                                        <p:column style=" width: 25%">
                                            <h:outputText value="#{proyectoBean.clienteSeleccionado.codigoCliente}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.clienteSeleccionado.nombreCliente}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.clienteSeleccionado.apellidoCliente}"/>
                                        </p:column>
                                        <p:column colspan="2" style=" width:25%; ">
                                            <h:outputText value="DUI:"/> <br></br>
                                            <h:outputText value="NIT:"/>   <br></br>
                                        </p:column>
                                        <p:column style=" width: 25%">
                                            <h:outputText value="#{proyectoBean.clienteSeleccionado.duiCliente}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.clienteSeleccionado.nitCliente}">
                                            </h:outputText>
                                        </p:column>
                                    </p:row>
                                </p:panelGrid>
                                <br></br>
                                <p:panelGrid  style="width: 100%; margin: auto;"> 
                                    <p:row>
                                        <p:column colspan="5" style=" width: 15%; background-color:#ebedf0">
                                            <center>  <h:outputText value="Credito"/> </center> 
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column style=" width: 15%; ">
                                            <h:outputText value="Código:"/> <br></br>
                                            <h:outputText value="Modalidad:"/> <br></br>
                                            <h:outputText value="Destino:"/> <br></br>
                                            <h:outputText value="Monto:"/> <br></br>
                                            <h:outputText value="Plazo (meses):"/> <br></br>
                                            <h:outputText value="Forma de pago:"/> <br></br>
                                        </p:column>
                                        <p:column style=" width: 50%">
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.codigoProyecto}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.cambiar(proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito)}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.destinoProyecto}"/> <br></br>
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.monto}">
                                                <f:convertNumber  pattern=",#00.00" locale="en-US" /> 
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.plazo}"/>  <br></br>
                                            <h:outputText value="#{proyectoBean.formaPagos}"/> <br></br>
                                        </p:column>
                                        <p:column colspan="2" style=" width:25%; ">
                                            <h:outputText value="Tasa de interés (%):"/> <br></br>
                                            <h:outputText value="Tasa de interés por mora (%):"/> <br></br>
                                            <h:outputText value="Estado:"/>   <br></br>
                                            <h:outputText value="Calificación:"/>   <br></br>
                                            <h:outputText value="Fecha de aprobación:"/> <br></br>
                                            <h:outputText value="Fecha de vencimiento:"/>   <br></br>
                                            <h:outputText value="Fecha de finalización:"/>   <br></br>
                                        </p:column>
                                        <p:column style=" width: 25%">
                                            <h:outputText value="#{proyectoBean.politicaSeleccionada.tasaInteres}">
                                                <f:convertNumber     pattern=",#0.00" locale="en-US" />  
                                                
                                            </h:outputText>
                                                
                                                
                                                <br></br>
                                            <h:outputText value="#{proyectoBean.politicaSeleccionada.tasaInteresMora}">
                                                <f:convertNumber     pattern=",#0.00" locale="en-US" />  
                                                
                                            </h:outputText>
                                                <br></br>
                                            <h:outputText value="#{proyectoBean.cambiarEstado(proyectoBean.proyectoSeleccionado.estado)}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.calificacion}">
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.fechaAprovacion}">
                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.fechaVencimientoProyecto}">
                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.fechaFinalizacionProyecto eq null? '--/--/----':proyectoBean.proyectoSeleccionado.fechaFinalizacionProyecto}"> 
                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                            </h:outputText>
                                        </p:column>
                                    </p:row>
                                </p:panelGrid>
                                <br></br>
                                <p:panelGrid  style="width: 100%; margin: auto;">   
                                    <p:row>
                                        ,                                       <p:column colspan="6" style=" width: 25%; background-color: #ebedf0 "> 
                                            <center>           <h:outputText value="Ultimo pago"/> </center> 
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column style=" width: 25%">
                                            <h:outputText value="Numero de cuota:"/>   <br></br>
                                            <h:outputText value="Cuota:"/>   <br></br>
                                            <h:outputText value="Interés:"/> <br></br>
                                            <h:outputText value="Abono:"/>   <br></br>
                                        </p:column>
                                        <p:column style=" width: 25%">
                                            <h:outputText value="#{proyectoBean.numeroPagos}"/> <br></br>
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.pago.cuota}">
                                                <f:convertNumber  pattern="#00.00" locale="en-US" /> 
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.pago.interes}">
                                                <f:convertNumber  pattern=",#00.00" locale="en-US" /> 
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.pago.abono}">
                                                <f:convertNumber  pattern=",#00.00" locale="en-US" /> 
                                            </h:outputText>
                                        </p:column>
                                        <p:column colspan="2" style=" width:25%">
                                            <h:outputText value="Capital amortizado:"/>   <br></br>
                                            <h:outputText value="Saldo del capital:"/>   <br></br>
                                            <h:outputText value="Mora:"/>   <br></br>
                                            <h:outputText value="Capital+mora:"/>   <br></br>
                                        </p:column>
                                        <p:column style=" width: 25%">
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.pago.capitalamortizado}">
                                                <f:convertNumber  pattern=",#00.00" locale="en-US" /> 
                                            </h:outputText>
                                            <br></br>
                                            <b>
                                                <h:outputText value="$"/>
                                                <h:outputText value="#{proyectoBean.pago.saldocapital}">
                                                    <f:convertNumber  pattern=",#00.00" locale="en-US" /> 
                                                </h:outputText>
                                            </b>
                                            <br></br>
                                            <b>
                                                <h:outputText value="$"/>
                                                <h:outputText value="#{proyectoBean.totalMoraGenerada}">
                                                    <f:convertNumber  pattern=",#00.00" locale="en-US" /> 
                                                </h:outputText>
                                                <p:commandLink  oncomplete="PF('dgDetalle').show()"    >
                                                    <i class="fa fa-eye" aria-hidden="true"></i>
                                                </p:commandLink>
                                            </b>
                                            <br></br>
                                            <b>
                                                <h:outputText value="$"/>
                                                <h:outputText value="#{proyectoBean.totalCapitalMora}">
                                                    <f:convertNumber  pattern=",#00.00" locale="en-US" /> 
                                                </h:outputText>
                                            </b>
                                        </p:column>
                                    </p:row>
                                </p:panelGrid>
                                <br></br>
                                <div align="center">
                                    <p:commandButton  title="Registrar" value="Guardar"  actionListener="#{proyectoBean.validarFormularioPagoTotal}"  update=":padding"   icon="fa fa-check" style="#{proyectoBean.btnCrear}">
                                    </p:commandButton>
                                    <p:commandButton  actionListener="#{proyectoBean.enableShowSeguimiento}" update=":padding" icon="fa fa-close" title="Cancelar" value="Cancelar" style="#{proyectoBean.btnCancelar}"> 
                                    </p:commandButton>
                                </div>
                            </p:panel>
                        </h:form>
                        <p:dialog header="Confirmar" width="25%" widgetVar="pgGuardar" modal="true"  visible="#{proyectoBean.estadoFormularioPagoTotal}" resizable="true" responsive="true" styleClass="ui-panelgrid-blank" appendTo="@(body)">
                            <h:form>
                                <p:outputPanel style="text-align:center;">
                                    <br></br>
                                    <p:panelGrid>
                                        <h:outputText value="¿Desea agregar este pago?"/>
                                    </p:panelGrid>
                                    <br></br>
                                    <hr></hr>                                   
                                    <center>
                                        <p:commandButton style="#{empleadoBean.btnNuevo}" value="Si" actionListener="#{proyectoBean.createPagoTotal}"   oncomplete="PF('pgGuardar').hide()"  title="Cerrar" update=":padding">
                                             <f:setPropertyActionListener value="#{false}" target="#{proyectoBean.estadoFormularioPagoTotal}" />
                                      
                                        </p:commandButton>
                                        <p:commandButton oncomplete="PF('pgGuardar').hide()" style="#{empleadoBean.btnCancelar}"  value="No"> 
                                            <f:setPropertyActionListener value="#{false}" target="#{proyectoBean.estadoFormularioPagoTotal}" />
                                        </p:commandButton>
                                    </center>
                                </p:outputPanel>
                            </h:form>
                        </p:dialog>
                        <p:dialog header="Detalles de mora" width="60%" widgetVar="dgDetalle" modal="true"   resizable="true" responsive="true" styleClass="ui-panelgrid-blank" appendTo="@(body)">
                            <h:form>
                                <b> <h:outputText value="Lista de cuotas retrasadas "/>
                                </b>
                                <hr></hr>
                                <p:dataTable  id="basicMora" var="entidades" widgetVar="cuotasData" value="#{proyectoBean.listaPagosMora}"
                                              style="width: 100%;"
                                              paginator="true"
                                              rows="5"
                                              paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                              rowsPerPageTemplate="5,10,15"
                                              currentPageReportTemplate="Mostrando {startRecord}-{endRecord} de {totalRecords}"
                                              paginatorPosition="bottom"
                                              emptyMessage="No se encontraron cuotas retrasadas" rowIndexVar="No" 
                                              >
                                    <p:column   
                                        headerText="Nº" width="5%" style="text-align: center" >                                             
                                        <h:outputText value="#{No+1}"  />  
                                    </p:column> 
                                   <p:column   
                                        headerText="Fecha de pago" width="10%" filterBy="#{entidades.fecha}" sortBy="#{entidades.fecha}" >                                             
                                        <div align="center">
                                            <h:outputText value="#{entidades.fecha}">
                                                <f:convertDateTime pattern="dd/MM/YYYY"/>
                                            </h:outputText>
                                        </div>
                                    </p:column> 
                                    <p:column   
                                        headerText="Dias de retraso" width="10%" filterBy="#{entidades.idpago}" sortBy="#{entidades.idpago}" >                                             
                                        <div align="center">
                                            <h:outputText value="#{entidades.idpago}">
                                            </h:outputText>
                                        </div>
                                    </p:column> 
                                    <p:column   
                                        headerText="Cuota" width="10%" filterBy="#{entidades.cuota}" sortBy="#{entidades.cuota}" >                                             
                                        <div align="center">
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{entidades.cuota}">
                                                <f:convertNumber     pattern=",#00.00" locale="en-US" /> 
                                            </h:outputText>
                                        </div>
                                    </p:column> 
                                    <p:column   
                                        headerText="Mora" width="10%" filterBy="#{entidades.abono}" sortBy="#{entidades.abono}" >                                             
                                        <div align="center">
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{entidades.abono}">
                                                <f:convertNumber     pattern=",#00.00" locale="en-US" /> 
                                            </h:outputText>
                                        </div>
                                    </p:column> 
                                    <p:column   
                                        headerText="Total" width="10%" filterBy="#{entidades.interes}" sortBy="#{entidades.interes}" >                                             
                                        <div align="center">
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{entidades.interes}">
                                                <f:convertNumber     pattern=",#00.00" locale="en-US" /> 
                                            </h:outputText>
                                        </div>
                                    </p:column> 
                                </p:dataTable>
                                <br></br>
                                <p:fieldset>
                                    <p:panelGrid  style=" width: 100%;" styleClass="borderHidden" >
                                        <p:row>
                                            <p:column style=" width: 15%">
                                                <h:outputText value="Total mora:" /> 
                                            </p:column>
                                            <p:column style=" width: 85%"   >
                                                <h:outputText value="$" />
                                                <h:outputText value="#{proyectoBean.totalMoraGenerada}">
                                                    <f:convertNumber     pattern=",#00.00" locale="en-US" /> 
                                                </h:outputText>
                                            </p:column>
                                        </p:row>
                                    </p:panelGrid>
                                </p:fieldset>
                            </h:form>
                        </p:dialog>
                    </p:outputPanel>
                    <p:outputPanel  rendered="#{proyectoBean.mostrarRefinanciamientoCooperativa}" style=" width: 100%">
                        <h:form id="fAgregarRefinanciamientoCooperativa" target="_blank">
                            <p:panel id="pRefinaciamiento"  header="Historial de pagos"  style="width: 100%; margin: auto; margin-bottom: 20px">
                                <br></br>
                                <p:panelGrid  style="width: 100%; margin: auto;">   
                                    <p:row>
                                        <p:column colspan="5" style=" width: 15%; background-color:#ebedf0">
                                            <center>  <h:outputText value="Cliente"/> </center> 
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column style=" width: 15%; vertical-align:  top">
                                            <h:outputText value="Código:"/> <br></br>
                                            <h:outputText value="NIT:"/> <br></br>
                                            <h:outputText value="Giro:"/> <br></br>
                                            
                                        </p:column>
                                        <p:column style=" width: 20%; vertical-align:  top">
                                            <h:outputText value="#{proyectoBean.entidadeleccionada.codigoClienteEntidad}"/> <br></br>                                            
                                            <h:outputText value="#{proyectoBean.entidadeleccionada.nitEntidad}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.entidadeleccionada.giroEntidad}"/> <br></br>
                                        </p:column>
                                        <p:column colspan="2" style=" width:15%; vertical-align:  top">
                                            <h:outputText value="Cooperativa:"/>   <br></br>
                                            
                                            <h:outputText value="Representante legal:"/>   <br></br>
                                            <h:outputText value="Nombre:"/>   <br></br>
                                        </p:column>
                                        <p:column style=" width: 50%; vertical-align:  top">
                                            <h:outputText value="#{proyectoBean.entidadeleccionada.codigoEntidad}"/> <br></br>
                                            
                                            <h:outputText value="#{proyectoBean.entidadeleccionada.nombreRepresentanteEntidad}">
                                            </h:outputText><br></br>
                                            <h:outputText value="#{proyectoBean.entidadeleccionada.nombreEntidad}"/> 
                                        </p:column>
                                    </p:row>
                                </p:panelGrid>
                                <br></br>
                                <p:panelGrid  style="width: 100%; margin: auto;"> 
                                    <p:row>
                                        <p:column colspan="5" style=" width: 15%; background-color:#ebedf0">
                                            <center>  <h:outputText value="Credito"/> </center> 
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column style=" width: 15%; ">
                                            <h:outputText value="Código:"/> <br></br>
                                            <h:outputText value="Modalidad:"/> <br></br>
                                            <h:outputText value="Destino:"/> <br></br>
                                            <h:outputText value="Monto:"/> <br></br>
                                            <h:outputText value="Plazo (meses):"/> <br></br>
                                            <h:outputText value="Forma de pago:"/> <br></br>
                                        </p:column>
                                        <p:column style=" width: 50%">
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.codigoProyecto}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.cambiar(proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito)}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.destinoProyecto}"/> <br></br>
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.monto}">
                                                <f:convertNumber  pattern=",#00.00" locale="en-US" /> 
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.plazo}"/>  <br></br>
                                            <h:outputText value="#{proyectoBean.formaPagos}"/> <br></br>
                                        </p:column>
                                        <p:column colspan="2" style=" width:25%; ">
                                            <h:outputText value="Tasa de interés (%):"/> <br></br>
                                            <h:outputText value="Tasa de interés por mora (%):"/> <br></br>
                                            <h:outputText value="Estado:"/>   <br></br>
                                            <h:outputText value="Calificación:"/>   <br></br>
                                            <h:outputText value="Fecha de aprobación:"/> <br></br>
                                            <h:outputText value="Fecha de vencimiento:"/>   <br></br>
                                            <h:outputText value="Fecha de finalización:"/>   <br></br>
                                        </p:column>
                                        <p:column style=" width: 25%">
                                            <h:outputText value="#{proyectoBean.politicaSeleccionada.tasaInteres}">
                                                
                                                 <f:convertNumber    pattern=",#0.00" locale="en-US" /> 
                                            </h:outputText>
                                                <br></br>
                                            <h:outputText value="#{proyectoBean.politicaSeleccionada.tasaInteresMora}">
                                                 <f:convertNumber    pattern=",#0.00" locale="en-US" /> 
                                            </h:outputText>
                                                <br></br>
                                            <h:outputText value="#{proyectoBean.cambiarEstado(proyectoBean.proyectoSeleccionado.estado)}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.calificacion}">
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.fechaAprovacion}">
                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.fechaVencimientoProyecto}">
                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.fechaFinalizacionProyecto eq null? '--/--/----':proyectoBean.proyectoSeleccionado.fechaFinalizacionProyecto}"> 
                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                            </h:outputText>
                                        </p:column>
                                    </p:row>
                                </p:panelGrid>
                                <br></br>
                                <b> <h:outputText value="Lista de pagos"/>
                                </b>
                                <hr></hr>
                                <p:dataTable  id="basicDB" var="entidades" widgetVar="produrTable"  paginator="true" rows="10" value="#{proyectoBean.listaPagos}"
                                              paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                              paginatorPosition="bottom" style="width: 100%; font-size:  small "
                                              currentPageReportTemplate="Mostrando {startRecord}-{endRecord} de {totalRecords}"
                                              rowIndexVar="No"  rowsPerPageTemplate="5,10,15" emptyMessage="No se encontraron pagos" 
                                              >
                                    <p:column   
                                        headerText="Nº" width="5%" style="text-align: center" >                                             
                                        <h:outputText value="#{No+1}"  />  
                                    </p:column> 
                                    <p:column   
                                        headerText="Fecha" width="10%" >      
                                        <div style=" text-align: center"> 
                                            <h:outputText value="#{entidades.fecha}"  >
                                                <f:convertDateTime pattern="dd/MM/YYYY"/>
                                            </h:outputText>
                                        </div>
                                    </p:column> 
                                    <p:column headerText="Cuota"  width="10%" sortBy="#{entidades.cuota}" > 
                                        <div style=" text-align: right"> 
                                            <h:outputText value="$" />
                                            <h:outputText value="#{entidades.cuota}">                                            
                                                <f:convertNumber     pattern=",#00.00" locale="en-US" />                                             
                                            </h:outputText>
                                        </div>
                                    </p:column>  
                                    <p:column  headerText="Interés"  width="10%" sortBy="#{entidades.interes}"  
                                               >  
                                        <div style=" text-align: right"> 
                                            <h:outputText value="$" />
                                            <h:outputText value="#{entidades.interes}">                                            
                                                <f:convertNumber     pattern=",#00.00" locale="en-US" />                                             
                                            </h:outputText>
                                        </div>
                                    </p:column> 
                                    <p:column headerText="Abono a capital"  width="10%" sortBy="#{entidades.abono}" 
                                              >  
                                        <div style=" text-align: right"> 
                                            <h:outputText value="$" />
                                            <h:outputText value="#{entidades.abono}">                                            
                                                <f:convertNumber     pattern=",#00.00" locale="en-US" />                                             
                                            </h:outputText>
                                        </div>
                                    </p:column> 
                                    <p:column headerText="Capital amortizado"  width="15%" sortBy="#{entidades.capitalamortizado}" 
                                              >  
                                        <div style=" text-align: right"> 
                                            <h:outputText value="$" />
                                            <h:outputText value="#{entidades.capitalamortizado}">                                            
                                                <f:convertNumber     pattern=",#00.00" locale="en-US" />                                             
                                            </h:outputText>
                                        </div>
                                    </p:column>
                                    <p:column headerText="Saldo de capital"  width="10%" sortBy="#{entidades.saldocapital}">  
                                        <div style=" text-align: right"> 
                                            <h:outputText value="$" />
                                            <h:outputText value="#{entidades.saldocapital}">                                            
                                                <f:convertNumber     pattern=",#00.00" locale="en-US" />                                             
                                            </h:outputText>
                                        </div>
                                    </p:column>
                                    <p:column headerText="" style="text-align: center" width="6%"  >  
                                        <p:splitButton  update=":padding" oncomplete="PF('pgDetallePago').show()"   icon="fa fa-eye">                                                
                                            <f:setPropertyActionListener  value="#{entidades}" target="#{proyectoBean.pagoSeleccionado}"  />
                                            <f:setPropertyActionListener  value="#{No+1}" target="#{proyectoBean.numeroSeleccion}"  />
                                            <p:menuitem rendered="#{(No+1) eq proyectoBean.numeroTotalPagos}"  update=":padding"  oncomplete="PF('pgEliminar').show()" icon="fa fa-minus" value="Eliminar"    >
                                                <f:setPropertyActionListener  value="#{entidades}" target="#{proyectoBean.pagoSeleccionado}"  />
                                            </p:menuitem>                                              
                                        </p:splitButton>
                                    </p:column> 
                                </p:dataTable>
                                
                                <br></br>        
                                       <p:outputPanel rendered="#{proyectoBean.proyectoSeleccionado.estado eq 6 or proyectoBean.proyectoSeleccionado.estado eq 7 }">
                                               
                                                <p:fieldset >
                                                    <p:panelGrid   style=" width: 55%;" styleClass="borderHidden" >
                                                        <p:row>
                                                            <p:column style=" width: 5%">
                                                                <h:outputText value="Total pagado:" /> 
                                                            </p:column>
                                                            <p:column style=" width: 10%"   >
                                                                <h:outputText value="$" />
                                                                <h:outputText value="#{proyectoBean.totalGeneral}">
                                                                    <f:convertNumber     pattern=",#00.00" locale="en-US" /> 
                                                                </h:outputText>
                                                            </p:column>
                                                            <p:column style=" width: 10%">
                                                                <h:outputText value="Interés generado:" /> 
                                                            </p:column>
                                                            <p:column style=" width: 10%"   >
                                                                <h:outputText value="$" />
                                                                <h:outputText value="#{proyectoBean.totalInteres}">
                                                                    <f:convertNumber     pattern=",#00.00" locale="en-US" /> 
                                                                </h:outputText>
                                                            </p:column>
                                                        </p:row>
                                                    </p:panelGrid>
                                                </p:fieldset>   
                                            </p:outputPanel> 
                                
                                
                                <br></br>
                                <div align="center">
                                    <p:splitButton ajax="false" update=":padding"  icon="fa fa-eye" value="Ver pagos PDF">
                                        <f:actionListener binding="#{proyectoBean.verReportePagosCooperativa()}"/> 
                                        <p:menuitem  ajax="false" update=":padding"  icon="fa fa-download" value="Descargar pagos PDF">
                                            <f:actionListener binding="#{proyectoBean.verReportePagosCooperativaPDF()}"/>                                       
                                        </p:menuitem>
                                        <p:menuitem    actionListener="#{proyectoBean.enableShowSeguimiento}" update=":padding"  icon="fa fa-arrow-left" value="Volver">
                                        </p:menuitem>
                                    </p:splitButton>
                                </div>
                            </p:panel>
                        </h:form>
                        <p:dialog header="Confirmar" width="25%" widgetVar="pgEliminar" modal="true"  resizable="true" responsive="true" styleClass="ui-panelgrid-blank" appendTo="@(body)">
                            <h:form>
                                <p:outputPanel style="text-align:center;">
                                    <br></br>
                                    <p:panelGrid>
                                        <h:outputText value="¿Desea eliminar este pago?"/>
                                    </p:panelGrid>
                                    <br></br>
                                    <hr></hr>                                   
                                    <center>
                                        <p:commandButton style="#{empleadoBean.btnNuevo}" value="Si" actionListener="#{proyectoBean.eliminarPago()}"   oncomplete="PF('pgEliminar').hide()"  title="Cerrar" update=":padding">
                                        </p:commandButton>
                                        <p:commandButton oncomplete="PF('pgEliminar').hide()" style="#{empleadoBean.btnCancelar}"  value="No"> 
                                            <f:setPropertyActionListener value="#{false}" target="#{proyectoBean.estadoFormulario}" />
                                        </p:commandButton>
                                    </center>
                                </p:outputPanel>
                            </h:form>
                        </p:dialog>
                        <p:dialog header="Detalle del pago" width="50%" widgetVar="pgDetallePago" modal="true" resizable="true" responsive="true" styleClass="ui-panelgrid-blank" appendTo="@(body)">
                            <h:form target="_blank">
                                <p:panelGrid  style=" width: 100%;" >
                                    <p:row>
                                        <p:column style=" width: 25%"   >
                                            <h:outputText value="Numero:"/>
                                        </p:column>
                                        <p:column style=" width: 25%"  >
                                            <h:outputText value="#{proyectoBean.numeroSeleccion}"/>
                                        </p:column>
                                        <p:column style=" width: 25%"   >
                                            <h:outputText value="Fecha:"/>
                                        </p:column>
                                        <p:column style=" width: 25%"   >
                                            <h:outputText value="#{proyectoBean.pagoSeleccionado.fecha}">
                                                <f:convertDateTime pattern="dd/MM/YYYY"/>
                                            </h:outputText>
                                        </p:column>
                                    </p:row> 
                                    <p:row>
                                        <p:column style=" width: 25%"   >
                                            <h:outputText value="Cuota:"/>
                                        </p:column>
                                        <p:column style=" width: 25%"  >
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.pagoSeleccionado.cuota}">
                                                <f:convertNumber     pattern=",#00.00" locale="en-US" />                                             
                                            </h:outputText>
                                        </p:column>
                                        <p:column style=" width: 25%"   >
                                            <h:outputText value="Interés:"/>
                                        </p:column>
                                        <p:column style=" width: 25%"   >
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.pagoSeleccionado.interes}">
                                                <f:convertNumber     pattern=",#00.00" locale="en-US" />                                             
                                            </h:outputText>
                                        </p:column>
                                    </p:row> 
                                    <p:row>
                                        <p:column style=" width: 25%"   >
                                            <h:outputText value="Abono a capital:"/>
                                        </p:column>
                                        <p:column style=" width: 25%"  >
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.pagoSeleccionado.abono}">
                                                <f:convertNumber     pattern=",#00.00" locale="en-US" />                                             
                                            </h:outputText>
                                        </p:column>
                                        <p:column style=" width: 25%"   >
                                            <h:outputText value="Capital amortizado:"/>
                                        </p:column>
                                        <p:column style=" width: 25%"   >
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.pagoSeleccionado.capitalamortizado}">
                                                <f:convertNumber     pattern=",#00.00" locale="en-US" />                                             
                                            </h:outputText>
                                        </p:column>
                                    </p:row> 
                                    <p:row>
                                        <p:column style=" width: 15%"   >
                                            <h:outputText value="Saldo de capital:"/>
                                        </p:column>
                                        <p:column style=" width: 15%"  >
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.pagoSeleccionado.saldocapital}">
                                                <f:convertNumber     pattern=",#00.00" locale="en-US" />                                             
                                            </h:outputText>
                                        </p:column>
                                        <p:column style=" width: 15%"   >
                                            <h:outputText value="Mora:"/>
                                        </p:column>
                                        <p:column style=" width: 55%"   >
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.pagoSeleccionado.mora}">
                                                <f:convertNumber     pattern=",#00.00" locale="en-US" />                                             
                                            </h:outputText>
                                        </p:column>
                                    </p:row> 
                                    <p:row>
                                        <p:column style=" width: 15%"   >
                                            <h:outputText value="Saldo adicional:"/>
                                        </p:column>
                                        <p:column style=" width: 15%"  >
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.pagoSeleccionado.saldoadicional}">
                                                <f:convertNumber     pattern=",#00.00" locale="en-US" />                                             
                                            </h:outputText>
                                        </p:column>
                                        <p:column style=" width: 15%"   >
                                            <h:outputText value="Destino:"/>
                                        </p:column>
                                        <p:column style=" width: 55%"   >
                                            <h:outputText value="#{proyectoBean.pagoSeleccionado.destino}"/>
                                        </p:column>
                                    </p:row> 
                                </p:panelGrid>
                                <br></br>
                                <div align="center">
                                    <p:splitButton ajax="false" update=":padding"  icon="fa fa-file-text" value="Ver recibo PDF">
                                        <f:actionListener binding="#{proyectoBean.generarRecibo()}"/>
                                        <p:menuitem  ajax="false" update=":padding"  icon="fa fa-download" value="Descargar recibo PDF">
                                            <f:actionListener binding="#{proyectoBean.generarReciboPDF()}"/>                                       
                                        </p:menuitem>
                                    </p:splitButton>
                                </div>
                            </h:form>
                        </p:dialog>
                    </p:outputPanel>
                    <p:outputPanel  rendered="#{proyectoBean.mostrarDesembolsos}" style=" width: 100%">
                        <h:form id="fHistorial" target="_blank">
                            <p:panel id="pRefinaciamiento"  header="Historial de desembolsos"  style="width: 100%; margin: auto; margin-bottom: 20px">
                                <br></br>
                                <p:panelGrid rendered="#{proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito eq 2 or proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito eq 3 }"  style="width: 100%; margin: auto;">   
                                    <p:row>
                                        <p:column colspan="5" style=" width: 15%; background-color:#ebedf0">
                                            <center>  <h:outputText value="Cliente"/> </center> 
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column style=" width: 15%; vertical-align:  top">
                                            <h:outputText value="Código:"/> <br></br>
                                           <h:outputText value="NIT:"/> <br></br>
                                            <h:outputText value="Giro:"/> <br></br>
                                            
                                        </p:column>
                                        <p:column style=" width: 20%; vertical-align:  top">
                                            <h:outputText value="#{proyectoBean.entidadeleccionada.codigoClienteEntidad}"/> <br></br>
                                            
                                            <h:outputText value="#{proyectoBean.entidadeleccionada.nitEntidad}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.entidadeleccionada.giroEntidad}"/> <br></br>
                                        </p:column>
                                        <p:column colspan="2" style=" width:15%; vertical-align:  top">
                                            <h:outputText value="Cooperativa:"/>   <br></br>
                                           
                                            <h:outputText value="Representante legal:"/>   <br></br>
                                             <h:outputText value="Nombre:"/>   <br></br>
                                        </p:column>
                                        <p:column style=" width: 50%; vertical-align:  top">
                                            <h:outputText value="#{proyectoBean.entidadeleccionada.codigoEntidad}"/> <br></br>
                                            
                                            <h:outputText value="#{proyectoBean.entidadeleccionada.nombreRepresentanteEntidad}">
                                            </h:outputText> <br></br>
                                            <h:outputText value="#{proyectoBean.entidadeleccionada.nombreEntidad}"/>
                                        </p:column>
                                    </p:row>
                                </p:panelGrid>
                                <p:panelGrid rendered="#{proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito ne 2 and proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito ne 3 }"  style="width: 100%; margin: auto;">   
                                    <p:row>
                                        <p:column colspan="5" style=" width: 15%; background-color:#ebedf0">
                                            <center>  <h:outputText value="Cliente"/> </center> 
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column style=" width: 25%; ">
                                            <h:outputText value="Código:"/> <br></br>
                                            <h:outputText value="Nombres:"/>   <br></br>
                                            <h:outputText value="Apellidos:"/>   <br></br>
                                        </p:column>
                                        <p:column style=" width: 25%">
                                            <h:outputText value="#{proyectoBean.clienteSeleccionado.codigoCliente}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.clienteSeleccionado.nombreCliente}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.clienteSeleccionado.apellidoCliente}"/>
                                        </p:column>
                                        <p:column colspan="2" style=" width:25%; ">
                                            <h:outputText value="DUI:"/> <br></br>
                                            <h:outputText value="NIT:"/>   <br></br>
                                        </p:column>
                                        <p:column style=" width: 25%">
                                            <h:outputText value="#{proyectoBean.clienteSeleccionado.duiCliente}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.clienteSeleccionado.nitCliente}">
                                            </h:outputText>
                                        </p:column>
                                    </p:row>
                                </p:panelGrid>
                                <br></br>
                                <p:panelGrid  style="width: 100%; margin: auto;"> 
                                    <p:row>
                                        <p:column colspan="5" style=" width: 15%; background-color:#ebedf0">
                                            <center>  <h:outputText value="Credito"/> </center> 
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column style=" width: 15%; ">
                                            <h:outputText value="Código:"/> <br></br>
                                            <h:outputText value="Modalidad:"/> <br></br>
                                            <h:outputText value="Destino:"/> <br></br>
                                            <h:outputText value="Monto:"/> <br></br>
                                            <h:outputText value="Plazo (meses):"/> <br></br>
                                            <h:outputText value="Forma de pago:"/> <br></br>
                                        </p:column>
                                        <p:column style=" width: 50%">
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.codigoProyecto}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.tipo}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.destinoProyecto}"/> <br></br>
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.monto}">
                                                <f:convertNumber  pattern=",#00.00" locale="en-US" /> 
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.plazo}"/>  <br></br>
                                            <h:outputText value="#{proyectoBean.formaPagos}"/> <br></br>
                                        </p:column>
                                        <p:column colspan="2" style=" width:25%; ">
                                            <h:outputText value="Tasa de interés (%):"/> <br></br>
                                            <h:outputText value="Tasa de interés por mora (%):"/> <br></br>
                                            <h:outputText value="Estado:"/>   <br></br>
                                            <h:outputText value="Calificación:"/>   <br></br>
                                            <h:outputText value="Fecha de aprobación:"/> <br></br>
                                            <h:outputText value="Fecha de vencimiento:"/>   <br></br>
                                            <h:outputText value="Fecha de finalización:"/>   <br></br>
                                        </p:column>
                                        <p:column style=" width: 25%">
                                            <h:outputText value="#{proyectoBean.politicaSeleccionada.tasaInteres}"
                                                           >
                                                           <f:convertNumber     pattern=",#0.00" locale="en-US" />  
                                                         
                                                
                                            </h:outputText>
                                                <br></br>
                                            <h:outputText value="#{proyectoBean.politicaSeleccionada.tasaInteresMora}"
                                                          
                                                          >
                                                  <f:convertNumber     pattern=",#0.00" locale="en-US" />
                                                  
                                            </h:outputText>
                                                <br></br>
                                            <h:outputText value="#{proyectoBean.estadoProyecto}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.calificacion}">
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.fechaAprovacion}">
                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.fechaVencimientoProyecto eq null? '--/--/----':proyectoBean.proyectoSeleccionado.fechaVencimientoProyecto}">
                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.fechaFinalizacionProyecto eq null? '--/--/----':proyectoBean.proyectoSeleccionado.fechaFinalizacionProyecto}"> 
                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                            </h:outputText>
                                        </p:column>
                                    </p:row>
                                </p:panelGrid>
                                <br></br>
                                <b> <h:outputText value="Lista de desembolsos"/>
                                </b>
                                <hr></hr>
                                <p:dataTable  id="basicDB" var="entidades" widgetVar="produrTable"  paginator="true" rows="12" value="#{proyectoBean.listaDesembolso}"
                                              paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                              paginatorPosition="bottom" style="width: 100%;"
                                              currentPageReportTemplate="Mostrando {startRecord}-{endRecord} de {totalRecords}"
                                              rowIndexVar="No" rowsPerPageTemplate="5,10,15" emptyMessage="No se encontraron desembolsos" 
                                              >
                                    <p:column   
                                        headerText="Nº" width="5%" style="text-align: center" >                                             
                                        <h:outputText value="#{No+1}"  />  
                                    </p:column> 
                                    <p:column   
                                        headerText="Fecha de realización" width="40%" >   
                                        <div style=" text-align: center">
                                            <h:outputText value="#{entidades.fechaDesembolso}">
                                                <f:convertDateTime pattern="dd/MM/YYYY"/>
                                            </h:outputText>
                                        </div>
                                    </p:column> 
                                    <p:column headerText="Cantidad"  width="40%"  >  
                                        <div style=" text-align: right">
                                            <h:outputText value="$"/> 
                                            <h:outputText value="#{entidades.montoDesembolso}"> 
                                                <f:convertNumber     pattern=",#00.00" locale="en-US" />  
                                            </h:outputText>
                                        </div>
                                    </p:column> 
                                    <p:column headerText="" style="text-align: center" width="9%"  >  
                                        <p:splitButton ajax="false" update=":padding"   icon="fa fa-eye">                                                
                                            <f:setPropertyActionListener  value="#{entidades}" target="#{proyectoBean.desembolsoSeleccionado}"  />
                                            <f:actionListener binding="#{proyectoBean.generarDesembolsoPersona()}"/>
                                            <p:menuitem rendered="#{(No+1) eq proyectoBean.numeroTotalDesembolsos}"  update=":padding"  oncomplete="PF('pgEliminarDesembolso').show()" icon="fa fa-minus" value="Eliminar"    >
                                                <f:setPropertyActionListener  value="#{entidades}" target="#{proyectoBean.desembolsoSeleccionado}"  />
                                            </p:menuitem>                                              
                                        </p:splitButton>
                                    </p:column> 
                                </p:dataTable>
                                <br></br>
                                <p:fieldset>
                                    <p:panelGrid  style=" width: 100%;" styleClass="borderHidden" >
                                        <p:row>
                                            <p:column style=" width: 15%">
                                                <h:outputText value="Total desembolsos:" /> 
                                            </p:column>
                                            <p:column style=" width: 85%"   >
                                                <h:outputText value="$" />
                                                <h:outputText value="#{proyectoBean.totalDesembolsos}">
                                                    <f:convertNumber     pattern=",#00.00" locale="en-US" /> 
                                                </h:outputText>
                                            </p:column>
                                        </p:row>
                                    </p:panelGrid>
                                </p:fieldset>            
                                <br></br>
                                <div align="center">
                                    <p:splitButton rendered="#{proyectoBean.proyectoSeleccionado.estado gt 4}"  update=":padding" value="Ver constancia PDF "  ajax="false" icon="fa fa-eye"  >
                                        <f:actionListener binding="#{proyectoBean.generarLiquidacion()}"/>
                                        <p:menuitem  ajax="false" update=":padding"  icon="fa fa-download" value="Descargar constancia PDF ">
                                            <f:actionListener binding="#{proyectoBean.generarLiquidacionPDF()}"/> 
                                        </p:menuitem>                                        
                                        <p:menuitem rendered="#{proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito ne 2 and proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito  ne 3}"  ajax="false" update=":padding"  icon="fa fa-eye" value="Ver desembolsos">
                                            <f:actionListener binding="#{proyectoBean.verDesembolsosPersonas()}"/> 
                                        </p:menuitem>
                                        <p:menuitem rendered="#{proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito eq 2 or proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito  eq 3}"  ajax="false" update=":padding"  icon="fa fa-eye" value="Ver desembolsos">
                                            <f:actionListener binding="#{proyectoBean.verDesembolsosCooperativa()}"/> 
                                        </p:menuitem>
                                        <p:menuitem rendered="#{proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito ne 2 and proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito  ne 3}" ajax="false" update=":padding"  icon="fa fa-download" value="Descargar desembolsos PDF">
                                            <f:actionListener binding="#{proyectoBean.verDesembolsosPersonasPDF()}"/>                                       
                                        </p:menuitem>
                                        <p:menuitem rendered="#{proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito eq 2 or proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito  eq 3}"  ajax="false" update=":padding"  icon="fa fa-download" value="Descargar desembolsos PDF">
                                            <f:actionListener binding="#{proyectoBean.verDesembolsosCooperativaPDF()}"/>                                       
                                        </p:menuitem>
                                        <p:menuitem   update=":padding" actionListener="#{proyectoBean.enableShowSeguimiento}"  icon="fa fa-arrow-left" value="Volver">
                                        </p:menuitem>
                                    </p:splitButton>
                                  
                                </div>
                            </p:panel>
                        </h:form>
                        <p:dialog header="Confirmar" width="25%" widgetVar="pgEliminarDesembolso" modal="true"  resizable="true" responsive="true" styleClass="ui-panelgrid-blank" appendTo="@(body)">
                            <h:form>
                                <p:outputPanel style="text-align:center;">
                                    <br></br>
                                    <p:panelGrid>
                                        <h:outputText value="¿Desea eliminar este desembolso?"/>
                                    </p:panelGrid>
                                    <br></br>
                                    <hr></hr>                                   
                                    <center>
                                        <p:commandButton style="#{empleadoBean.btnNuevo}" value="Si" actionListener="#{proyectoBean.eliminarDesembolso()}"   oncomplete="PF('pgEliminarDesembolso').hide()"  title="Cerrar" update=":padding">
                                        </p:commandButton>
                                        <p:commandButton oncomplete="PF('pgEliminarDesembolso').hide()" style="#{empleadoBean.btnCancelar}"  value="No"> 
                                        </p:commandButton>
                                    </center>
                                </p:outputPanel>
                            </h:form>
                        </p:dialog>
                    </p:outputPanel>
                    <p:outputPanel  rendered="#{proyectoBean.mostrarRefinanciamientoPersona}" style=" width: 100%">
                        <h:form id="fAgregarRefinanciamientoPersona" target="_blank">
                            <p:panel id="pRefinaciamientoP"  header="Historial de pagos"  style="width: 100%; margin: auto; margin-bottom: 20px">
                                <p:panelGrid  style="width: 100%; margin: auto;">   
                                    <p:row>
                                        <p:column colspan="5" style=" width: 15%; background-color:#ebedf0">
                                            <center>  <h:outputText value="Cliente"/> </center> 
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column style=" width: 25%; ">
                                            <h:outputText value="Código:"/> <br></br>
                                            <h:outputText value="Nombres:"/>   <br></br>
                                            <h:outputText value="Apellidos:"/>   <br></br>
                                        </p:column>
                                        <p:column style=" width: 25%">
                                            <h:outputText value="#{proyectoBean.clienteSeleccionado.codigoCliente}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.clienteSeleccionado.nombreCliente}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.clienteSeleccionado.apellidoCliente}"/>
                                        </p:column>
                                        <p:column colspan="2" style=" width:25%; ">
                                            <h:outputText value="DUI:"/> <br></br>
                                            <h:outputText value="NIT:"/>   <br></br>
                                        </p:column>
                                        <p:column style=" width: 25%">
                                            <h:outputText value="#{proyectoBean.clienteSeleccionado.duiCliente}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.clienteSeleccionado.nitCliente}">
                                            </h:outputText>
                                        </p:column>
                                    </p:row>
                                </p:panelGrid>
                                <br></br>
                                <p:panelGrid  style="width: 100%; margin: auto;"> 
                                    <p:row>
                                        <p:column colspan="5" style=" width: 15%; background-color:#ebedf0">
                                            <center>  <h:outputText value="Credito"/> </center> 
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column style=" width: 15%; ">
                                            <h:outputText value="Código:"/> <br></br>
                                            <h:outputText value="Modalidad:"/> <br></br>
                                            <h:outputText value="Destino:"/> <br></br>
                                            <h:outputText value="Monto:"/> <br></br>
                                            <h:outputText value="Plazo (meses):"/> <br></br>
                                            <h:outputText value="Forma de pago:"/> <br></br>
                                        </p:column>
                                        <p:column style=" width: 50%">
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.codigoProyecto}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.cambiar(proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito)}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.destinoProyecto}"/> <br></br>
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.monto}">
                                                <f:convertNumber  pattern=",#00.00" locale="en-US" /> 
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.plazo}"/>  <br></br>
                                            <h:outputText value="#{proyectoBean.formaPagos}"/> <br></br>
                                        </p:column>
                                        <p:column colspan="2" style=" width:25%; ">
                                            <h:outputText value="Tasa de interés (%):"/> <br></br>
                                            <h:outputText value="Tasa de interés por mora (%):"/> <br></br>
                                            <h:outputText value="Estado:"/>   <br></br>
                                            <h:outputText value="Calificación:"/>   <br></br>
                                            <h:outputText value="Fecha de aprobación:"/> <br></br>
                                            <h:outputText value="Fecha de vencimiento:"/>   <br></br>
                                            <h:outputText value="Fecha de finalización:"/>   <br></br>
                                        </p:column>
                                        <p:column style=" width: 25%">
                                            <h:outputText value="#{proyectoBean.politicaSeleccionada.tasaInteres}">
                                                 <f:convertNumber    pattern=",#0.00" locale="en-US" /> 
                                            </h:outputText>
                                                
                                                <br></br>
                                            <h:outputText value="#{proyectoBean.politicaSeleccionada.tasaInteresMora}">
                                                 <f:convertNumber    pattern=",#0.00" locale="en-US" /> 
                                            </h:outputText>
                                                
                                                <br></br>
                                            <h:outputText value="#{proyectoBean.cambiarEstado(proyectoBean.proyectoSeleccionado.estado)}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.calificacion}">
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.fechaAprovacion}">
                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.fechaVencimientoProyecto}">
                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.fechaFinalizacionProyecto eq null? '--/--/----':proyectoBean.proyectoSeleccionado.fechaFinalizacionProyecto}"> 
                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                            </h:outputText>
                                        </p:column>
                                    </p:row>
                                </p:panelGrid>
                                <br></br>
                                <b> <h:outputText value="Lista de pagos"/>
                                </b>
                                <hr></hr>
                                <p:dataTable  id="basicDB" var="entidades" widgetVar="produrTable"  paginator="true" rows="10" value="#{proyectoBean.listaPagos}"
                                              paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                              paginatorPosition="bottom" style="width: 100%; font-size:  small "
                                              currentPageReportTemplate="Mostrando {startRecord}-{endRecord} de {totalRecords}"
                                              rowIndexVar="No"  rowsPerPageTemplate="5,10,15" emptyMessage="No se encontraron pagos" 
                                              >
                                    <p:column   
                                        headerText="Nº" width="5%" style="text-align: center" >                                             
                                        <h:outputText value="#{No+1}"  />  
                                    </p:column> 
                                    <p:column   
                                        headerText="Fecha" width="10%" >      
                                        <div style=" text-align: center"> 
                                            <h:outputText value="#{entidades.fecha}"  >
                                                <f:convertDateTime pattern="dd/MM/YYYY"/>
                                            </h:outputText>
                                        </div>
                                    </p:column> 
                                    <p:column headerText="Cuota"  width="10%" sortBy="#{entidades.cuota}" > 
                                        <div style=" text-align: right"> 
                                            <h:outputText value="$" />
                                            <h:outputText value="#{entidades.cuota}">                                            
                                                <f:convertNumber     pattern=",#00.00" locale="en-US" />                                             
                                            </h:outputText>
                                        </div>
                                    </p:column>  
                                    <p:column  headerText="Interés"  width="10%" sortBy="#{entidades.interes}"  
                                               >  
                                        <div style=" text-align: right"> 
                                            <h:outputText value="$" />
                                            <h:outputText value="#{entidades.interes}">                                            
                                                <f:convertNumber     pattern=",#00.00" locale="en-US" />                                             
                                            </h:outputText>
                                        </div>
                                    </p:column> 
                                    <p:column headerText="Abono a capital"  width="10%" sortBy="#{entidades.abono}" 
                                              >  
                                        <div style=" text-align: right"> 
                                            <h:outputText value="$" />
                                            <h:outputText value="#{entidades.abono}">                                            
                                                <f:convertNumber     pattern=",#00.00" locale="en-US" />                                             
                                            </h:outputText>
                                        </div>
                                    </p:column> 
                                    <p:column headerText="Capital amortizado"  width="15%" sortBy="#{entidades.capitalamortizado}" 
                                              >  
                                        <div style=" text-align: right"> 
                                            <h:outputText value="$" />
                                            <h:outputText value="#{entidades.capitalamortizado}">                                            
                                                <f:convertNumber     pattern=",#00.00" locale="en-US" />                                             
                                            </h:outputText>
                                        </div>
                                    </p:column>
                                    <p:column headerText="Saldo de capital"  width="10%" sortBy="#{entidades.saldocapital}">  
                                        <div style=" text-align: right"> 
                                            <h:outputText value="$" />
                                            <h:outputText value="#{entidades.saldocapital}">                                            
                                                <f:convertNumber     pattern=",#00.00" locale="en-US" />                                             
                                            </h:outputText>
                                        </div>
                                    </p:column>
                                    <p:column headerText="" style="text-align: center" width="6%"  >  
                                        <p:splitButton  update=":padding" oncomplete="PF('pgDetallePago').show()"   icon="fa fa-eye">                                                
                                            <f:setPropertyActionListener  value="#{entidades}" target="#{proyectoBean.pagoSeleccionado}"  />
                                            <f:setPropertyActionListener  value="#{No+1}" target="#{proyectoBean.numeroSeleccion}"  />
                                            <p:menuitem rendered="#{(No+1) eq proyectoBean.numeroTotalPagos}"  update=":padding"  oncomplete="PF('pgEliminarPago').show()" icon="fa fa-minus" value="Eliminar"    >
                                                <f:setPropertyActionListener  value="#{entidades}" target="#{proyectoBean.pagoSeleccionado}"  />
                                            </p:menuitem>                                              
                                        </p:splitButton>
                                    </p:column> 
                                </p:dataTable>
                                <br></br>        
                                     <p:outputPanel rendered="#{proyectoBean.proyectoSeleccionado.estado eq 6 or proyectoBean.proyectoSeleccionado.estado eq 7 }">
                                               
                                                <p:fieldset >
                                                    <p:panelGrid   style=" width: 55%;" styleClass="borderHidden" >
                                                        <p:row>
                                                            <p:column style=" width: 5%">
                                                                <h:outputText value="Total pagado:" /> 
                                                            </p:column>
                                                            <p:column style=" width: 10%"   >
                                                                <h:outputText value="$" />
                                                                <h:outputText value="#{proyectoBean.totalGeneral}">
                                                                    <f:convertNumber     pattern=",#00.00" locale="en-US" /> 
                                                                </h:outputText>
                                                            </p:column>
                                                            <p:column style=" width: 10%">
                                                                <h:outputText value="Interés generado:" /> 
                                                            </p:column>
                                                            <p:column style=" width: 10%"   >
                                                                <h:outputText value="$" />
                                                                <h:outputText value="#{proyectoBean.totalInteres}">
                                                                    <f:convertNumber     pattern=",#00.00" locale="en-US" /> 
                                                                </h:outputText>
                                                            </p:column>
                                                        </p:row>
                                                    </p:panelGrid>
                                                </p:fieldset>   
                                            </p:outputPanel> 
                                <br></br>
                                <div align="center">
                                    <p:splitButton ajax="false" update=":padding"  icon="fa fa-eye" value="Ver pagos PDF">
                                        <f:actionListener binding="#{proyectoBean.verReportePagosPersona()}"/> 
                                        <p:menuitem  ajax="false" update=":padding"  icon="fa fa-download" value="Descargar pagos PDF">
                                            <f:actionListener binding="#{proyectoBean.verReportePagosPersonaPDF()}"/>                                       
                                        </p:menuitem>
                                        <p:menuitem    update=":padding"  icon="fa fa-arrow-left" value="Volver">
                                            <f:actionListener binding="#{proyectoBean.enableShowSeguimiento()}"/> 
                                        </p:menuitem>
                                    </p:splitButton>
                                </div>
                            </p:panel>
                        </h:form>
                        <p:dialog header="Confirmar" width="25%" widgetVar="pgEliminarPago" modal="true"  visible="#{proyectoBean.estadoFormulario}" resizable="true" responsive="true" styleClass="ui-panelgrid-blank" appendTo="@(body)">
                            <h:form>
                                <p:outputPanel style="text-align:center;">
                                    <br></br>
                                    <p:panelGrid>
                                        <h:outputText value="¿Desea agregar este refinanciamiento?"/>
                                    </p:panelGrid>
                                    <br></br>
                                    <hr></hr>                                  
                                    <center>
                                        <p:commandButton style="#{empleadoBean.btnNuevo}" value="Si" actionListener="#{proyectoBean.eliminarPago()}"   oncomplete="PF('pgEliminarPago').hide()"  title="Cerrar" update=":padding">
                                        </p:commandButton>
                                        <p:commandButton oncomplete="PF('pgEliminarPago').hide()" style="#{empleadoBean.btnCancelar}"  value="No"> 
                                            <f:setPropertyActionListener value="#{false}" target="#{proyectoBean.estadoFormulario}" />
                                        </p:commandButton>
                                    </center>
                                </p:outputPanel>
                            </h:form>
                        </p:dialog>
                        <p:dialog header="Detalle del pago" width="50%" widgetVar="pgDetallePago" modal="true" resizable="true" responsive="true" styleClass="ui-panelgrid-blank" appendTo="@(body)">
                            <h:form target="_blank">
                                <p:panelGrid  style=" width: 100%;" >
                                    <p:row>
                                        <p:column style=" width: 25%"   >
                                            <h:outputText value="Numero:"/>
                                        </p:column>
                                        <p:column style=" width: 25%"  >
                                            <h:outputText value="#{proyectoBean.numeroSeleccion}"/>
                                        </p:column>
                                        <p:column style=" width: 25%"   >
                                            <h:outputText value="Fecha:"/>
                                        </p:column>
                                        <p:column style=" width: 25%"   >
                                            <h:outputText value="#{proyectoBean.pagoSeleccionado.fecha}">
                                                <f:convertDateTime pattern="dd/MM/YYYY"/>
                                            </h:outputText>
                                        </p:column>
                                    </p:row> 
                                    <p:row>
                                        <p:column style=" width: 25%"   >
                                            <h:outputText value="Cuota:"/>
                                        </p:column>
                                        <p:column style=" width: 25%"  >
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.pagoSeleccionado.cuota}">
                                                <f:convertNumber     pattern=",#00.00" locale="en-US" />                                             
                                            </h:outputText>
                                        </p:column>
                                        <p:column style=" width: 25%"   >
                                            <h:outputText value="Interés:"/>
                                        </p:column>
                                        <p:column style=" width: 25%"   >
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.pagoSeleccionado.interes}">
                                                <f:convertNumber     pattern=",#00.00" locale="en-US" />                                             
                                            </h:outputText>
                                        </p:column>
                                    </p:row> 
                                    <p:row>
                                        <p:column style=" width: 25%"   >
                                            <h:outputText value="Abono a capital:"/>
                                        </p:column>
                                        <p:column style=" width: 25%"  >
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.pagoSeleccionado.abono}">
                                                <f:convertNumber     pattern=",#00.00" locale="en-US" />                                             
                                            </h:outputText>
                                        </p:column>
                                        <p:column style=" width: 25%"   >
                                            <h:outputText value="Capital amortizado:"/>
                                        </p:column>
                                        <p:column style=" width: 25%"   >
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.pagoSeleccionado.capitalamortizado}">
                                                <f:convertNumber     pattern=",#00.00" locale="en-US" />                                             
                                            </h:outputText>
                                        </p:column>
                                    </p:row> 
                                    <p:row>
                                        <p:column style=" width: 15%"   >
                                            <h:outputText value="Saldo de capital:"/>
                                        </p:column>
                                        <p:column style=" width: 15%"  >
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.pagoSeleccionado.saldocapital}">
                                                <f:convertNumber     pattern=",#00.00" locale="en-US" />                                             
                                            </h:outputText>
                                        </p:column>
                                        <p:column style=" width: 15%"   >
                                            <h:outputText value="Mora:"/>
                                        </p:column>
                                        <p:column style=" width: 55%"   >
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.pagoSeleccionado.mora}">
                                                <f:convertNumber     pattern=",#00.00" locale="en-US" />                                             
                                            </h:outputText>
                                        </p:column>
                                    </p:row> 
                                    <p:row>
                                        <p:column style=" width: 15%"   >
                                            <h:outputText value="Saldo adicional:"/>
                                        </p:column>
                                        <p:column style=" width: 15%"  >
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.pagoSeleccionado.saldoadicional}">
                                                <f:convertNumber     pattern=",#00.00" locale="en-US" />                                             
                                            </h:outputText>
                                        </p:column>
                                        <p:column style=" width: 15%"   >
                                            <h:outputText value="Destino:"/>
                                        </p:column>
                                        <p:column style=" width: 55%"   >
                                            <h:outputText value="#{proyectoBean.pagoSeleccionado.destino}"/>
                                        </p:column>
                                    </p:row> 
                                </p:panelGrid>
                                <br></br>
                                <div align="center">
                                    <p:splitButton ajax="false" update=":padding"  icon="fa fa-file-text" value="Ver recibo PDF">
                                        <f:actionListener binding="#{proyectoBean.generarRecibo()}"/>
                                        <p:menuitem  ajax="false" update=":padding"  icon="fa fa-download" value="Descargar recibo PDF">
                                            <f:actionListener binding="#{proyectoBean.generarReciboPDF()}"/>                                       
                                        </p:menuitem>
                                    </p:splitButton>
                                </div>
                            </h:form>
                        </p:dialog>
                    </p:outputPanel>
                    <p:outputPanel  rendered="#{proyectoBean.mostrarCierre}" style=" width: 100%">
                        <h:form id="fAgregarCierre" target="_blank">
                            <p:panel id="pCierre"  header="Finalización del crédito"  style="width: 100%; margin: auto; margin-bottom: 20px">
                                <p:panelGrid  style="width: 100%; margin: auto;">   
                                    <p:row>
                                        <p:column colspan="5" style=" width: 15%; background-color:#ebedf0">
                                            <center>  <h:outputText value="Cliente"/> </center> 
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column style=" width: 15%; vertical-align:  top">
                                            <h:outputText value="Código:"/> <br></br>
                                            
                                            <h:outputText value="NIT:"/> <br></br>
                                            <h:outputText value="Giro:"/> <br></br>
                                        </p:column>
                                        <p:column style=" width: 20%; vertical-align:  top">
                                            <h:outputText value="#{proyectoBean.entidadeleccionada.codigoClienteEntidad}"/> <br></br>
                                            
                                            <h:outputText value="#{proyectoBean.entidadeleccionada.nitEntidad}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.entidadeleccionada.giroEntidad}"/> <br></br>
                                        </p:column>
                                        <p:column colspan="2" style=" width:15%; vertical-align:  top">
                                            <h:outputText value="Cooperativa:"/>   <br></br>
                                            
                                            <h:outputText value="Representante legal:"/>   <br></br>
                                            <h:outputText value="Nombre:"/>   <br></br>
                                        </p:column>
                                        <p:column style=" width: 50% ; vertical-align:  top">
                                            <h:outputText value="#{proyectoBean.entidadeleccionada.codigoEntidad}"/> <br></br>
                                            
                                            <h:outputText value="#{proyectoBean.entidadeleccionada.nombreRepresentanteEntidad}">
                                            </h:outputText> <br></br>
                                            <h:outputText value="#{proyectoBean.entidadeleccionada.nombreEntidad}"/> 
                                        </p:column>
                                    </p:row>
                                </p:panelGrid>
                                <br></br>
                                <p:panelGrid  style="width: 100%; margin: auto;"> 
                                    <p:row>
                                        <p:column colspan="5" style=" width: 15%; background-color:#ebedf0">
                                            <center>  <h:outputText value="Crédito"/> </center> 
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column style=" width: 15%; ">
                                            <h:outputText value="Código:"/> <br></br>
                                            <h:outputText value="Modalidad:"/> <br></br>
                                            <h:outputText value="Destino:"/> <br></br>
                                            <h:outputText value="Monto:"/> <br></br>
                                            <h:outputText value="Plazo (meses):"/> <br></br>
                                            <h:outputText value="Forma de pago:"/> <br></br>
                                        </p:column>
                                        <p:column style=" width: 50%">
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.codigoProyecto}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.cambiar(proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito)}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.destinoProyecto}"/> <br></br>
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.monto}">
                                                <f:convertNumber  pattern=",#00.00" locale="en-US" /> 
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.plazo}"/>  <br></br>
                                            <h:outputText value="#{proyectoBean.formaPagos}"/> <br></br>
                                        </p:column>
                                        <p:column colspan="2" style=" width:20%; ">
                                            <h:outputText value="Tasa de interés (%):"/> <br></br>
                                            <h:outputText value="Tasa de interés por mora (%):"/> <br></br>
                                            <h:outputText value="Estado:"/>   <br></br>
                                            <h:outputText value="Calificación:"/>   <br></br>
                                            <h:outputText value="Fecha de aprobación:"/> <br></br>
                                            <h:outputText value="Fecha de vencimiento:"/>   <br></br>
                                            <h:outputText value="Fecha de finalización:"/>   <br></br>
                                        </p:column>
                                        <p:column style=" width: 30%">
                                            <h:outputText value="#{proyectoBean.politicaSeleccionada.tasaInteres}">
                                                 <f:convertNumber    pattern=",#0.00" locale="en-US" /> 
                                            </h:outputText>
                                                
                                                <br></br>
                                            <h:outputText value="#{proyectoBean.politicaSeleccionada.tasaInteresMora}">
                                                 <f:convertNumber    pattern=",#0.00" locale="en-US" /> 
                                            </h:outputText>
                                                
                                                <br></br>
                                            <h:outputText value="#{proyectoBean.cambiarEstado(proyectoBean.proyectoSeleccionado.estado)}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.calificacion}">
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.fechaAprovacion}">
                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.fechaVencimientoProyecto}">
                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.fechaFinalizacionProyecto eq null? '--/--/----':proyectoBean.proyectoSeleccionado.fechaFinalizacionProyecto}"> 
                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                            </h:outputText>
                                        </p:column>
                                    </p:row>
                                </p:panelGrid>
                                 <br></br>
                                <p:panelGrid  style="width: 100%; margin: auto;">   
                                    <p:row>
                                        <p:column colspan="5" style=" width: 25%; background-color:#ebedf0">
                                            <center>  <h:outputText value="Resultado"/> </center> 
                                        </p:column>
                                        
                                    </p:row>
                                    <p:row>
                                        <p:column style=" width: 25%">
                                            <h:outputText value="Fecha inicio:"/>   <br></br>
                                            <h:outputText value="Fecha de vencimiento:"/>   <br></br>
                                            <h:outputText value="Numero de pagos:"/> <br></br>
                                            <h:outputText value="Cuota:"/>   <br></br>
                                          
                                        </p:column>
                                        <p:column style=" width: 25%">
                                             <h:outputText value="#{proyectoBean.fechaInicio}">
                                                <f:convertDateTime pattern="dd/MM/yyyy" />
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.fechaVencimientoProyecto}">
                                                <f:convertDateTime pattern="dd/MM/yyyy" />
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.numeroPagos}"/> <br></br>
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.couto}">
                                                <f:convertNumber  pattern=",#00.00" locale="en-US" /> 
                                            </h:outputText>
                                        </p:column>
                                        <p:column colspan="2" style=" width:25%">
                                           
                                            <h:outputText value="Interés:"/> <br></br>
                                            <h:outputText value="Mora generada:"/>   <br></br>
                                            <h:outputText value="Monto+interes+mora:"/>   <br></br>
                                            <h:outputText value="Calificación:"/>   <br></br>
                                        </p:column>
                                        <p:column style=" width: 25%">
                                           
                                           
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.intereses}">
                                                <f:convertNumber  pattern=",#00.00" locale="en-US" /> 
                                            </h:outputText>    
                                            <br></br>
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.totalMora}">
                                                <f:convertNumber  pattern=",#00.00" locale="en-US" /> 
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.totalFinal}">
                                                <f:convertNumber  pattern=",#00.00" locale="en-US" /> 
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.calificacion}"/>   <br></br>
                                        </p:column>
                                    </p:row>
                                </p:panelGrid>
                                <br></br>
                                <div align="center">
                                    
                                    <p:splitButton update=":padding" value="Ver resultados"  ajax="false" icon="fa fa-eye"  >
                                                <f:actionListener binding="#{proyectoBean.verResultadosCooperativa()}"/> 
                                                <p:menuitem  ajax="false" update=":padding"  icon="fa fa-download" value="Descargar resultados">
                                                    <f:actionListener binding="#{proyectoBean.verResultadosCooperativaPDF()}"/> 
                                                </p:menuitem>
                                                <p:menuitem  ajax="false" update=":padding"  icon="fa fa-eye" value="Ver constancia">
                                                    <f:actionListener binding="#{proyectoBean.verConstanciaFinalizacionCooperativa()}"/> 
                                                </p:menuitem>
                                                 <p:menuitem  ajax="false" update=":padding"  icon="fa fa-download" value="Descargar constancia">
                                                    <f:actionListener binding="#{proyectoBean.verConstanciaFinalizacionCooperativaPDF()}"/> 
                                                </p:menuitem>
                                                <p:menuitem   update=":padding"  icon="fa fa-arrow-left"  value="Volver">
                                                    <f:actionListener binding="#{proyectoBean.enableShowSeguimiento()}"/> 
                                                </p:menuitem>
                                            </p:splitButton>
                                    
                                    
                                  
                                </div>
                            </p:panel>
                        </h:form>
                    </p:outputPanel>
                    <p:outputPanel  rendered="#{proyectoBean.mostrarCierrePersona}" style=" width: 100%">
                        <h:form id="fAgregarCierrePersona" target="_blank">
                            <p:panel id="pCierre"  header="Finalización del crédito"  style="width: 100%; margin: auto; margin-bottom: 20px">
                                <br></br>
                                <p:panelGrid  style="width: 100%; margin: auto;">   
                                    <p:row>
                                        <p:column colspan="5" style=" width: 15%; background-color:#ebedf0">
                                            <center>  <h:outputText value="Cliente"/> </center> 
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column style=" width: 25%; ">
                                            <h:outputText value="Código:"/> <br></br>
                                            <h:outputText value="Nombres:"/>   <br></br>
                                            <h:outputText value="Apellidos:"/>   <br></br>
                                        </p:column>
                                        <p:column style=" width: 25%">
                                            <h:outputText value="#{proyectoBean.clienteSeleccionado.codigoCliente}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.clienteSeleccionado.nombreCliente}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.clienteSeleccionado.apellidoCliente}"/>
                                        </p:column>
                                        <p:column colspan="2" style=" width:25%; ">
                                            <h:outputText value="DUI:"/> <br></br>
                                            <h:outputText value="NIT:"/>   <br></br>
                                        </p:column>
                                        <p:column style=" width: 25%">
                                            <h:outputText value="#{proyectoBean.clienteSeleccionado.duiCliente}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.clienteSeleccionado.nitCliente}">
                                            </h:outputText>
                                        </p:column>
                                    </p:row>
                                </p:panelGrid>
                                <br></br>
                                
                                <p:panelGrid  style="width: 100%; margin: auto;"> 
                                    <p:row>
                                        <p:column colspan="5" style=" width: 15%; background-color:#ebedf0">
                                            <center>  <h:outputText value="Crédito"/> </center> 
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column style=" width: 15%; ">
                                            <h:outputText value="Código:"/> <br></br>
                                            <h:outputText value="Modalidad:"/> <br></br>
                                            <h:outputText value="Destino:"/> <br></br>
                                            <h:outputText value="Monto:"/> <br></br>
                                            <h:outputText value="Plazo (meses):"/> <br></br>
                                            <h:outputText value="Forma de pago:"/> <br></br>
                                        </p:column>
                                        <p:column style=" width: 50%">
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.codigoProyecto}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.cambiar(proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito)}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.destinoProyecto}"/> <br></br>
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.monto}">
                                                <f:convertNumber  pattern=",#00.00" locale="en-US" /> 
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.plazo}"/>  <br></br>
                                            <h:outputText value="#{proyectoBean.formaPagos}"/> <br></br>
                                        </p:column>
                                        <p:column colspan="2" style=" width:20%; ">
                                            <h:outputText value="Tasa de interés (%):"/> <br></br>
                                            <h:outputText value="Tasa de interés por mora (%):"/> <br></br>
                                            <h:outputText value="Estado:"/>   <br></br>
                                            <h:outputText value="Calificación:"/>   <br></br>
                                            <h:outputText value="Fecha de aprobación:"/> <br></br>
                                            <h:outputText value="Fecha de vencimiento:"/>   <br></br>
                                            <h:outputText value="Fecha de finalización:"/>   <br></br>
                                        </p:column>
                                        <p:column style=" width: 30%">
                                            <h:outputText value="#{proyectoBean.politicaSeleccionada.tasaInteres}">
                                                 <f:convertNumber    pattern=",#0.00" locale="en-US" /> 
                                            </h:outputText>
                                                
                                                <br></br>
                                            <h:outputText value="#{proyectoBean.politicaSeleccionada.tasaInteresMora}">
                                                 <f:convertNumber    pattern=",#0.00" locale="en-US" /> 
                                            </h:outputText>
                                                
                                                <br></br>
                                            <h:outputText value="#{proyectoBean.cambiarEstado(proyectoBean.proyectoSeleccionado.estado)}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.calificacion}">
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.fechaAprovacion}">
                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.fechaVencimientoProyecto}">
                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.fechaFinalizacionProyecto eq null? '--/--/----':proyectoBean.proyectoSeleccionado.fechaFinalizacionProyecto}"> 
                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                            </h:outputText>
                                        </p:column>
                                    </p:row>
                                </p:panelGrid>
                                 <br></br>
                                <p:panelGrid  style="width: 100%; margin: auto;">   
                                    <p:row>
                                        <p:column colspan="5" style=" width: 25%; background-color:#ebedf0">
                                            <center>  <h:outputText value="Resultado"/> </center> 
                                        </p:column>
                                        
                                    </p:row>
                                    <p:row>
                                        <p:column style=" width: 25%">
                                            <h:outputText value="Fecha inicio:"/>   <br></br>
                                            <h:outputText value="Fecha de vencimiento:"/>   <br></br>
                                            <h:outputText value="Numero de pagos:"/> <br></br>
                                            <h:outputText value="Cuota:"/>   <br></br>
                                          
                                        </p:column>
                                        <p:column style=" width: 25%">
                                             <h:outputText value="#{proyectoBean.fechaInicio}">
                                                <f:convertDateTime pattern="dd/MM/yyyy" />
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.fechaVencimientoProyecto}">
                                                <f:convertDateTime pattern="dd/MM/yyyy" />
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.numeroPagos}"/> <br></br>
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.couto}">
                                                <f:convertNumber  pattern=",#00.00" locale="en-US" /> 
                                            </h:outputText>
                                        </p:column>
                                        <p:column colspan="2" style=" width:25%">
                                           
                                            <h:outputText value="Interés:"/> <br></br>
                                            <h:outputText value="Mora generada:"/>   <br></br>
                                            <h:outputText value="Monto+interes+mora:"/>   <br></br>
                                            <h:outputText value="Calificación:"/>   <br></br>
                                        </p:column>
                                        <p:column style=" width: 25%">
                                           
                                           
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.intereses}">
                                                <f:convertNumber  pattern=",#00.00" locale="en-US" /> 
                                            </h:outputText>    
                                            <br></br>
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.totalMora}">
                                                <f:convertNumber  pattern=",#00.00" locale="en-US" /> 
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.totalFinal}">
                                                <f:convertNumber  pattern=",#00.00" locale="en-US" /> 
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.calificacion}"/>   <br></br>
                                        </p:column>
                                    </p:row>
                                </p:panelGrid>
                                <br></br>
                                <div align="center">
                                    
                                     <p:splitButton update=":padding" value="Ver resultados"  ajax="false" icon="fa fa-eye"  >
                                                <f:actionListener binding="#{proyectoBean.verResultadosPersona()}"/> 
                                                <p:menuitem  ajax="false" update=":padding"  icon="fa fa-download" value="Descargar resultados">
                                                    <f:actionListener binding="#{proyectoBean.verResultadosPersonaPDF()}"/> 
                                                </p:menuitem>
                                                <p:menuitem  ajax="false" update=":padding"  icon="fa fa-eye" value="Ver constancia">
                                                    <f:actionListener binding="#{proyectoBean.verConstanciaFinalizacionPersona()}"/> 
                                                </p:menuitem>
                                                 <p:menuitem  ajax="false" update=":padding"  icon="fa fa-download" value="Descargar constancia">
                                                    <f:actionListener binding="#{proyectoBean.verConstanciaFinalizacionPersonaPDF()}"/> 
                                                </p:menuitem>
                                                <p:menuitem   update=":padding"   icon="fa fa-arrow-left"  value="Volver">
                                                    <f:actionListener binding="#{proyectoBean.enableShowSeguimiento()}"/> 
                                                </p:menuitem>
                                            </p:splitButton>
                                    
                                    
                                    
                                </div>
                            </p:panel>
                        </h:form>
                    </p:outputPanel>
                    <p:outputPanel rendered="#{proyectoBean.mostrarListaSeguimientoTabla}">
                        <h:form id="fMostrarListaSeguimiento" target="_blank">
                            <p:panel id="pSeguimientoCooperativa"  header="Administrar seguimientos"  style="width: 100%; margin: auto; margin-bottom: 20px">
                                <p:panelGrid  style="width: 100%; margin: auto;">   
                                    <p:row>
                                        <p:column colspan="4"  style=" width: 15%; background-color:#ebedf0">
                                            <center>  <h:outputText value="Cliente"/> </center> 
                                        </p:column>                                       
                                    </p:row>
                                    <p:row>
                                        <p:column style=" width: 15%;">
                                            <h:outputText value="Código:"/> <br></br>
                                        </p:column>
                                        <p:column style=" width: 20%">
                                            <h:outputText value="#{proyectoBean.entidadeleccionada.codigoClienteEntidad}"/> <br></br>
                                        </p:column>
                                        <p:column style=" width: 15%; ">                                         
                                            <h:outputText value="Nombre:"/> <br></br>
                                        </p:column>
                                        <p:column style=" width: 50%">                                         
                                            <h:outputText value="#{proyectoBean.entidadeleccionada.nombreEntidad}"/> <br></br>
                                        </p:column>                                      
                                    </p:row>
                                </p:panelGrid>
                                <br></br>                            
                                <p:panelGrid  style="width: 100%; margin: auto;">   
                                    <p:row>
                                        <p:column colspan="4"  style=" width: 15%; background-color:#ebedf0">
                                            <center>  <h:outputText value="Crédito"/> </center> 
                                        </p:column>                                       
                                    </p:row>
                                    <p:row>
                                        <p:column style=" width: 15%; ">
                                            <h:outputText value="Código:"/> <br></br>       
                                        </p:column>
                                        <p:column style=" width: 20%">
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.codigoProyecto}"/> <br></br>
                                        </p:column>
                                        <p:column style=" width: 15%; ">                                                                                    
                                            <h:outputText value="Destino:"/> <br></br>
                                        </p:column>
                                        <p:column style=" width: 50%">
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.destinoProyecto}"/> <br></br>
                                        </p:column>                                      
                                    </p:row>
                                </p:panelGrid>
                                <br></br>                               
                                <p:panelGrid  style="width: 100%; margin: auto;">   
                                    <p:row>
                                        <p:column colspan="3"  style=" width: 15%; background-color:#ebedf0">
                                            <center>  <h:outputText value="Proyecto"/> </center> 
                                        </p:column>
                                    </p:row>
                                    <p:row>                                      
                                        <p:column colspan="2" style=" width:15%; vertical-align: top ">
                                            <h:outputText value="Nombre:"/>   <br></br>
                                            <h:outputText value="Descripción:"/>   <br></br>
                                        </p:column>
                                        <p:column style=" width: 85%; vertical-align: top">
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.nombre}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.descripcion}"/> <br></br>
                                        </p:column>
                                    </p:row>
                                </p:panelGrid>
                                <br></br>
                                <p:fieldset>
                                    <div align="left">
                                        <p:commandButton title="Nuevo seguimiento" id="add" style="#{empleadoBean.btnNuevo}" actionListener="#{proyectoBean.mostrarSeguimiento}" update=":padding"    icon="fa fa-plus" />
                                    </div>
                                </p:fieldset>
                                <p:dataTable   id="listaSeguimientoData"
                                               var="listado"
                                               value="#{proyectoBean.listaProyectoSeguimiento}" 
                                               paginator="true" widgetVar="seguimientoData"
                                               rows="10"
                                               paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                               rowsPerPageTemplate="5,10,15"
                                               paginatorPosition="bottom"
                                               currentPageReportTemplate="Mostrando {startRecord}-{endRecord} de {totalRecords}"
                                               emptyMessage="No se encontró seguimiento" rowIndexVar="No" >
                                    <f:facet name="header">
                                        <p:outputPanel>                                           
                                            <p:inputText id="globalFilter" onkeyup="PF('seguimientoData').filter()" style="width:150px" placeholder="Buscar"/>
                                        </p:outputPanel>
                                    </f:facet>
                                    <p:column headerText="Nº" style="width: 5%; text-align: center">  
                                        <h:outputText value="#{No+1}"/>
                                    </p:column>
                                    <p:column headerText="Descripción" filterBy="#{listado.descripcion}"  filterMatchMode="contains" width="65%" filterStyle="width: 100%" sortBy="#{listado.descripcion}" >
                                        <h:outputText value="#{listado.descripcion}" />
                                    </p:column>
                                    <p:column headerText="Fecha" filterBy="#{listado.fechaseguimiento}"  filterMatchMode="contains" width="10%" filterStyle="width: 100%" sortBy="#{listado.fechaseguimiento}">
                                        <div aling="center">
                                            <h:outputText value="#{listado.fechaseguimiento}" >
                                                <f:convertDateTime pattern="dd/MM/yyyy" />
                                            </h:outputText>
                                        </div>
                                    </p:column >
                                    <p:column  width="9%" style="text-align: center">
                                        <p:splitButton  update=":padding" oncomplete="PF('dlVerSeguimiento').show()" icon="fa fa-eye" style="#{listado.estado eq 1? cuentaBean.btnDarDeAlta :  cuentaBean.btnDarDeBaja}">
                                            <f:setPropertyActionListener  value="#{listado}" target="#{proyectoBean.seguimientoSeleccionado}"  />
                                            <f:actionListener binding="#{proyectoBean.cargarParametros()}"/> 
                                            <p:menuitem  value="Modificar seguimiento" update=":padding"     
                                                         actionListener="#{proyectoBean.cargarModificarSeguimiento}" icon=" fa fa-pencil">
                                                <f:setPropertyActionListener  value="#{listado}" target="#{proyectoBean.seguimientoSeleccionado}"  />  </p:menuitem>
                                            <p:menuitem  value="Administrar parámetros" update=":padding"     
                                                         actionListener="#{proyectoBean.cargarModificarParametro}" icon="fa fa-cubes">
                                                <f:setPropertyActionListener  value="#{listado}" target="#{proyectoBean.seguimientoSeleccionado}"  />    
                                                <f:actionListener binding="#{proyectoBean.cargarParametros()}"/> 
                                            </p:menuitem>
                                            <p:menuitem rendered="#{listado.estado eq 1? true:false}" update=":padding"  oncomplete="PF('pgBaja').show()" icon="fa fa-arrow-down" value="Dar de baja">
                                                <f:setPropertyActionListener  value="#{listado}" target="#{proyectoBean.seguimientoSeleccionado}"  />  
                                                <f:actionListener binding="#{proyectoBean.guardarSeguimiento()}"/> 
                                            </p:menuitem>
                                            <p:menuitem rendered="#{listado.estado eq 0? true:false}" update=":padding"  oncomplete="PF('pgAlta').show()" icon="fa fa-arrow-up" value="Dar de alta"    >
                                                <f:setPropertyActionListener  value="#{listado}" target="#{proyectoBean.seguimientoSeleccionado}"  />     
                                                <f:actionListener binding="#{proyectoBean.guardarSeguimiento()}"/> 
                                            </p:menuitem>                                   
                                        </p:splitButton>
                                    </p:column >
                                </p:dataTable>
                                <br></br>
                                <center>
                                    <p:splitButton  update=":padding" value="Ver PDF"  ajax="false" icon="fa fa-eye"  >
                                        <f:actionListener binding="#{proyectoBean.generarProyectoSeguimiento()}"/> 
                                        <p:menuitem  ajax="false" update=":padding"  icon="fa fa-download" value="Descargar PDF">
                                            <f:actionListener binding="#{proyectoBean.generarProyectoSeguimientoPDF()}"/> 
                                        </p:menuitem>
                                        <p:menuitem   update=":padding"   icon="fa fa-arrow-left" value="Volver">
                                            <f:setPropertyActionListener value="#{false}" target="#{proyectoBean.mostrarSeguimientoCooperativa}" />
                                            <f:setPropertyActionListener value="#{false}" target="#{proyectoBean.mostrarListaSeguimientoTabla}" />
                                            <f:setPropertyActionListener value="#{true}" target="#{proyectoBean.showData}" />
                                        </p:menuitem>
                                    </p:splitButton>
                                </center>
                            </p:panel>
                        </h:form>
                        <p:dialog header="Confirmar" width="25%" widgetVar="pgAlta" modal="true"   visible="false"  resizable="true" responsive="true" styleClass="ui-panelgrid-blank" appendTo="@(body)">
                            <h:form>
                                <p:outputPanel style="text-align:center;">
                                    <br></br>
                                    <p:panelGrid>
                                        <h:outputText value="¿Desea dar de alta este seguimiento?" />
                                    </p:panelGrid>
                                    <br></br>
                                    <hr></hr>
                                    <center>
                                        <p:commandButton value="Si" actionListener="#{proyectoBean.altaSeguimiento}"  update=":padding" icon="fa fa-check" style="#{compradorBean.btnNuevo}">
                                        </p:commandButton>
                                        <p:commandButton id="btnCancelCerrar"  update=":padding"  icon="fa fa-close"  value="No" style="#{compradorBean.btnCancelar}"> 
                                        </p:commandButton>
                                    </center>
                                </p:outputPanel>
                            </h:form>
                        </p:dialog>
                        <p:dialog header="Confirmar" width="25%" widgetVar="pgBaja" modal="true"   visible="false"  resizable="true" responsive="true" styleClass="ui-panelgrid-blank" appendTo="@(body)">
                            <h:form>
                                <p:outputPanel style="text-align:center;">
                                    <br></br>
                                    <p:panelGrid>
                                        <h:outputText value="¿Desea dar de baja este seguimiento?" />
                                    </p:panelGrid>
                                    <br></br>
                                    <hr></hr>                                 
                                    <center>
                                        <p:commandButton value="Si" actionListener="#{proyectoBean.bajaSeguimiento}"  update=":padding" icon="fa fa-check" style="#{compradorBean.btnNuevo}">
                                        </p:commandButton>
                                        <p:commandButton id="btnCancelCerrar2"  update=":padding"  icon="fa fa-close"  value="No" style="#{compradorBean.btnCancelar}"> 
                                        </p:commandButton>
                                    </center>
                                </p:outputPanel>
                            </h:form>
                        </p:dialog>    
                        <p:dialog header="Datos del seguimiento"  widgetVar="dlVerSeguimiento" modal="true" visible="false"  resizable="true" responsive="true" styleClass="ui-panelgrid-blank" width="70%" appendTo="@(body)">
                            <h:form target="_blank">
                                <p:outputPanel  style="width: 100%">
                                  
                                    <p:panelGrid  style="width: 100%; margin: auto;" >
                                        <p:row>
                                            <p:column style=" width: 25%"   >
                                                <h:outputText value="Fecha:" />
                                            </p:column>
                                            <p:column  style=" width: 75%"  >
                                                <h:outputText value="#{proyectoBean.seguimientoSeleccionado.fechaseguimiento}" >
                                                    <f:convertDateTime pattern="dd/MM/YYYY"/>
                                                    
                                                </h:outputText>
                                            </p:column>
                                        </p:row>  
                                        <p:row>
                                            <p:column style=" width: 25%"   >
                                                <h:outputText value="Descripción:" />
                                            </p:column>
                                            <p:column colspan="3" style=" width: 75%"  >
                                                <h:outputText value="#{proyectoBean.seguimientoSeleccionado.descripcion}" />
                                            </p:column>                                     
                                        </p:row>  
                                    </p:panelGrid>
                                    <br></br>
                                    
                                    <center>
                                        <p:splitButton  update=":padding" value="Ver PDF"  ajax="false" icon="fa fa-eye"  >
                                            <f:actionListener binding="#{proyectoBean.verSeguimiento()}"/> 
                                            <p:menuitem  ajax="false" update=":padding"  icon="fa fa-download" value="Descargar PDF">
                                                <f:actionListener binding="#{proyectoBean.verSeguimientoPDF()}"/> 
                                            </p:menuitem>
                                        </p:splitButton>
                                    </center>
                                </p:outputPanel>
                            </h:form>
                        </p:dialog>
                    </p:outputPanel>
                    <p:outputPanel rendered="#{proyectoBean.modificarSeguimiento}">
                        <h:form id="fModificarSeguimiento" target="_blank">
                            <p:panel id="pModificarSeguimiento"  header="Modificar seguimiento"  style="width: 100%; margin: auto; margin-bottom: 20px">
                                <p:panelGrid   style="width: 100%; margin: auto;" styleClass="companyHeaderGrid">   
                                    <p:row>
                                        <p:column >
                                        </p:column>
                                        <p:column>
                                            <h:outputText value="Fecha:*"/> 
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column style=" width: 78%" >
                                        </p:column>
                                        <p:column>
                                            <p:calendar navigator="true" yearRange="1910:" maxdate="#{proyectoBean.hoy}"  locale="es" pattern="dd/MM/yyyy" mask="true" showOn="button"  id="cfecha"  value="#{proyectoBean.seguimientoSeleccionado.fechaseguimiento}"/><br></br>
                                            <h:outputText style=" color: red" value="#{proyectoBean.msgFechaSeguimiento}"/>                                       
                                        </p:column>
                                    </p:row>
                                </p:panelGrid>
                                <p:panelGrid   style="width: 100%; margin: auto;" styleClass="companyHeaderGrid">   
                                    <p:row>
                                        <p:column>
                                            <h:outputText value="Descripción:*"/> 
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column>
                                            <p:inputTextarea style=" width: 100%" placeholder="Introduzca la descripción" value="#{proyectoBean.seguimientoSeleccionado.descripcion}" /> 
                                            <h:outputText style=" color: red" value="#{proyectoBean.msgDescripcionSeguimiento}"/>                                       
                                        </p:column> 
                                    </p:row>
                                </p:panelGrid>
                                <br></br>
                                <center>
                                    <p:commandButton  title="Registrar" value="Guardar"  actionListener="#{proyectoBean.validarFormularioSeguimientoModifiar()}"  update=":padding"   icon="fa fa-check" style="#{proyectoBean.btnCrear}">
                                    </p:commandButton> 
                                    <p:commandButton  actionListener="#{proyectoBean.mostrarListaSeguimiento()}" update=":padding" icon="fa fa-close" title="Cancelar" value="Cancelar" style="#{proyectoBean.btnCancelar}"> 
                                    </p:commandButton>
                                </center>
                            </p:panel>
                        </h:form>
                        <p:dialog header="Confirmar" width="25%" widgetVar="pgGuardar" modal="true"  visible="#{proyectoBean.estadoFormularioSeguimiento}" resizable="true" responsive="true" styleClass="ui-panelgrid-blank" appendTo="@(body)">
                            <h:form>
                                <p:outputPanel style="text-align:center;">
                                    <br></br>
                                    <p:panelGrid>
                                        <h:outputText value="¿Desea guardar este seguimiento?"/>
                                    </p:panelGrid>
                                    <br></br>
                                    <hr></hr>  
                                    <center>
                                        <p:commandButton style="#{empleadoBean.btnNuevo}" value="Si" actionListener="#{proyectoBean.modificarSeguimiento()}"   oncomplete="PF('pgGuardar').hide()"  title="Cerrar" update=":padding">
                                            <f:setPropertyActionListener value="#{false}" target="#{proyectoBean.estadoFormulario}" />
                                        </p:commandButton>
                                        <p:commandButton oncomplete="PF('pgGuardar').hide()" style="#{empleadoBean.btnCancelar}"  value="No"> 
                                            <f:setPropertyActionListener value="#{false}" target="#{proyectoBean.estadoFormulario}" />
                                        </p:commandButton>
                                    </center>
                                </p:outputPanel>
                            </h:form>
                        </p:dialog>
                    </p:outputPanel>
                    <p:outputPanel  rendered="#{proyectoBean.agregarParametro}" style=" width: 100%">
                        <h:form id="fAgregarParametro">
                            #{proyectoBean.updateListaParametros()}
                            <p:panel id="pAgregarParametro"  header="Agregar parámetro"  style="width: 100%; margin: auto; margin-bottom: 20px">
                                <p:panelGrid   style="width: 100%; margin: auto;" styleClass="companyHeaderGrid">   
                                    <p:row>
                                        <p:column style=" width: 50%" >
                                            <h:outputText value="Parámetro:*"/> 
                                        </p:column>
                                        <p:column>
                                            <h:outputText value="Valor (#{proyectoBean.unidades}):*"/> 
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column>
                                            <p:selectOneMenu id="menu" value="#{proyectoBean.idParametro}" label="Parametros" style="width:100%"
                                                             filterMatchMode="startsWith" panelStyle="width:250px">                                              
                                                <p:ajax update=":padding" listener="#{proyectoBean.cargarUnidad()}"/>
                                                <f:selectItem itemLabel="[SELECCIONE]" itemValue="0"/>
                                                <f:selectItems value="#{proyectoBean.listaParametrosSeguimiento}" var="l" itemLabel="#{l.nombre}" itemValue="#{l.idparametro}"/>                                                                                
                                            </p:selectOneMenu> 
                                            <h:outputText style=" color: red" value="#{proyectoBean.msgParametro}"/> 
                                        </p:column>
                                        <p:column>
                                            <p:inputNumber  value="#{proyectoBean.parametrosLista.valor}"  placeholder="Introduzca el valor"  style="width: 100%;"/>
                                            <br></br>
                                            <h:outputText style=" color: red" value="#{proyectoBean.msgValor}"/> 
                                        </p:column>
                                        <p:row>
                                            <p:column>
                                                <h:outputText value="Descripción:*"/>
                                            </p:column>
                                        </p:row>
                                        <p:row>
                                            <p:column  colspan="2">
                                                <p:inputTextarea id="tNombre"   value="#{proyectoBean.parametrosLista.descripcion}"  style="width: 100%;" placeholder="Introduzca la descripción"/> 
                                                <h:outputText style=" color: red" value="#{proyectoBean.msgDescripcionParametro}"/>                                    
                                            </p:column>
                                        </p:row>
                                    </p:row>
                                </p:panelGrid>
                                <br></br>
                                <div align="center">
                                    <p:commandButton id="btnCrear" title="Registrar" value="Guardar"  actionListener="#{proyectoBean.validarParamentros()}"  update=":padding"   icon="fa fa-check" style="#{proyectoBean.btnCrear}">
                                    </p:commandButton> 
                                    <p:commandButton  update=":padding" icon="fa fa-close" title="Cancelar" value="Cancelar" style="#{proyectoBean.btnCancelar}"> 
                                        <f:setPropertyActionListener value="#{false}" target="#{proyectoBean.agregarParametro}" />
                                        <f:setPropertyActionListener value="#{true}" target="#{proyectoBean.modificarParametros}" />
                                        <f:actionListener binding="#{proyectoBean.limpiarParametro()}"/>
                                    </p:commandButton>
                                </div>
                            </p:panel>
                        </h:form>
                        <p:dialog header="Confirmar" width="25%" widgetVar="pgGuardar" modal="true"  visible="#{proyectoBean.estadoParametro}" resizable="true" responsive="true" styleClass="ui-panelgrid-blank" appendTo="@(body)">
                            <h:form>
                                <p:outputPanel style="text-align:center;">
                                    <br></br>
                                    <p:panelGrid>
                                        <h:outputText value="¿Desea guardar este parámetro?"/>
                                    </p:panelGrid>
                                    <br></br>
                                    <hr></hr>
                                    <center>
                                        <p:commandButton style="#{empleadoBean.btnNuevo}" value="Si" actionListener="#{proyectoBean.crearParametro}"   oncomplete="PF('pgGuardar').hide()"  title="Cerrar" update=":padding">
                                            <f:setPropertyActionListener value="#{false}" target="#{proyectoBean.estadoParametro}" />
                                        </p:commandButton>
                                        <p:commandButton oncomplete="PF('pgGuardar').hide()" style="#{empleadoBean.btnCancelar}"  value="No"> 
                                            <f:setPropertyActionListener value="#{false}" target="#{proyectoBean.estadoParametro}" />
                                        </p:commandButton>
                                    </center>
                                </p:outputPanel>
                            </h:form>
                        </p:dialog>
                    </p:outputPanel>
                    <p:outputPanel rendered="#{proyectoBean.modificarParametroIndividual}">
                        <h:form id="fModificarParametro" target="_blank">
                            <p:panel id="pModificarParametro"  header="Modificar parámetro"  style="width: 100%; margin: auto; margin-bottom: 20px">
                                <p:panelGrid   style="width: 100%; margin: auto;" styleClass="companyHeaderGrid">   
                                    <p:row>
                                        <p:column style=" width: 50%" >
                                            <h:outputText value="Parámetro:*"/> 
                                        </p:column>
                                        <p:column>
                                            <h:outputText value="Valor:*"/> 
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column>
                                            <p:selectOneMenu id="menu" value="#{proyectoBean.idParametro}" label="Parametros" style="width:100%"
                                                             filterMatchMode="startsWith" panelStyle="width:250px">
                                                <f:selectItem itemLabel="[SELECCIONE]" itemValue="0"/>
                                                <f:selectItems value="#{proyectoBean.listaParametrosSeguimiento}" var="l" itemLabel="#{l.nombre}" itemValue="#{l.idparametro}"/>
                                            </p:selectOneMenu> 
                                            <h:outputText style=" color: red" value="#{proyectoBean.msgParametro}"/> 
                                        </p:column>
                                        <p:column>
                                            <p:inputNumber  value="#{proyectoBean.parametroSeleccionado.valor}" placeholder="Ingrese el valor"  style="width: 100%;"/>
                                            <h:outputText style=" color: red" value="#{proyectoBean.msgValor}"/> 
                                        </p:column>
                                        <p:row>
                                            <p:column>
                                                <h:outputText value="Descripción:*"/>
                                            </p:column>
                                        </p:row>
                                        <p:row>
                                            <p:column  colspan="2">
                                                <p:inputTextarea id="tNombre"   value="#{proyectoBean.parametroSeleccionado.descripcion}"  style="width: 100%;" placeholder="Introduzca la descripción"/> 
                                                <h:outputText style=" color: red" value="#{proyectoBean.msgDescripcionParametro}"/> 
                                            </p:column>
                                        </p:row>
                                    </p:row>
                                </p:panelGrid>
                                <br></br>
                                <center>
                                    <p:commandButton  title="Registrar" value="Guardar"  actionListener="#{proyectoBean.validarParametros2()}"  update=":padding"     icon="fa fa-check" style="#{proyectoBean.btnCrear}">
                                    </p:commandButton> 
                                    <p:commandButton   update=":padding" icon="fa fa-close" title="Cancelar" value="Cancelar" style="#{proyectoBean.btnCancelar}">
                                        <f:setPropertyActionListener  value="#{true}" target="#{proyectoBean.modificarParametros}"  />  
                                        <f:setPropertyActionListener  value="#{false}" target="#{proyectoBean.modificarParametroIndividual}"  />
                                        <f:actionListener binding="#{proyectoBean.limpiarParametro()}"/> 
                                    </p:commandButton>
                                </center>
                            </p:panel>
                        </h:form>
                        <p:dialog header="Confirmar" width="25%" widgetVar="pgGuardar2" modal="true"  visible="#{proyectoBean.estadoParametro}" resizable="true" responsive="true" styleClass="ui-panelgrid-blank" appendTo="@(body)">
                            <h:form>
                                <p:outputPanel style="text-align:center;">
                                    <br></br>
                                    <p:panelGrid>
                                        <h:outputText value="¿Desea guardar este parámetro?"/>
                                    </p:panelGrid>
                                    <br></br>
                                    <hr></hr>
                                    <center>
                                        <p:commandButton style="#{empleadoBean.btnNuevo}" value="Si" actionListener="#{proyectoBean.modificarParametroIndividual()}" oncomplete="PF('pgGuardar2').hide()"    title="Cerrar" update=":padding">
                                            <f:setPropertyActionListener value="#{false}" target="#{proyectoBean.estadoParametro}" />
                                        </p:commandButton>
                                        <p:commandButton oncomplete="PF('pgGuardar2').hide()" style="#{empleadoBean.btnCancelar}"  value="No"> 
                                            <f:setPropertyActionListener value="#{false}" target="#{proyectoBean.estadoParametro}" />
                                        </p:commandButton>
                                    </center>
                                </p:outputPanel>
                            </h:form>
                        </p:dialog>
                    </p:outputPanel>
                    <p:outputPanel rendered="#{proyectoBean.modificarParametros}">
                        <h:form id="fAdminParametros" target="_blank">
                            <p:panel id="pAdminParametros"  header="Administrar parámetros"  style="width: 100%; margin: auto; margin-bottom: 20px">
                                <p:panelGrid  style="width: 100%; margin: auto;">   
                                    <p:row>
                                        <p:column colspan="3"  style=" width: 15%; background-color:#ebedf0">
                                            <center>  <h:outputText value="Proyecto"/> </center> 
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column colspan="2" style=" width:10%; vertical-align: top ">
                                            <h:outputText value="Nombre:"/>   <br></br>
                                            <h:outputText value="Descripción:"/>   <br></br>
                                        </p:column>
                                        <p:column style=" width: 35%; vertical-align: top">
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.nombre}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.descripcion}"/> <br></br>
                                        </p:column>
                                    </p:row>
                                </p:panelGrid>
                                <br></br>
                                <p:panelGrid  style="width: 100%; margin: auto;">   
                                    <p:row>
                                        <p:column colspan="4"  style=" width: 15%; background-color:#ebedf0">
                                            <center>  <h:outputText value="Seguimiento"/> </center> 
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column style=" width: 10%; vertical-align: top ">
                                          <h:outputText value="Fecha:"/> <br></br>
                                            <h:outputText value="Descripción:"/> <br></br>
                                        </p:column>
                                        <p:column style=" width: 50%; vertical-align: top" >
                                            <h:outputText value="#{proyectoBean.seguimientoSeleccionado.fechaseguimiento}">
                                                <f:convertDateTime pattern="dd/MM/YYYY"/>
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.seguimientoSeleccionado.descripcion}"/> <br></br>
                                        </p:column>
                                        <p:column style=" width: 10%; ">
                                            <h:outputText value="Estado:"/> <br></br>
                                        </p:column>
                                        <p:column style=" width: 20%">
                                            <h:outputText value="#{proyectoBean.seguimientoSeleccionado.estado eq 1? 'Activo':'Inactivo'}"/> <br></br>
                                        </p:column>
                                    </p:row>
                                </p:panelGrid>
                                <br></br>
                                <p:fieldset>
                                    <div align="left">
                                        <p:commandButton title="Nuevo parámetro" id="add"  update=":padding"    icon="fa fa-plus" style="#{cooperativaBean.btnNuevo}" >
                                            <f:setPropertyActionListener  value="#{true}" target="#{proyectoBean.agregarParametro}"  />
                                            <f:setPropertyActionListener  value="#{false}" target="#{proyectoBean.modificarParametros}"  />
                                        </p:commandButton>
                                    </div>
                                </p:fieldset>
                                <p:dataTable  id="basicDT" var="entidades" widgetVar="produrTable3"  paginator="true" rows="5" value="#{proyectoBean.listaParametros2}"
                                              paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                              paginatorPosition="bottom" style="width: 100%;"
                                              rowIndexVar="No" rowsPerPageTemplate="5"
                                              currentPageReportTemplate="Mostrando {startRecord}-{endRecord} de {totalRecords}"
                                              emptyMessage="No se encontraron parámetros"
                                              >
                                    <f:facet name="header">
                                        <p:outputPanel>                                           
                                            <p:inputText id="globalFilter" onkeyup="PF('produrTable3').filter()" style="width:150px" placeholder="Buscar"/>
                                        </p:outputPanel>
                                    </f:facet>
                                    <p:column   
                                        headerText="Nº" width="5%" style="text-align: center" >                                             
                                        <h:outputText value="#{No+1}"  />  
                                    </p:column> 
                                    <p:column   
                                        headerText="Nombre" width="20%" filterBy="#{entidades.TParametroseguimiento.nombre}" sortBy="#{entidades.TParametroseguimiento.nombre}" >                                             
                                        <h:outputText value="#{entidades.TParametroseguimiento.nombre}"  >
                                        </h:outputText>
                                    </p:column> 
                                    <p:column   
                                        headerText="Unidad" width="15%" filterBy="#{entidades.TParametroseguimiento.unidad}" sortBy="#{entidades.TParametroseguimiento.unidad}" >                                             
                                        <h:outputText value="#{entidades.TParametroseguimiento.unidad}"  >
                                        </h:outputText>
                                    </p:column> 
                                    <p:column headerText="Valor" width="10%" filterBy="#{entidades.valor}" sortBy="#{entidades.valor}"  
                                              >  
                                        <div aling="right"> </div>
                                        <h:outputText value="#{entidades.valor}" >
                                            <f:convertNumber     pattern=",#0.00" locale="en-US" />
                                        </h:outputText>
                                    </p:column>  
                                    <p:column  headerText="Descripción" width="31%" filterBy="#{entidades.descripcion}" sortBy="#{entidades.descripcion}"  
                                               >  
                                        <h:outputText value="#{entidades.descripcion}"  />  
                                    </p:column> 
                                    <p:column  width="9%" style="text-align: center"  >
                                        <p:splitButton  update=":padding" oncomplete="PF('dlVerParametro').show()" icon="fa fa-eye" style="#{entidades.estado eq true? cuentaBean.btnDarDeAlta :  cuentaBean.btnDarDeBaja}" >
                                            <f:setPropertyActionListener  value="#{entidades}" target="#{proyectoBean.parametroSeleccionado}"  />
                                           <p:menuitem  value="Modificar" update=":padding"     
                                                        icon=" fa fa-pencil">
                                                <f:setPropertyActionListener  value="#{entidades}" target="#{proyectoBean.parametroSeleccionado}"  />
                                                <f:actionListener binding="#{proyectoBean.cargarParametroIndividual()}"/> 
                                            </p:menuitem>
                                            <p:menuitem rendered="#{entidades.estado}" update=":padding"  oncomplete="PF('pgBaja').show()" icon="fa fa-arrow-down" value="Dar de baja">
                                                <f:setPropertyActionListener  value="#{entidades}" target="#{proyectoBean.parametroSeleccionado}"  />
                                            </p:menuitem>
                                            <p:menuitem rendered="#{!entidades.estado}" update=":padding"  oncomplete="PF('pgAlta').show()" icon="fa fa-arrow-up" value="Dar de alta"    >
                                                <f:setPropertyActionListener  value="#{entidades}" target="#{proyectoBean.parametroSeleccionado}"  />
                                            </p:menuitem>
                                        </p:splitButton>
                                   </p:column>
                                </p:dataTable>
                                <hr></hr>
                                <br></br>
                                <center>
                                    <p:splitButton  update=":padding" value="Ver PDF"  ajax="false" icon="fa fa-eye"  >
                                        <f:actionListener binding="#{proyectoBean.generarSeguimiento()}"/> 
                                        <p:menuitem  ajax="false" update=":padding"  icon="fa fa-download" value="Descargar PDF">
                                            <f:actionListener binding="#{proyectoBean.generarSeguimientoPDF()}"/> 
                                        </p:menuitem>
                                        <p:menuitem   update=":padding"   icon="fa fa-arrow-left" value="Volver">
                                            <f:setPropertyActionListener value="#{false}" target="#{proyectoBean.modificarParametros}" />
                                            <f:setPropertyActionListener value="#{true}" target="#{proyectoBean.mostrarListaSeguimientoTabla}" />
                                        </p:menuitem>
                                    </p:splitButton>
                                </center>
                            </p:panel>
                        </h:form>
                        <p:dialog header="Confirmar" width="25%" widgetVar="pgAlta" modal="true"   visible="false"  resizable="true" responsive="true" styleClass="ui-panelgrid-blank" appendTo="@(body)">
                            <h:form>
                                <p:outputPanel style="text-align:center;">
                                    <br></br>
                                    <p:panelGrid>
                                        <h:outputText value="¿Desea dar de alta parámetro?" />
                                    </p:panelGrid>
                                    <br></br>
                                    <hr></hr>
                                    <center>
                                        <p:commandButton value="Si" actionListener="#{proyectoBean.altaParametro()}"  update=":padding" icon="fa fa-check" style="#{compradorBean.btnNuevo}">
                                        </p:commandButton>
                                        <p:commandButton id="btnCancelCerrar"  update=":padding"  icon="fa fa-close"  value="No" style="#{compradorBean.btnCancelar}"> 
                                        </p:commandButton>
                                    </center>
                                </p:outputPanel>
                            </h:form>
                        </p:dialog>
                        <p:dialog header="Confirmar" width="25%" widgetVar="pgBaja" modal="true"   visible="false"  resizable="true" responsive="true" styleClass="ui-panelgrid-blank" appendTo="@(body)">
                            <h:form>
                                <p:outputPanel style="text-align:center;">
                                    <br></br>
                                    <p:panelGrid>
                                        <h:outputText value="¿Desea dar de baja este parámetro?" />
                                    </p:panelGrid>
                                    <br></br>
                                    <hr></hr>
                                    <center>
                                        <p:commandButton value="Si" actionListener="#{proyectoBean.bajaParametro()}"  update=":padding" icon="fa fa-check" style="#{compradorBean.btnNuevo}">
                                        </p:commandButton>
                                        <p:commandButton   update=":padding"  icon="fa fa-close"  value="No" style="#{compradorBean.btnCancelar}"> 
                                        </p:commandButton>
                                    </center>
                                </p:outputPanel>
                            </h:form>
                        </p:dialog>    
                        <p:dialog header="Datos del parámetro"  widgetVar="dlVerParametro" modal="true" visible="false"  resizable="true" responsive="true" styleClass="ui-panelgrid-blank" width="60%" appendTo="@(body)">
                            <h:form target="_blank">
                                <p:outputPanel  style="width: 100%">
                                    <p:panelGrid  style="width: 100%; margin: auto;" >
                                        <p:row>
                                            <p:column style=" width: 25%"   >
                                                <h:outputText value="Nombre:" />
                                            </p:column>
                                            <p:column  style=" width: 25%"  >
                                                <h:outputText value="#{proyectoBean.parametroSeleccionado.TParametroseguimiento.nombre}" />
                                            </p:column>
                                            <p:column style=" width: 25%"   >
                                                <h:outputText value="Valor:" />
                                            </p:column>
                                            <p:column  style=" width: 25%"  >
                                                <h:outputText value="#{proyectoBean.parametroSeleccionado.valor}" >
                                                      <f:convertNumber     pattern="#0.00" locale="en-US" />  
                                                    
                                                </h:outputText>
                                            </p:column>
                                        </p:row> 
                                        
                                         <p:row>
                                            <p:column style=" width: 25%"   >
                                                <h:outputText value="Unidad:" />
                                            </p:column>
                                            <p:column  style=" width: 25%"  >
                                                <h:outputText value="#{proyectoBean.parametroSeleccionado.TParametroseguimiento.unidad}" />
                                            </p:column>
                                            <p:column style=" width: 25%"   >
                                                <h:outputText value="Estado:" />
                                            </p:column>
                                            <p:column  style=" width: 25%"  >
                                                <h:outputText value="#{proyectoBean.parametroSeleccionado.estado eq true? 'Activo': 'Inactivo'}" >
                                                 
                                                    
                                                </h:outputText>
                                            </p:column>
                                        </p:row> 
                                        
                                        
                                        <p:row>
                                            <p:column style=" width: 25%"   >
                                                <h:outputText value="Descripción:" />
                                            </p:column>
                                            <p:column colspan="3" style=" width: 75%"  >
                                                <h:outputText value="#{proyectoBean.parametroSeleccionado.descripcion}" />
                                            </p:column>                                     
                                        </p:row>  
                                    </p:panelGrid>
                                    <br></br>
                                    <center>
                                        <p:splitButton  update=":padding" value="Ver PDF"  ajax="false" icon="fa fa-eye"  >
                                            <f:actionListener binding="#{proyectoBean.verParametro()}"/> 
                                            <p:menuitem  ajax="false" update=":padding"  icon="fa fa-download" value="Descargar PDF">
                                                <f:actionListener binding="#{proyectoBean.verParametroPDF()}"/> 
                                            </p:menuitem>
                                        </p:splitButton>
                                    </center>
                                </p:outputPanel>
                            </h:form>
                       </p:dialog>
                    </p:outputPanel>
                    <p:outputPanel  rendered="#{proyectoBean.mostrarParametroSeguimiento}" style=" width: 100%">
                        <h:form id="fMostrarSeguimientoCooperativa">
                            <p:panel id="pSeguimientoCooperativa"  header="Agregar seguimiento"  style="width: 100%; margin: auto; margin-bottom: 20px">
                                <p:panelGrid id="pgAgregar"  style="width: 100%; margin: auto;" styleClass="companyHeaderGrid">   
                                    <p:row>
                                        <p:column style=" width: 78%" >
                                        </p:column>
                                        <p:column >
                                            <h:outputText value="Fecha:*"/> 
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column style=" width: 78%" >
                                        </p:column>
                                        <p:column >
                                            <p:calendar navigator="true" yearRange="1910:" maxdate="#{proyectoBean.hoy}"  locale="es" pattern="dd/MM/yyyy" mask="true" showOn="button"  id="cfecha"  value="#{proyectoBean.seguimiento.fechaseguimiento}"/><br></br>
                                            <h:outputText style=" color:  red" value="#{proyectoBean.msgFechaSeguimiento}"/> 
                                        </p:column>
                                    </p:row>
                                </p:panelGrid>
                                <p:panelGrid   style="width: 100%; margin: auto;" styleClass="companyHeaderGrid">   
                                    <p:row>
                                        <p:column>
                                            <h:outputText value="Descripción:*"/> 
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column>
                                            <p:inputTextarea style=" width: 100%" placeholder="Introduzca la discripción" value="#{proyectoBean.seguimiento.descripcion}" /> 
                                            <h:outputText style=" color:  red" value="#{proyectoBean.msgDescripcionSeguimiento}"/> 
                                        </p:column> 
                                    </p:row>
                                </p:panelGrid>
                                <br></br>
                                <div align="center">
                                    <p:commandButton id="btnCrear" title="Registrar" value="Guardar"  actionListener="#{proyectoBean.validarFormularioSeguimiento()}"  update=":padding"   icon="fa fa-check" style="#{proyectoBean.btnCrear}">
                                    </p:commandButton> 
                                    <p:commandButton  actionListener="#{proyectoBean.mostrarListaSeguimiento()}" update=":padding" icon="fa fa-close" title="Cancelar" value="Cancelar" style="#{proyectoBean.btnCancelar}"> 
                                    </p:commandButton>
                                </div>
                            </p:panel>
                        </h:form>
                        <p:dialog header="Confirmar" width="25%" widgetVar="pgGuardar" modal="true"  visible="#{proyectoBean.estadoFormularioSeguimiento}" resizable="true" responsive="true" styleClass="ui-panelgrid-blank" appendTo="@(body)">
                            <h:form>
                                <p:outputPanel style="text-align:center;">
                                    <br></br>
                                    <p:panelGrid>
                                        <h:outputText value="¿Desea guardar este seguimiento?"/>
                                    </p:panelGrid>
                                    <br></br>
                                    <hr></hr>
                                    <center>
                                        <p:commandButton style="#{empleadoBean.btnNuevo}" value="Si" actionListener="#{proyectoBean.crearSeguimiento}"   oncomplete="PF('pgGuardar').hide()"  title="Cerrar" update=":padding">
                                            <f:setPropertyActionListener value="#{false}" target="#{proyectoBean.estadoFormularioSeguimiento}" />
                                        </p:commandButton>
                                        <p:commandButton oncomplete="PF('pgGuardar').hide()" style="#{empleadoBean.btnCancelar}"  value="No"> 
                                            <f:setPropertyActionListener value="#{false}" target="#{proyectoBean.estadoFormularioSeguimiento}" />
                                        </p:commandButton>
                                    </center>
                                </p:outputPanel>
                            </h:form>
                        </p:dialog>
                    </p:outputPanel>
                    <p:outputPanel  rendered="#{proyectoBean.mostrarPagos}" style=" width: 100%">
                        <h:form id="fAgregarPago" target="_blank">
                            <p:panel id="pRegistrarPago"  header="Agregar pago"  style="width: 100%; margin: auto; margin-bottom: 20px">
                               <p:panelGrid  style="width: 100%; margin: auto;">   
                                    <p:row>
                                        <p:column colspan="5" style=" width: 15%; background-color:#ebedf0">
                                            <center>  <h:outputText value="Cliente"/> </center> 
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column style=" width: 25%; ">
                                            <h:outputText value="Código:"/> <br></br>
                                            <h:outputText value="Nombres:"/>   <br></br>
                                            <h:outputText value="Apellidos:"/>   <br></br>
                                        </p:column>
                                        <p:column style=" width: 25%">
                                            <h:outputText value="#{proyectoBean.clienteSeleccionado.codigoCliente}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.clienteSeleccionado.nombreCliente}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.clienteSeleccionado.apellidoCliente}"/>
                                        </p:column>
                                        <p:column colspan="2" style=" width:25%; ">
                                            <h:outputText value="DUI:"/> <br></br>
                                            <h:outputText value="NIT:"/>   <br></br>
                                        </p:column>
                                        <p:column style=" width: 25%">
                                            <h:outputText value="#{proyectoBean.clienteSeleccionado.duiCliente}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.clienteSeleccionado.nitCliente}">
                                           </h:outputText>
                                        </p:column>
                                    </p:row>
                                </p:panelGrid>
                                <br></br>
                                <p:panelGrid  style="width: 100%; margin: auto;"> 
                                    <p:row>
                                        <p:column colspan="5" style=" width: 15%; background-color:#ebedf0">
                                            <center>  <h:outputText value="Crédito"/> </center> 
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column style=" width: 15%; ">
                                            <h:outputText value="Código:"/> <br></br>
                                            <h:outputText value="Modalidad:"/> <br></br>
                                            <h:outputText value="Destino:"/> <br></br>
                                            <h:outputText value="Monto:"/> <br></br>
                                            <h:outputText value="Plazo (meses):"/> <br></br>
                                            <h:outputText value="Forma de pago:"/> <br></br>
                                        </p:column>
                                        <p:column style=" width: 50%">
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.codigoProyecto}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.cambiar(proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito)}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.destinoProyecto}"/> <br></br>
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.monto}">
                                                <f:convertNumber  pattern=",#00.00" locale="en-US" /> 
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.plazo}"/>  <br></br>
                                            <h:outputText value="#{proyectoBean.formaPagos}"/> <br></br>
                                        </p:column>
                                        <p:column colspan="2" style=" width:25%; ">
                                            <h:outputText value="Tasa de interés (%):"/> <br></br>
                                            <h:outputText value="Tasa de interés por mora (%):"/> <br></br>
                                            <h:outputText value="Estado:"/>   <br></br>
                                            <h:outputText value="Calificación:"/>   <br></br>
                                            <h:outputText value="Fecha de aprobación:"/> <br></br>
                                            <h:outputText value="Fecha de vencimiento:"/>   <br></br>
                                            <h:outputText value="Fecha de finalización:"/>   <br></br>
                                        </p:column>
                                        <p:column style=" width: 25%">
                                            <h:outputText value="#{proyectoBean.politicaSeleccionada.tasaInteres}">
                                                
                                                 <f:convertNumber    pattern=",#0.00" locale="en-US" /> 
                                                 
                                            </h:outputText>
                                                
                                                <br></br>
                                            <h:outputText value="#{proyectoBean.politicaSeleccionada.tasaInteresMora}">
                                                 <f:convertNumber    pattern=",#0.00" locale="en-US" /> 
                                                 
                                            </h:outputText>
                                                
                                                <br></br>
                                            <h:outputText value="#{proyectoBean.cambiarEstado(proyectoBean.proyectoSeleccionado.estado)}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.calificacion}">
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.fechaAprovacion}">
                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.fechaVencimientoProyecto}">
                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.fechaFinalizacionProyecto eq null? '--/--/----':proyectoBean.proyectoSeleccionado.fechaFinalizacionProyecto}"> 
                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                            </h:outputText>
                                        </p:column>
                                    </p:row>
                                </p:panelGrid>
                                <br></br>
                                <p:fieldset>
                                    <p:panelGrid  style="width: 100%; margin: auto;" styleClass="borderHidden">   
                                        <p:row>
                                            <p:column style=" width: 73%">
                                                <h:outputText value="Fecha de aplicación: ">
                                                </h:outputText>
                                                <h:outputText value="#{proyectoBean.fechaAplicacion}">
                                                    <f:convertDateTime pattern="dd/MM/yyyy" />
                                                </h:outputText>
                                            </p:column>
                                            <p:column colspan="1" style=" width: 27%"> 
                                                <h:outputText value="Fecha estipulada de pago:"/>
                                                <h:outputText value="#{proyectoBean.fechaEstipulada}">
                                                    <f:convertDateTime pattern="dd/MM/yyyy" />
                                                </h:outputText>
                                            </p:column>
                                        </p:row>
                                    </p:panelGrid>
                                </p:fieldset>
                                <br></br>
                                <p:panelGrid id="pgAgregar"  style="width: 100%; margin: auto;">   
                                    <p:row>
                                        <p:column colspan="2" style=" width: 50%; background-color: #ebedf0">
                                            <center>  <h:outputText value="Cuota"/> </center> 
                                        </p:column>
                                        <p:column colspan="3" style=" width: 50%; background-color: #ebedf0 "> 
                                            <center>           <h:outputText value="Detalle "/> </center> 
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column style=" width: 25%; ">
                                            <h:outputText value="Pago ($):"/>  
                                            <br></br>
                                            <p:inputNumber id="tNombre" readonly="true"   value="#{proyectoBean.abonoCuota}"  style="width: 100%;"/>
                                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        </p:column>
                                        <p:column style=" width: 25%; ">
                                            <h:outputText  value="Extra ($):"/>  <br></br>
                                            <p:inputNumber id="extra" minValue="0" value="#{proyectoBean.abonoExtra}"  style="width: 100%;"/>
                                            <br></br>
                                            <center>
                                            </center>
                                        </p:column>
                                        <p:column colspan="2" style=" width:25%"> 
                                            <h:outputText value="Nº de cuota:"/> <br></br>
                                            <h:outputText value="Interés:"/>  <br></br>
                                            <h:outputText value="Abono a capital:"/>   <br></br>
                                            <h:outputText value="Mora (#{proyectoBean.diasRetraso} dias) :"/> <br></br>
                                            <h:outputText value="Total (cuota + mora):"/> 
                                        </p:column>
                                        <p:column style=" width: 25%">
                                            <h:outputText value="#{proyectoBean.numeroCuota}"/> <br></br>
                                            <h:outputText value="$"/> 
                                            <h:outputText value="#{proyectoBean.pago.interes}">
                                                <f:convertNumber  pattern="#0.00" locale="en-US" />
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.pago.abono}">
                                                <f:convertNumber  pattern="#0.00" locale="en-US" />
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.mora}" >
                                                <f:convertNumber  pattern="#0.00" locale="en-US" />
                                            </h:outputText> 
                                            <br></br>
                                            <b>
                                                <h:outputText value="$"/>
                                                <h:outputText value="#{proyectoBean.totalMora}">
                                                    <f:convertNumber  pattern="#0.00" locale="en-US" />
                                                </h:outputText>
                                            </b>
                                        </p:column>
                                    </p:row>
                                </p:panelGrid>
                                <br></br>
                                <div align="center">
                                   <p:commandButton id="btnCrear" title="Registrar" value="Guardar"  actionListener="#{proyectoBean.validarFormularioPago}"  update=":padding"   icon="fa fa-check" style="#{proyectoBean.btnCrear}"></p:commandButton>
                                    <p:commandButton  actionListener="#{proyectoBean.enableShowSeguimiento}" update=":padding" icon="fa fa-close" title="Cancelar" value="Cancelar" style="#{proyectoBean.btnCancelar}"> 
                                    </p:commandButton>
                                </div>
                            </p:panel>
                        </h:form>
                        <p:dialog header="Confirmar" width="25%" widgetVar="pgGuardar" modal="true" visible="#{proyectoBean.estadoFormularioPago}" resizable="true" responsive="true" styleClass="ui-panelgrid-blank" appendTo="@(body)">
                            <h:form>
                                <p:outputPanel style="text-align:center;">
                                    <br></br>
                                    <p:panelGrid>
                                        <h:outputText value="¿Desea realizar este pago?"/>
                                    </p:panelGrid>
                                    <br></br>
                                    <hr></hr>
                                    <center>
                                        <p:commandButton value="Si" actionListener="#{proyectoBean.createPago}"  update=":padding" oncomplete="PF('pgGuardar').hide()" icon="fa fa-check" style="#{proyectoBean.btnCrear}">
                                        </p:commandButton>
                                        <p:commandButton oncomplete="PF('pgGuardar').hide()"   icon="fa fa-close"  value="No" style="#{proyectoBean.btnCancelar}"> 
                                            <f:setPropertyActionListener value="#{false}" target="#{proyectoBean.estadoFormularioPago}" />
                                        </p:commandButton>
                                    </center>
                                </p:outputPanel>
                            </h:form>
                        </p:dialog>
                    </p:outputPanel>
                    <p:outputPanel  rendered="#{proyectoBean.mostrarPagosCooperativa}" style=" width: 100%">
                        <h:form id="fAgregarPagoCooperativa" target="_blank">
                            <p:panel id="pRegistrarPagoCooperativa"  header="Agregar pago"  style="width: 100%; margin: auto; margin-bottom: 20px">
                                <p:panelGrid  style="width: 100%; margin: auto;">   
                                    <p:row>
                                        <p:column colspan="5" style=" width: 15%; background-color:#ebedf0">
                                            <center>  <h:outputText value="Cliente"/> </center> 
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column style=" width: 15%; vertical-align:  top ">
                                            <h:outputText value="Código:"/> <br></br>
                                            <h:outputText value="NIT:"/> <br></br>
                                            <h:outputText value="Giro:"/> <br></br>
                                            
                                        </p:column>
                                        <p:column style=" width: 20%; vertical-align:  top">
                                            <h:outputText value="#{proyectoBean.entidadeleccionada.codigoClienteEntidad}"/> <br></br>                                            
                                            <h:outputText value="#{proyectoBean.entidadeleccionada.nitEntidad}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.entidadeleccionada.giroEntidad}"/> <br></br>
                                        </p:column>
                                        <p:column colspan="2" style=" width:15%; vertical-align:  top ">
                                            <h:outputText value="Cooperativa:"/>   <br></br>
                                            
                                            <h:outputText value="Representante legal:"/>   <br></br>
                                            <h:outputText value="Nombre:"/>   <br></br>
                                        </p:column>
                                        <p:column style=" width: 50%; vertical-align:  top">
                                            <h:outputText value="#{proyectoBean.entidadeleccionada.codigoEntidad}"/> <br></br>
                                            
                                            <h:outputText value="#{proyectoBean.entidadeleccionada.nombreRepresentanteEntidad}"/><br></br>
                                            
                                            <h:outputText value="#{proyectoBean.entidadeleccionada.nombreEntidad}"/> 
                                        </p:column>
                                    </p:row>
                                </p:panelGrid>
                                <br></br>
                                <p:panelGrid  style="width: 100%; margin: auto;"> 
                                    <p:row>
                                        <p:column colspan="5" style=" width: 15%; background-color:#ebedf0">
                                            <center>  <h:outputText value="Crédito"/> </center> 
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column style=" width: 15%; ">
                                            <h:outputText value="Código:"/> <br></br>
                                            <h:outputText value="Modalidad:"/> <br></br>
                                            <h:outputText value="Destino:"/> <br></br>
                                            <h:outputText value="Monto:"/> <br></br>
                                            <h:outputText value="Plazo (meses):"/> <br></br>
                                            <h:outputText value="Forma de pago:"/> <br></br>
                                        </p:column>
                                        <p:column style=" width: 50%">
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.codigoProyecto}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.cambiar(proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito)}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.destinoProyecto}"/> <br></br>
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.monto}">
                                                <f:convertNumber  pattern=",#00.00" locale="en-US" /> 
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.plazo}"/>  <br></br>
                                            <h:outputText value="#{proyectoBean.formaPagos}"/> <br></br>
                                        </p:column>
                                        <p:column colspan="2" style=" width:25%; ">
                                            <h:outputText value="Tasa de interés (%):"/> <br></br>
                                            <h:outputText value="Tasa de interés por mora (%):"/> <br></br>
                                            <h:outputText value="Estado:"/>   <br></br>
                                            <h:outputText value="Calificación:"/>   <br></br>
                                            <h:outputText value="Fecha de aprobación:"/> <br></br>
                                            <h:outputText value="Fecha de vencimiento:"/>   <br></br>
                                            <h:outputText value="Fecha de finalización:"/>   <br></br>
                                        </p:column>
                                        <p:column style=" width: 25%">
                                            <h:outputText value="#{proyectoBean.politicaSeleccionada.tasaInteres}">
                                                
                                                 <f:convertNumber    pattern=",#0.00" locale="en-US" /> 
                                                 
                                            </h:outputText>
                                                
                                                <br></br>
                                            <h:outputText value="#{proyectoBean.politicaSeleccionada.tasaInteresMora}">
                                                <f:convertNumber    pattern=",#0.00" locale="en-US" /> 
                                                 
                                            </h:outputText>
                                                
                                                <br></br>
                                            <h:outputText value="#{proyectoBean.cambiarEstado(proyectoBean.proyectoSeleccionado.estado)}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.calificacion}">
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.fechaAprovacion}">
                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.fechaVencimientoProyecto}">
                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.fechaFinalizacionProyecto eq null? '--/--/----':proyectoBean.proyectoSeleccionado.fechaFinalizacionProyecto}"> 
                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                            </h:outputText>
                                        </p:column>
                                    </p:row>
                                </p:panelGrid>
                                <br></br>
                                <p:fieldset>
                                    <p:panelGrid  style="width: 100%; margin: auto;" styleClass="borderHidden">   
                                        <p:row>
                                            <p:column style=" width: 73%">
                                                <h:outputText value="Fecha de aplicación: ">
                                                </h:outputText>
                                                <h:outputText value="#{proyectoBean.fechaAplicacion}">
                                                    <f:convertDateTime pattern="dd/MM/yyyy" />
                                                </h:outputText>
                                            </p:column>
                                            <p:column colspan="1" style=" width: 27%"> 
                                                <h:outputText value="Fecha estipulada de pago:"/>
                                                <h:outputText value="#{proyectoBean.fechaEstipulada}">
                                                    <f:convertDateTime pattern="dd/MM/yyyy" />
                                                </h:outputText>
                                            </p:column>
                                        </p:row>
                                    </p:panelGrid>
                                </p:fieldset>
                                <br></br>
                                <p:panelGrid id="pgAgregar"  style="width: 100%; margin: auto;">   
                                    <p:row>
                                        <p:column colspan="2" style=" width: 50%; background-color: #ebedf0">
                                            <center>  <h:outputText value="Cuota"/> </center> 
                                        </p:column>
                                        <p:column colspan="3" style=" width: 50%; background-color: #ebedf0 "> 
                                            <center>           <h:outputText value="Detalle "/> </center> 
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                       <p:column style=" width: 25%; ">
                                            <h:outputText value="Pago ($):"/>  
                                           <br></br>
                                           <p:inputNumber id="tNombre" readonly="true"   value="#{proyectoBean.abonoCuota}"  style="width: 100%;"/>
                                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        </p:column>
                                        <p:column style=" width: 25%; ">
                                            <h:outputText  value="Extra ($):"/>  <br></br>
                                            <p:inputNumber id="extra" minValue="0" value="#{proyectoBean.abonoExtra}"  style="width: 100%;"/>
                                            <br></br>
                                            <center>
                                           </center>
                                        </p:column>
                                        <p:column colspan="2" style=" width:25%"> 
                                            <h:outputText value="Nº de cuota:"/> <br></br>
                                            <h:outputText value="Interés:"/>  <br></br>
                                            <h:outputText value="Abono a capital:"/>   <br></br>
                                            <h:outputText value="Mora (#{proyectoBean.diasRetraso} dias) :"/> <br></br>
                                            <h:outputText value="Total (cuota + mora):"/> 
                                       </p:column>
                                        <p:column style=" width: 25%">
                                            <h:outputText value="#{proyectoBean.numeroCuota}"/> <br></br>
                                            <h:outputText value="$"/> 
                                            <h:outputText value="#{proyectoBean.pago.interes}">
                                                <f:convertNumber  pattern="#0.00" locale="en-US" />
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.pago.abono}">
                                                <f:convertNumber  pattern="#0.00" locale="en-US" />
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.mora}" >
                                                <f:convertNumber  pattern="#0.00" locale="en-US" />
                                            </h:outputText> 
                                            <br></br>
                                            <b>   <h:outputText value="$"/>
                                                <h:outputText value="#{proyectoBean.totalMora}">
                                                    <f:convertNumber  pattern="#0.00" locale="en-US" />
                                                </h:outputText>
                                            </b>
                                        </p:column>
                                    </p:row>
                                </p:panelGrid>
                                <br></br>
                                <div align="center">
                                    <p:commandButton id="btnCrear" title="Registrar" value="Guardar"  actionListener="#{proyectoBean.validarFormularioPago}"  update=":padding"   icon="fa fa-check" style="#{proyectoBean.btnCrear}">
                                    </p:commandButton> 
                                    <p:commandButton  actionListener="#{proyectoBean.enableShowSeguimiento}" update=":padding" icon="fa fa-close" title="Cancelar" value="Cancelar" style="#{proyectoBean.btnCancelar}"> 
                                    </p:commandButton>
                                </div>
                            </p:panel>
                        </h:form>
                        <p:dialog header="Confirmar" width="25%" widgetVar="pgGuardar" modal="true" visible="#{proyectoBean.estadoFormularioPago}" resizable="true" responsive="true" styleClass="ui-panelgrid-blank" appendTo="@(body)">
                            <h:form>
                                <p:outputPanel style="text-align:center;">
                                    <br></br>
                                    <p:panelGrid>
                                        <h:outputText value="¿Desea realizar este pago?"/>
                                    </p:panelGrid>
                                    <br></br>
                                    <hr></hr>
                                    <center>
                                        <p:commandButton value="Si" actionListener="#{proyectoBean.createPago}"  update=":padding" oncomplete="PF('pgGuardar').hide()" icon="fa fa-check" style="#{proyectoBean.btnCrear}">
                                        </p:commandButton>
                                        <p:commandButton oncomplete="PF('pgGuardar').hide()"   icon="fa fa-close"  value="No" style="#{proyectoBean.btnCancelar}"> 
                                            <f:setPropertyActionListener value="#{false}" target="#{proyectoBean.estadoFormularioPago}" />
                                        </p:commandButton>
                                    </center>
                                </p:outputPanel>
                            </h:form>
                        </p:dialog>
                    </p:outputPanel>
                    <p:outputPanel  rendered="#{proyectoBean.mostrarDesembolso}" style=" width: 100%">
                        <h:form id="fAgregarDesembolsod" target="_blank">
                            <p:panel id="pRegistrarDesembolso"  header="Agregar desembolso"  style="width: 100%; margin: auto; margin-bottom: 20px">
                                <p:panelGrid  style="width: 100%; margin: auto;" styleClass="borderHidden">
                                    <p:row>
                                        <p:column style=" width: 77%">
                                        </p:column>
                                        <p:column>
                                            <h:outputText value="Fecha:*"/>
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column style=" width: 77%">
                                        </p:column>
                                        <p:column>
                                            <p:calendar  id="cFecha" value="#{proyectoBean.desembolso.fechaDesembolso}" locale="es" maxdate="#{solicitudBean.hoy}" pattern="dd/MM/yyyy" mask="true" showOn="button" navigator="true" style="width: 100%"/>
                                        </p:column>
                                    </p:row>
                                </p:panelGrid>
                                <br></br>
                                <p:panelGrid  style="width: 100%; margin: auto;">   
                                    <p:row>
                                        <p:column colspan="5" style=" width: 15%; background-color:#ebedf0">
                                            <center>  <h:outputText value="Cliente"/> </center> 
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column style=" width: 15%; vertical-align:  top">
                                            <h:outputText value="Código:"/> <br></br>
                                              <h:outputText value="Nit:"/> <br></br>
                                            <h:outputText value="Giro:"/> <br></br>
                                          
                                        </p:column>
                                        <p:column style=" width: 20% ; vertical-align:  top">
                                            <h:outputText value="#{proyectoBean.entidadeleccionada.codigoClienteEntidad}"/> <br></br>
                                            
                                            <h:outputText value="#{proyectoBean.entidadeleccionada.nitEntidad}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.entidadeleccionada.giroEntidad}"/> <br></br>
                                        </p:column>
                                        <p:column colspan="2" style=" width:15%; vertical-align:  top">
                                            <h:outputText value="Cooperativa:"/>   <br></br>
                                            
                                            <h:outputText value="Representante legal:"/>   <br></br>
                                            <h:outputText value="Nombre:"/>   <br></br>
                                        </p:column>
                                        <p:column style=" width: 50%; vertical-align:  top">
                                            <h:outputText value="#{proyectoBean.entidadeleccionada.codigoEntidad}"/> <br></br>
                                            
                                            <h:outputText value="#{proyectoBean.entidadeleccionada.nombreRepresentanteEntidad}">
                                            </h:outputText><br></br>
                                            <h:outputText value="#{proyectoBean.entidadeleccionada.nombreEntidad}"/> 
                                        </p:column>
                                   </p:row>
                                </p:panelGrid>
                               <br></br>
                                <p:panelGrid  style="width: 100%; margin: auto;"> 
                                    <p:row>
                                        <p:column colspan="5" style=" width: 15%; background-color:#ebedf0">
                                            <center>  <h:outputText value="Credito"/> </center> 
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column style=" width: 15%; ">
                                            <h:outputText value="Código:"/> <br></br>
                                            <h:outputText value="Modalidad:"/> <br></br>
                                            <h:outputText value="Destino:"/> <br></br>
                                            <h:outputText value="Monto:"/> <br></br>
                                            <h:outputText value="Plazo (meses):"/> <br></br>
                                            <h:outputText value="Forma de pago:"/> <br></br>
                                        </p:column>
                                        <p:column style=" width: 50%">
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.codigoProyecto}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.cambiar(proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito)}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.destinoProyecto}"/> <br></br>
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.monto}">
                                                <f:convertNumber  pattern=",#00.00" locale="en-US" /> 
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.plazo}"/>  <br></br>
                                            <h:outputText value="#{proyectoBean.formaPagos}"/> <br></br>
                                        </p:column>
                                        <p:column colspan="2" style=" width:25%; ">
                                            <h:outputText value="Tasa de interés (%):"/> <br></br>
                                            <h:outputText value="Tasa de interés por mora (%):"/> <br></br>
                                            <h:outputText value="Estado:"/>   <br></br>
                                            <h:outputText value="Calificación:"/>   <br></br>
                                            <h:outputText value="Fecha de aprobación:"/> <br></br>
                                            <h:outputText value="Fecha de vencimiento:"/>   <br></br>
                                            <h:outputText value="Fecha de finalización:"/>   <br></br>
                                        </p:column>
                                        <p:column style=" width: 25%">
                                            <h:outputText value="#{proyectoBean.politicaSeleccionada.tasaInteres}">
                                                    <f:convertNumber     pattern=",#0.00" locale="en-US" /> 
                                            </h:outputText>
                                            
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.politicaSeleccionada.tasaInteresMora}">
                                                
                                                    <f:convertNumber     pattern=",#0.00" locale="en-US" /> 
                                                
                                            </h:outputText>
                                            
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.cambiarEstado(proyectoBean.proyectoSeleccionado.estado)}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.calificacion}">
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.fechaAprovacion}">
                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.fechaVencimientoProyecto eq null? '--/--/----':proyectoBean.proyectoSeleccionado.fechaVencimientoProyecto}">
                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.fechaFinalizacionProyecto eq null? '--/--/----':proyectoBean.proyectoSeleccionado.fechaFinalizacionProyecto}"> 
                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                            </h:outputText>
                                        </p:column>
                                    </p:row>
                                </p:panelGrid>
                                <br></br>
                                <p:panelGrid id="pgAgregar"  style="width: 100%; margin: auto;">   
                                    <p:row>
                                        <p:column colspan="6" style=" width: 100%; background-color: #ebedf0 "> 
                                            <center>           <h:outputText value="Desembolso"/> </center> 
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column style=" width: 50%">
                                            <h:outputText value="Monto a desembolsar ($):*"/> <br></br> <p:inputNumber id="tNombre" minValue="1"   value="#{proyectoBean.desembolso.montoDesembolso}"  style="width: 100%;"/> 
                                            &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &nbsp;&nbsp;&nbsp;&nbsp;  
                                            <p:selectBooleanCheckbox  value="#{proyectoBean.finalizacionDesembolso}" >
                                            </p:selectBooleanCheckbox> 
                                            &nbsp;&nbsp;&nbsp;&nbsp;     <h:outputText value="¿Finalizar?"/> 
                                            <br></br>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.msgDesembolso}" style=" color:  red" />
                                        </p:column>
                                        <p:column colspan="2" style=" width:25%"> 
                                            <h:outputText value="Monto aprobado:"/> <br></br>
                                            <h:outputText value="Monto restante:"/>   <br></br>
                                       </p:column>
                                        <p:column style=" width: 25%">
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.monto}">
                                                <f:convertNumber  pattern=",#00.00" locale="en-US" /> 
                                           </h:outputText>
                                            <br></br>                                            
                                           <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.diferenciaDesembolso}">
                                                <f:convertNumber  pattern=",#00.00" locale="en-US" /> 
                                            </h:outputText>
                                        </p:column>
                                    </p:row>
                                </p:panelGrid>
                                <br></br>
                                <h:outputText value="Nota: La ejecución del crédito empieza a partir de la fecha de realización del ultimo desembolso, se deberá cancelar la cuota estipulada el mismo día de cada mes, según el plazo"/>
                                <br></br>
                                <br></br>
                                <div align="center">
                                    <p:commandButton  title="Registrar" value="Guardar"  actionListener="#{proyectoBean.validarFormularioDesembolso}"  update=":padding"   icon="fa fa-check" style="#{proyectoBean.btnCrear}">
                                    </p:commandButton>   
                                    <p:commandButton  actionListener="#{proyectoBean.enableShowSeguimiento}" update=":padding" icon="fa fa-close" title="Cancelar" value="Cancelar" style="#{proyectoBean.btnCancelar}"> 
                                        <f:setPropertyActionListener value="#{false}" target="#{proyectoBean.estadoFormularioDesembolso}" />
                                    </p:commandButton>
                                </div>
                            </p:panel>
                        </h:form>
                        <p:dialog header="Confirmar" width="25%" widgetVar="pgGuardar" modal="true" visible="#{proyectoBean.estadoFormularioDesembolso}" resizable="true" responsive="true" styleClass="ui-panelgrid-blank" appendTo="@(body)">
                            <h:form target="_blank">
                                <p:outputPanel style="text-align:center;">
                                    <br></br>
                                    <p:panelGrid>
                                        <h:outputText value="¿Desea agregar este desembolso?"/>
                                    </p:panelGrid>
                                    <br></br>
                                    <hr></hr>
                                    <center>
                                        <p:commandButton value="Si" oncomplete="PF('pgGuardar').hide()" update=":padding"  actionListener="#{proyectoBean.createDesembolso}"    icon="fa fa-check" style="#{proyectoBean.btnCrear}">
                                            <f:setPropertyActionListener value="#{false}" target="#{proyectoBean.estadoFormularioDesembolso}" />
                                        </p:commandButton>
                                        <p:commandButton oncomplete="PF('pgGuardar').hide()"   icon="fa fa-close"  value="No" style="#{proyectoBean.btnCancelar}"> 
                                            <f:setPropertyActionListener value="#{false}" target="#{proyectoBean.estadoFormularioDesembolso}" />
                                        </p:commandButton>
                                    </center>
                                </p:outputPanel>
                            </h:form>
                        </p:dialog>
                   </p:outputPanel>
                    <p:outputPanel  rendered="#{proyectoBean.showCreateComercio}" style=" width: 100%">
                        <h:form id="fAgregarDesembolso" target="_blank">
                            <p:panel id="pRegistrarDesembolso"  header="Agregar desembolso"  style="width: 100%; margin: auto; margin-bottom: 20px">
                                <p:panelGrid  style="width: 100%; margin: auto;" styleClass="borderHidden">
                                    <p:row>
                                        <p:column style=" width: 77%">
                                        </p:column>
                                        <p:column>
                                            <h:outputText value="Fecha:*"/>
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column style=" width: 77%">
                                        </p:column>
                                        <p:column>
                                            <p:calendar  id="cFecha" maxdate="#{solicitudBean.hoy}" value="#{proyectoBean.desembolso.fechaDesembolso}" locale="es" pattern="dd/MM/yyyy" mask="true" showOn="button" navigator="true" style="width: 100%"/>
                                          <h:outputText value="#{proyectoBean.msgFecha}" style=" color:  red" />
                                        </p:column>
                                    </p:row>
                                    <div align="right">
                                    </div> 
                                </p:panelGrid>
                                <br></br>
                                <p:panelGrid  style="width: 100%; margin: auto;">   
                                    <p:row>
                                        <p:column colspan="5" style=" width: 15%; background-color:#ebedf0">
                                            <center>  <h:outputText value="Cliente"/> </center> 
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column style=" width: 25%; ">
                                            <h:outputText value="Código:"/> <br></br>
                                            <h:outputText value="Nombres:"/>   <br></br>
                                            <h:outputText value="Apellidos:"/>   <br></br>
                                        </p:column>
                                        <p:column style=" width: 25%">
                                            <h:outputText value="#{proyectoBean.clienteSeleccionado.codigoCliente}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.clienteSeleccionado.nombreCliente}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.clienteSeleccionado.apellidoCliente}"/>
                                        </p:column>
                                        <p:column colspan="2" style=" width:25%; ">
                                            <h:outputText value="DUI:"/> <br></br>
                                            <h:outputText value="NIT:"/>   <br></br>
                                        </p:column>
                                        <p:column style=" width: 25%">
                                            <h:outputText value="#{proyectoBean.clienteSeleccionado.duiCliente}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.clienteSeleccionado.nitCliente}">
                                            </h:outputText>
                                        </p:column>
                                    </p:row>
                                </p:panelGrid>
                                <br></br>
                               <p:panelGrid  style="width: 100%; margin: auto;"> 
                                    <p:row>
                                        <p:column colspan="5" style=" width: 15%; background-color:#ebedf0">
                                            <center>  <h:outputText value="Credito"/> </center> 
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column style=" width: 15%; ">
                                            <h:outputText value="Código:"/> <br></br>
                                            <h:outputText value="Modalidad:"/> <br></br>
                                            <h:outputText value="Destino:"/> <br></br>
                                            <h:outputText value="Monto:"/> <br></br>
                                            <h:outputText value="Plazo (meses):"/> <br></br>
                                            <h:outputText value="Forma de pago:"/> <br></br>
                                        </p:column>
                                        <p:column style=" width: 50%">
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.codigoProyecto}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.cambiar(proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito)}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.destinoProyecto}"/> <br></br>
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.monto}">
                                                <f:convertNumber  pattern=",#00.00" locale="en-US" /> 
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.plazo}"/>  <br></br>
                                            <h:outputText value="#{proyectoBean.formaPagos}"/> <br></br>
                                        </p:column>
                                        <p:column colspan="2" style=" width:25%; ">
                                            <h:outputText value="Tasa de interés (%):"/> <br></br>
                                            <h:outputText value="Tasa de interés por mora (%):"/> <br></br>
                                            <h:outputText value="Estado:"/>   <br></br>
                                            <h:outputText value="Calificación:"/>   <br></br>
                                            <h:outputText value="Fecha de aprobación:"/> <br></br>
                                            <h:outputText value="Fecha de vencimiento:"/>   <br></br>
                                            <h:outputText value="Fecha de finalización:"/>   <br></br>
                                        </p:column>
                                        <p:column style=" width: 25%">
                                            <h:outputText value="#{proyectoBean.politicaSeleccionada.tasaInteres}">
                                                    <f:convertNumber     pattern=",#0.00" locale="en-US" /> 
                                            </h:outputText>
                                                
                                                
                                                <br></br>
                                            <h:outputText value="#{proyectoBean.politicaSeleccionada.tasaInteresMora}">
                                                    <f:convertNumber     pattern=",#0.00" locale="en-US" /> 
                                                    
                                            </h:outputText>
                                                
                                                <br></br>
                                            <h:outputText value="#{proyectoBean.cambiarEstado(proyectoBean.proyectoSeleccionado.estado)}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.calificacion}">
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.fechaAprovacion}">
                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.fechaVencimientoProyecto eq null? '--/--/----':proyectoBean.proyectoSeleccionado.fechaVencimientoProyecto}">
                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                            </h:outputText>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.fechaFinalizacionProyecto eq null? '--/--/----':proyectoBean.proyectoSeleccionado.fechaFinalizacionProyecto}"> 
                                                <f:convertDateTime pattern="dd/MM/yyyy"/>
                                            </h:outputText>
                                        </p:column>
                                    </p:row>
                                </p:panelGrid>
                                <br></br>
                                <p:panelGrid id="pgAgregar"  style="width: 100%; margin: auto;">   
                                    <p:row>
                                        <p:column colspan="6" style=" width: 100%; background-color: #ebedf0 "> 
                                            <center>           <h:outputText value="Desembolso"/> </center> 
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column style=" width: 50%">
                                            <h:outputText value="Monto a desembolsar ($):*"/> <br></br> <p:inputNumber id="tNombre" minValue="1"   value="#{proyectoBean.desembolso.montoDesembolso}"  style="width: 100%;"/> 
                                            &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &nbsp;&nbsp;&nbsp;&nbsp;  
                                            <p:selectBooleanCheckbox  value="#{proyectoBean.finalizacionDesembolso}" >
                                            </p:selectBooleanCheckbox> 
                                            &nbsp;&nbsp;&nbsp;&nbsp;     <h:outputText value="¿Finalizar?"/> 
                                            <br></br>
                                            <br></br>
                                            <h:outputText value="#{proyectoBean.msgDesembolso}" style=" color:  red" />
                                        </p:column>
                                        <p:column colspan="2" style=" width:25%"> 
                                            <h:outputText value="Monto aprobado:"/> <br></br>
                                            <h:outputText value="Monto restante:"/>   <br></br>
                                        </p:column>
                                        <p:column style=" width: 25%">
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.monto}">
                                                <f:convertNumber  pattern=",#00.00" locale="en-US" /> 
                                            </h:outputText>
                                            <br></br>                                            
                                            <h:outputText value="$"/>
                                            <h:outputText value="#{proyectoBean.diferenciaDesembolso}">
                                                <f:convertNumber  pattern=",#00.00" locale="en-US" /> 
                                            </h:outputText>
                                        </p:column>
                                    </p:row>
                                </p:panelGrid>
                                <br></br>
                                <h:outputText value="Nota: La ejecución del crédito empieza a partir de la fecha de realización del ultimo desembolso, se deberá cancelar la cuota estipulada el mismo día de cada mes, según el plazo"/>
                                <br></br>
                                <br></br>
                                <div align="center">
                                    <p:commandButton  update=":padding" title="Registrar" value="Guardar"  actionListener="#{proyectoBean.validarFormularioDesembolso()}" icon="fa fa-check" style="#{proyectoBean.btnCrear}">
                                    </p:commandButton> 
                                    <p:commandButton  actionListener="#{proyectoBean.enableShowSeguimiento}" update=":padding" icon="fa fa-close" title="Cancelar" value="Cancelar" style="#{proyectoBean.btnCancelar}"> 
                                        <f:setPropertyActionListener value="#{false}" target="#{proyectoBean.estadoFormularioDesembolso}" />
                                    </p:commandButton>
                                </div>
                            </p:panel>
                        </h:form>
                        <p:dialog header="Confirmar" width="25%" widgetVar="pgGuardar" modal="true" visible="#{proyectoBean.estadoFormularioDesembolso}" resizable="true" responsive="true" styleClass="ui-panelgrid-blank" appendTo="@(body)">
                            <h:form target="_blank">
                                <p:outputPanel style="text-align:center;">
                                    <br></br>
                                    <p:panelGrid>
                                        <h:outputText value="¿Desea agregar este desembolso?"/>
                                    </p:panelGrid>
                                    <br></br>
                                    <hr></hr>
                                    <center>
                                        <p:commandButton value="Si"    actionListener="#{proyectoBean.createDesembolso}"    icon="fa fa-check" oncomplete="PF('pgGuardar').hide()" update=":padding" style="#{proyectoBean.btnCrear}">
                                            <f:setPropertyActionListener value="#{false}" target="#{proyectoBean.estadoFormularioDesembolso}" />
                                        </p:commandButton>
                                        <p:commandButton oncomplete="PF('pgGuardar').hide()"   icon="fa fa-close"  value="No" style="#{proyectoBean.btnCancelar}"> 
                                            <f:setPropertyActionListener value="#{false}" target="#{proyectoBean.estadoFormularioDesembolso}" />
                                        </p:commandButton>
                                    </center>
                                </p:outputPanel>
                            </h:form>
                        </p:dialog>
                    </p:outputPanel>
                    <p:outputPanel rendered="#{proyectoBean.showData}">
                        <p:panel id="custom" header="Administrar créditos" style="margin-bottom:20px">
                            <h:form id="fData" target="_blank">
                                <br></br>
                                <p:fieldset>
                                    <p:panelGrid  style=" width: 100%;" styleClass="borderHidden" >
                                        <p:row>
                                            <p:column style=" width: 50%"   >
                                                <h:outputText value="Tipo:" /> 
                                            </p:column>
                                            <p:column style=" width: 50%"   >
                                            </p:column>
                                        </p:row>
                                        <p:row>
                                            <p:column >
                                                <p:selectOneMenu value="#{proyectoBean.tipoCredito}" style=" width: 100%;">
                                                    <p:ajax update="custom" listener="#{proyectoBean.mostrarSolicitudes}" />
                                                    <f:selectItem itemLabel="[RESUMEN]" itemValue="0" />
                                                    <f:selectItem itemLabel="Crédito para cooperativas" itemValue="2" />
                                                    <f:selectItem itemLabel="Crédito para lisiados" itemValue="5" />
                                                    <f:selectItem itemLabel="Crédito para comercio" itemValue="1" />                                                   
                                                    <f:selectItem itemLabel="Crédito agropecuario" itemValue="8" />
                                                    <f:selectItem itemLabel="Crédito para empleados" itemValue="7" />
                                                </p:selectOneMenu>
                                            </p:column>
                                            <p:column    >
                                            </p:column>
                                        </p:row>
                                    </p:panelGrid>
                                </p:fieldset>
                                <br></br>
                                <p:outputPanel rendered="#{proyectoBean.mostrarLisiados}">
                                    #{proyectoBean.updateListaCreditos()}
                                    <p:dataTable   id="empleadosData4"
                                                   var="empleados" widgetVar="lisiadoData" 
                                                   value="#{proyectoBean.listaClienteProyectoReducida}" 
                                                   paginator="true"
                                                   rows="10"
                                                   paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                   rowsPerPageTemplate="5,10,15"
                                                   paginatorPosition="bottom"
                                                   currentPageReportTemplate="Mostrando {startRecord}-{endRecord} de {totalRecords}"
                                                   emptyMessage="No se encontraron créditos" rowIndexVar="No" >
                                        <f:facet name="header">
                                            <p:outputPanel>                                           
                                                <p:inputText id="globalFilter" onkeyup="PF('lisiadoData').filter()" style="width:150px" placeholder="Buscar"/>
                                            </p:outputPanel>
                                        </f:facet>
                                        <p:column headerText="Nº" style=" width: 5%; text-align: center">  
                                            <h:outputText value=" #{No+1}" />
                                        </p:column>
                                        <p:column headerText="Código crédito" style=" width: 15%" filterBy="#{empleados.TProyecto.codigoProyecto}"  filterStyle="width:100%" sortBy="#{empleados.TProyecto.codigo}">  
                                            <h:outputText value=" #{empleados.TProyecto.codigoProyecto}" />
                                        </p:column>
                                        <p:column headerText="Código cliente" style=" width: 15%" filterBy="#{empleados.TCliente.codigoCliente}"  filterStyle="width:100%" sortBy="#{empleados.TProyecto.codigo}">  
                                            <h:outputText value=" #{empleados.TCliente.codigoCliente}" />
                                       </p:column>
                                        <p:column headerText="Modalidad" style=" width: 35%" filterBy="#{proyectoBean.cambiar(empleados.TProyecto.TTipoCredito.idTipoCredito)}" filterStyle="width:100%" sortBy="#{solicitudBean.cambiar(empleados.TProyecto.TTipoCredito.idTipoCredito)}">   
                                            <h:outputText value="#{proyectoBean.cambiar(empleados.TProyecto.TTipoCredito.idTipoCredito)}" />
                                        </p:column>
                                        <p:column headerText="Monto" style="width: 11%" filterBy="#{empleados.TProyecto.monto}"  filterStyle="width:100%" sortBy="#{empleados.TProyecto.monto}">  
                                            <div aling="right">
                                                <h:outputText value="$"/>
                                                <h:outputText value="#{empleados.TProyecto.monto}" >
                                                    <f:convertNumber     pattern=",#00.00" locale="en-US" /> 
                                                </h:outputText>
                                            </div>
                                        </p:column>
                                        <p:column headerText="Estado" style=" width: 20%" filterBy="#{proyectoBean.cambiarEstado(empleados.TProyecto.estado)}" sortBy="#{proyectoBean.cambiarEstado(empleados.TProyecto.estado)}" filterStyle="width:100%">   
                                            <h:outputText value="#{proyectoBean.cambiarEstado(empleados.TProyecto.estado)}"/>
                                        </p:column>
                                        <p:column   style=" width: 9%; text-align: center">
                                            <p:splitButton update=":padding"   oncomplete="PF('dlVerCredito').show()" icon="fa fa-eye" >
                                                <f:setPropertyActionListener  value="#{empleados.TProyecto}" target="#{proyectoBean.proyectoSeleccionado}"  />
                                                <f:setPropertyActionListener  value="#{empleados.TCliente}" target="#{proyectoBean.clienteSeleccionado}"  />
                                                <f:actionListener binding="#{proyectoBean.cargarVistaLisiado()}"/>
                                               <p:menuitem rendered="#{empleados.TProyecto.estado eq 3 and empleados.TProyecto.estado ne 7}"  update=":padding" icon="fa fa-briefcase" value="Agregar desembolso">
                                                    <f:setPropertyActionListener  value="#{empleados.TCliente}" target="#{proyectoBean.clienteSeleccionado}"  />
                                                    <f:setPropertyActionListener  value="#{empleados.TProyecto}" target="#{proyectoBean.proyectoSeleccionado}"  />
                                                    <f:actionListener binding="#{proyectoBean.cargarDesembolsoPersona()}"/> 
                                                </p:menuitem>
                                                <p:menuitem rendered="#{empleados.TProyecto.estado gt 2}"  update=":padding" icon="fa fa-book" value="Ver historial de desembolsos">
                                                    <f:setPropertyActionListener  value="#{empleados.TCliente}" target="#{proyectoBean.clienteSeleccionado}"  />
                                                    <f:setPropertyActionListener  value="#{empleados.TProyecto}" target="#{proyectoBean.proyectoSeleccionado}"  />
                                                    <f:actionListener binding="#{proyectoBean.cargarDesembolsos(1)}"/> 
                                                </p:menuitem>
                                                <p:menuitem rendered="#{empleados.TProyecto.estado gt 4}"  update=":padding" oncomplete="PF('dlVerPlan').show()" icon="fa fa-calendar" value="Generar plan de pagos">
                                                    <f:setPropertyActionListener  value="#{empleados.TCliente}" target="#{proyectoBean.clienteSeleccionado}"  />
                                                    <f:setPropertyActionListener  value="#{empleados.TProyecto}" target="#{proyectoBean.proyectoSeleccionado}"  />
                                                    <f:actionListener binding="#{proyectoBean.mostrarCalculos()}"/> 
                                                </p:menuitem>
                                                <p:menuitem rendered="#{empleados.TProyecto.estado gt 4 and empleados.TProyecto.estado lt 6}"  update=":padding" icon="fa fa-usd" value="Agregar pago">
                                                    <f:setPropertyActionListener  value="#{empleados.TCliente}" target="#{proyectoBean.clienteSeleccionado}"  />
                                                    <f:setPropertyActionListener  value="#{empleados.TProyecto}" target="#{proyectoBean.proyectoSeleccionado}"  />
                                                    <f:actionListener binding="#{proyectoBean.cargarVistaPagos(2)}"/> 
                                                </p:menuitem>
                                                <p:menuitem rendered="#{empleados.TProyecto.estado gt 4}"  update=":padding" icon="fa fa-book" value="Ver Historial de pagos">
                                                    <f:setPropertyActionListener  value="#{empleados.TCliente}" target="#{proyectoBean.clienteSeleccionado}"  />
                                                    <f:setPropertyActionListener  value="#{empleados.TProyecto}" target="#{proyectoBean.proyectoSeleccionado}"  />
                                                    <f:actionListener binding="#{proyectoBean.cargarRefinanciamientoPersona()}"/> 
                                                </p:menuitem>
                                                <p:menuitem rendered="#{empleados.TProyecto.estado gt 4 and empleados.TProyecto.estado lt 6}"   update=":padding" icon="fa fa-handshake-o" value="Agregar liquidación">
                                                    <f:setPropertyActionListener  value="#{empleados.TCliente}" target="#{proyectoBean.clienteSeleccionado}"  />
                                                    <f:setPropertyActionListener  value="#{empleados.TProyecto}" target="#{proyectoBean.proyectoSeleccionado}"  />
                                                    <f:actionListener binding="#{proyectoBean.cargarPagoTotalPersona()}"/> 
                                                </p:menuitem>
                                                <p:menuitem rendered="#{empleados.TProyecto.estado gt 5 and empleados.TProyecto.estado ne 7}"  update=":padding" icon="fa fa-sign-in" value="Ver cierre">
                                                    <f:setPropertyActionListener  value="#{empleados.TCliente}" target="#{proyectoBean.clienteSeleccionado}"  />
                                                    <f:setPropertyActionListener  value="#{empleados.TProyecto}" target="#{proyectoBean.proyectoSeleccionado}"  />
                                                    <f:actionListener binding="#{proyectoBean.cargarCierrePersona()}"/> 
                                                </p:menuitem>
                                                <p:menuitem rendered="#{empleados.TProyecto.estado eq 5 and empleados.TProyecto.estado lt 6}"  update=":padding" icon="fa fa-minus-square" value="Agregar incobrabilidad">
                                                    <f:setPropertyActionListener  value="#{empleados.TCliente}" target="#{proyectoBean.clienteSeleccionado}"  />
                                                    <f:setPropertyActionListener  value="#{empleados.TProyecto}" target="#{proyectoBean.proyectoSeleccionado}"  />
                                                    <f:actionListener binding="#{proyectoBean.llamarIncobrables()}"/> 
                                                </p:menuitem>
                                            </p:splitButton>
                                        </p:column>
                                    </p:dataTable> 
                                </p:outputPanel>
                                <p:outputPanel rendered="#{proyectoBean.mostrarAgropecuarios}">
                                    #{proyectoBean.updateListaCreditos()}
                                    <p:dataTable   id="empleadosData"
                                                   var="empleados" widgetVar="agropecuarioData"
                                                   value="#{proyectoBean.listaClienteProyectoReducida}" 
                                                   paginator="true"
                                                   rows="10"
                                                   paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                   rowsPerPageTemplate="5,10,15"
                                                   paginatorPosition="bottom"
                                                   currentPageReportTemplate="Mostrando {startRecord}-{endRecord} de {totalRecords}"
                                                   emptyMessage="No se encontraron créditos" rowIndexVar="No" >
                                        <f:facet name="header">
                                            <p:outputPanel>                                           
                                                <p:inputText id="globalFilter" onkeyup="PF('agropecuarioData').filter()" style="width:150px" placeholder="Buscar"/>
                                            </p:outputPanel>
                                        </f:facet>
                                        <p:column headerText="Nº" style=" width: 5%; text-align: center">  
                                            <h:outputText value=" #{No+1}" />
                                        </p:column>
                                        <p:column headerText="Código crédito" style=" width: 15%" filterBy="#{empleados.TProyecto.codigoProyecto}"  filterStyle="width:100%" sortBy="#{empleados.TProyecto.codigo}">  
                                            <h:outputText value=" #{empleados.TProyecto.codigoProyecto}" />
                                        </p:column>
                                        <p:column headerText="Código cliente" style=" width: 15%" filterBy="#{empleados.TCliente.codigoCliente}"  filterStyle="width:100%" sortBy="#{empleados.TProyecto.codigo}">  
                                            <h:outputText value=" #{empleados.TCliente.codigoCliente}" />
                                       </p:column>
                                       <p:column headerText="Modalidad" style=" width: 35%" filterBy="#{proyectoBean.cambiar(empleados.TProyecto.TTipoCredito.idTipoCredito)}" filterStyle="width:100%" sortBy="#{proyectoBean.cambiar(empleados.TProyecto.TTipoCredito.idTipoCredito)}">   
                                            <h:outputText value="#{proyectoBean.cambiar(empleados.TProyecto.TTipoCredito.idTipoCredito)}" />
                                        </p:column>
                                        <p:column headerText="Monto" style="width: 11%" filterBy="#{empleados.TProyecto.monto}"  filterStyle="width:100%" sortBy="#{empleados.TProyecto.monto}">  
                                            <div aling="right">
                                                <h:outputText value="$"/>
                                                <h:outputText value="#{empleados.TProyecto.monto}" >
                                                    <f:convertNumber     pattern=",#00.00" locale="en-US" /> 
                                                </h:outputText>
                                            </div>
                                        </p:column>
                                        <p:column headerText="Estado" style=" width: 20%" filterBy="#{proyectoBean.cambiarEstado(empleados.TProyecto.estado)}" sortBy="#{proyectoBean.cambiarEstado(empleados.TProyecto.estado)}" filterStyle="width:100%">   
                                            <h:outputText value="#{proyectoBean.cambiarEstado(empleados.TProyecto.estado)}"/>
                                        </p:column>
                                        <p:column  style=" width: 9%; text-align: center">
                                            <p:splitButton update=":padding"   oncomplete="PF('dlVerCredito').show()" icon="fa fa-eye" >
                                                <f:setPropertyActionListener  value="#{empleados.TCliente}" target="#{proyectoBean.clienteSeleccionado}"  />
                                                <f:setPropertyActionListener  value="#{empleados.TProyecto}" target="#{proyectoBean.proyectoSeleccionado}"  />
                                                <f:actionListener binding="#{proyectoBean.cargarVistaAgropecuario()}"/> 
                                                <p:menuitem rendered="#{empleados.TProyecto.estado eq 3 and empleados.TProyecto.estado ne 7}"  update=":padding" icon="fa fa-briefcase" value="Agregar desembolso">
                                                    <f:setPropertyActionListener  value="#{empleados.TCliente}" target="#{proyectoBean.clienteSeleccionado}"  />
                                                    <f:setPropertyActionListener  value="#{empleados.TProyecto}" target="#{proyectoBean.proyectoSeleccionado}"  />
                                                    <f:actionListener binding="#{proyectoBean.cargarDesembolsoPersona()}"/> 
                                                </p:menuitem>
                                                <p:menuitem rendered="#{empleados.TProyecto.estado gt 2}"  update=":padding" icon="fa fa-book" value="Ver historial de desembolsos">
                                                    <f:setPropertyActionListener  value="#{empleados.TCliente}" target="#{proyectoBean.clienteSeleccionado}"  />
                                                    <f:setPropertyActionListener  value="#{empleados.TProyecto}" target="#{proyectoBean.proyectoSeleccionado}"  />
                                                    <f:actionListener binding="#{proyectoBean.cargarDesembolsos(1)}"/> 
                                                </p:menuitem>
                                                <p:menuitem rendered="#{empleados.TProyecto.estado gt 4}"  update=":padding" oncomplete="PF('dlVerPlan').show()" icon="fa fa-calendar" value="Generar plan de pagos">
                                                    <f:setPropertyActionListener  value="#{empleados.TCliente}" target="#{proyectoBean.clienteSeleccionado}"  />
                                                    <f:setPropertyActionListener  value="#{empleados.TProyecto}" target="#{proyectoBean.proyectoSeleccionado}"  />
                                                    <f:actionListener binding="#{proyectoBean.mostrarCalculos()}"/> 
                                                </p:menuitem>
                                                <p:menuitem rendered="#{empleados.TProyecto.estado gt 4 and empleados.TProyecto.estado lt 6}"  update=":padding" icon="fa fa-usd" value="Agregar pago">
                                                    <f:setPropertyActionListener  value="#{empleados.TCliente}" target="#{proyectoBean.clienteSeleccionado}"  />
                                                    <f:setPropertyActionListener  value="#{empleados.TProyecto}" target="#{proyectoBean.proyectoSeleccionado}"  />
                                                    <f:actionListener binding="#{proyectoBean.cargarVistaPagos(2)}"/> 
                                                </p:menuitem>
                                                <p:menuitem rendered="#{empleados.TProyecto.estado gt 4}"  update=":padding" icon="fa fa-book" value="Ver historial de pagos">
                                                    <f:setPropertyActionListener  value="#{empleados.TCliente}" target="#{proyectoBean.clienteSeleccionado}"  />
                                                    <f:setPropertyActionListener  value="#{empleados.TProyecto}" target="#{proyectoBean.proyectoSeleccionado}"  />
                                                    <f:actionListener binding="#{proyectoBean.cargarRefinanciamientoPersona()}"/> 
                                                </p:menuitem>
                                                <p:menuitem rendered="#{empleados.TProyecto.estado gt 4 and empleados.TProyecto.estado lt 6}"   update=":padding" icon="fa fa-handshake-o" value="Agregar liquidación">
                                                    <f:setPropertyActionListener  value="#{empleados.TCliente}" target="#{proyectoBean.clienteSeleccionado}"  />
                                                    <f:setPropertyActionListener  value="#{empleados.TProyecto}" target="#{proyectoBean.proyectoSeleccionado}"  />
                                                    <f:actionListener binding="#{proyectoBean.cargarPagoTotalPersona()}"/> 
                                                </p:menuitem>
                                                <p:menuitem rendered="#{empleados.TProyecto.estado gt 5 and empleados.TProyecto.estado ne 7}"  update=":padding" icon="fa fa-sign-in" value="Ver cierre">
                                                    <f:setPropertyActionListener  value="#{empleados.TCliente}" target="#{proyectoBean.clienteSeleccionado}"  />
                                                    <f:setPropertyActionListener  value="#{empleados.TProyecto}" target="#{proyectoBean.proyectoSeleccionado}"  />
                                                    <f:actionListener binding="#{proyectoBean.cargarCierrePersona()}"/> 
                                                </p:menuitem>
                                                <p:menuitem rendered="#{empleados.TProyecto.estado eq 5 and empleados.TProyecto.estado lt 6}"  update=":padding" icon="fa fa-minus-square" value="Agregar incobrabilidad">
                                                    <f:setPropertyActionListener  value="#{empleados.TCliente}" target="#{proyectoBean.clienteSeleccionado}"  />
                                                    <f:setPropertyActionListener  value="#{empleados.TProyecto}" target="#{proyectoBean.proyectoSeleccionado}"  />
                                                    <f:actionListener binding="#{proyectoBean.llamarIncobrables()}"/> 
                                                </p:menuitem>
                                            </p:splitButton>
                                        </p:column>
                                    </p:dataTable> 
                                </p:outputPanel>
                                <p:outputPanel rendered="#{proyectoBean.mostrarEmpleados}">
                                    #{proyectoBean.updateListaCreditos()}
                                    <p:dataTable   id="empleadosDataEmp"
                                                   var="empleados" widgetVar="empleadosData"
                                                   value="#{proyectoBean.listaClienteProyectoReducida}" 
                                                   paginator="true"
                                                   rows="10"
                                                   paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                   rowsPerPageTemplate="5,10,15"
                                                   paginatorPosition="bottom"
                                                   currentPageReportTemplate="Mostrando {startRecord}-{endRecord} de {totalRecords}"
                                                   emptyMessage="No se encontraron créditos" rowIndexVar="No" >
                                        <f:facet name="header">
                                            <p:outputPanel>                                           
                                                <p:inputText id="globalFilter" onkeyup="PF('empleadosData').filter()" style="width:150px" placeholder="Buscar"/>
                                            </p:outputPanel>
                                        </f:facet>
                                        <p:column headerText="Nº"  style=" width: 5%; text-align: center">  
                                            <h:outputText value=" #{No+1}" />
                                        </p:column>
                                        <p:column headerText="Código crédito" style=" width: 15%" filterBy="#{empleados.TProyecto.codigoProyecto}"  filterStyle="width:100%" sortBy="#{empleados.TProyecto.codigo}">  
                                            <h:outputText value=" #{empleados.TProyecto.codigoProyecto}" />
                                        </p:column>
                                        <p:column headerText="Código cliente" style=" width: 15%" filterBy="#{empleados.TCliente.codigoCliente}"  filterStyle="width:100%" sortBy="#{empleados.TProyecto.codigo}">  
                                           <h:outputText value=" #{empleados.TCliente.codigoCliente}" />
                                        </p:column>
                                        <p:column headerText="Modalidad" style=" width: 35%" filterBy="#{proyectoBean.cambiar(empleados.TProyecto.TTipoCredito.idTipoCredito)}" filterStyle="width:100%" sortBy="#{solicitudBean.cambiar(empleados.TProyecto.TTipoCredito.idTipoCredito)}">   
                                            <h:outputText value="#{proyectoBean.cambiar(empleados.TProyecto.TTipoCredito.idTipoCredito)}" />
                                        </p:column>
                                        <p:column headerText="Monto" style="width: 11%" filterBy="#{empleados.TProyecto.monto}"  filterStyle="width:100%" sortBy="#{empleados.TProyecto.monto}">  
                                            <div aling="right">
                                                <h:outputText value="$"/>
                                                <h:outputText value="#{empleados.TProyecto.monto}" >
                                                    <f:convertNumber     pattern=",#00.00" locale="en-US" /> 
                                                </h:outputText>
                                            </div>
                                        </p:column>
                                        <p:column headerText="Estado" style=" width: 20%" filterBy="#{proyectoBean.cambiarEstado(empleados.TProyecto.estado)}" sortBy="#{proyectoBean.cambiarEstado(empleados.TProyecto.estado)}" filterStyle="width:100%">   
                                            <h:outputText value="#{proyectoBean.cambiarEstado(empleados.TProyecto.estado)}"/>
                                       </p:column>
                                        <p:column   style=" width: 9%; text-align: center">
                                            <p:splitButton update=":padding"   oncomplete="PF('dlVerCredito').show()" icon="fa fa-eye" >
                                                <f:setPropertyActionListener  value="#{empleados.TCliente}" target="#{proyectoBean.clienteSeleccionado}"  />
                                                <f:setPropertyActionListener  value="#{empleados.TProyecto}" target="#{proyectoBean.proyectoSeleccionado}"  />
                                                <f:actionListener binding="#{proyectoBean.cargarVistaEmpleado()}"/> 
                                                <p:menuitem rendered="#{empleados.TProyecto.estado eq 3 and empleados.TProyecto.estado ne 7}"  update=":padding" icon="fa fa-briefcase" value="Agregar desembolso">
                                                    <f:setPropertyActionListener  value="#{empleados.TCliente}" target="#{proyectoBean.clienteSeleccionado}"  />
                                                    <f:setPropertyActionListener  value="#{empleados.TProyecto}" target="#{proyectoBean.proyectoSeleccionado}"  />
                                                    <f:actionListener binding="#{proyectoBean.cargarDesembolsoPersona()}"/> 
                                                </p:menuitem>
                                                <p:menuitem rendered="#{empleados.TProyecto.estado gt 2}"  update=":padding" icon="fa fa-book" value="Ver historial de desembolsos">
                                                    <f:setPropertyActionListener  value="#{empleados.TCliente}" target="#{proyectoBean.clienteSeleccionado}"  />
                                                    <f:setPropertyActionListener  value="#{empleados.TProyecto}" target="#{proyectoBean.proyectoSeleccionado}"  />
                                                    <f:actionListener binding="#{proyectoBean.cargarDesembolsos(1)}"/> 
                                                </p:menuitem>
                                                <p:menuitem rendered="#{empleados.TProyecto.estado gt 4}"  update=":padding" oncomplete="PF('dlVerPlan').show()" icon="fa fa-calendar" value="Generar plan de pagos">
                                                    <f:setPropertyActionListener  value="#{empleados.TCliente}" target="#{proyectoBean.clienteSeleccionado}"  />
                                                    <f:setPropertyActionListener  value="#{empleados.TProyecto}" target="#{proyectoBean.proyectoSeleccionado}"  />
                                                    <f:actionListener binding="#{proyectoBean.mostrarCalculos()}"/> 
                                                </p:menuitem>
                                                <p:menuitem rendered="#{empleados.TProyecto.estado gt 4 and empleados.TProyecto.estado lt 6}"  update=":padding" icon="fa fa-usd" value="Agregar pago">
                                                    <f:setPropertyActionListener  value="#{empleados.TCliente}" target="#{proyectoBean.clienteSeleccionado}"  />
                                                    <f:setPropertyActionListener  value="#{empleados.TProyecto}" target="#{proyectoBean.proyectoSeleccionado}"  />
                                                    <f:actionListener binding="#{proyectoBean.cargarVistaPagos(2)}"/> 
                                                </p:menuitem>
                                                <p:menuitem rendered="#{empleados.TProyecto.estado gt 4}"  update=":padding" icon="fa fa-book" value="Ver historial de pagos">
                                                    <f:setPropertyActionListener  value="#{empleados.TCliente}" target="#{proyectoBean.clienteSeleccionado}"  />
                                                    <f:setPropertyActionListener  value="#{empleados.TProyecto}" target="#{proyectoBean.proyectoSeleccionado}"  />
                                                    <f:actionListener binding="#{proyectoBean.cargarRefinanciamientoPersona()}"/> 
                                                </p:menuitem>
                                                <p:menuitem rendered="#{empleados.TProyecto.estado gt 4 and empleados.TProyecto.estado lt 6}"   update=":padding" icon="fa fa-handshake-o" value="Agregar liquidación">
                                                    <f:setPropertyActionListener  value="#{empleados.TCliente}" target="#{proyectoBean.clienteSeleccionado}"  />
                                                    <f:setPropertyActionListener  value="#{empleados.TProyecto}" target="#{proyectoBean.proyectoSeleccionado}"  />
                                                    <f:actionListener binding="#{proyectoBean.cargarPagoTotalPersona()}"/> 
                                                </p:menuitem>
                                                <p:menuitem rendered="#{empleados.TProyecto.estado gt 5 and empleados.TProyecto.estado ne 7}"  update=":padding" icon="fa fa-sign-in" value="Ver cierre">
                                                    <f:setPropertyActionListener  value="#{empleados.TCliente}" target="#{proyectoBean.clienteSeleccionado}"  />
                                                    <f:setPropertyActionListener  value="#{empleados.TProyecto}" target="#{proyectoBean.proyectoSeleccionado}"  />
                                                    <f:actionListener binding="#{proyectoBean.cargarCierrePersona()}"/> 
                                                </p:menuitem>
                                                <p:menuitem rendered="#{empleados.TProyecto.estado eq 5 and empleados.TProyecto.estado lt 6}"  update=":padding" icon="fa fa-minus-square" value="Agregar incobrabilidad">
                                                    <f:setPropertyActionListener  value="#{empleados.TCliente}" target="#{proyectoBean.clienteSeleccionado}"  />
                                                    <f:setPropertyActionListener  value="#{empleados.TProyecto}" target="#{proyectoBean.proyectoSeleccionado}"  />
                                                    <f:actionListener binding="#{proyectoBean.llamarIncobrables()}"/> 
                                                </p:menuitem>
                                            </p:splitButton> 
                                        </p:column>
                                    </p:dataTable> 
                               </p:outputPanel>
                                <p:outputPanel rendered="#{proyectoBean.mostrarComercio}">
                                   #{proyectoBean.updateListaCreditos()}
                                    <p:dataTable   id="comercioData"
                                                   var="empleados" widgetVar="comercioData"
                                                   value="#{proyectoBean.listaClienteProyectoReducida}" 
                                                   paginator="true"
                                                   rows="10"
                                                   paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                   rowsPerPageTemplate="5,10"
                                                   paginatorPosition="bottom"
                                                   currentPageReportTemplate="Mostrando {startRecord}-{endRecord} de {totalRecords}"
                                                   emptyMessage="No se encontraron créditos" rowIndexVar="No" >
                                        <f:facet name="header">
                                            <p:outputPanel>                                           
                                                <p:inputText id="globalFilter" onkeyup="PF('comercioData').filter()" style="width:150px" placeholder="Buscar"/>
                                            </p:outputPanel>
                                        </f:facet>
                                        <p:column headerText="Nº" style=" width: 5%; text-align: center">  
                                            <h:outputText value=" #{No+1}" />
                                        </p:column>
                                        <p:column headerText="Código crédito" style=" width: 15%" filterBy="#{empleados.TProyecto.codigoProyecto}"  filterStyle="width:100%" sortBy="#{empleados.TProyecto.codigo}">  
                                            <h:outputText value=" #{empleados.TProyecto.codigoProyecto}" />
                                        </p:column>
                                        <p:column headerText="Código cliente" style=" width: 15%" filterBy="#{empleados.TCliente.codigoCliente}"  filterStyle="width:100%" sortBy="#{empleados.TProyecto.codigo}">  
                                            <h:outputText value=" #{empleados.TCliente.codigoCliente}" />
                                        </p:column>
                                        <p:column headerText="Modalidad" style=" width: 35%" filterBy="#{proyectoBean.cambiar(empleados.TProyecto.TTipoCredito.idTipoCredito)}" filterStyle="width:100%" sortBy="#{solicitudBean.cambiar(empleados.TProyecto.TTipoCredito.idTipoCredito)}">   
                                            <h:outputText value="#{proyectoBean.cambiar(empleados.TProyecto.TTipoCredito.idTipoCredito)}" />
                                        </p:column>
                                        <p:column headerText="Monto" style="width: 11%" filterBy="#{empleados.TProyecto.monto}"  filterStyle="width:100%" sortBy="#{empleados.TProyecto.monto}">  
                                            <div align="right"> 
                                                <h:outputText value="$"/>
                                                <h:outputText value="#{empleados.TProyecto.monto}" >
                                                    <f:convertNumber     pattern=",#00.00" locale="en-US" /> 
                                                </h:outputText>
                                            </div>
                                        </p:column>
                                        <p:column headerText="Estado" style=" width: 20%" filterBy="#{proyectoBean.cambiarEstado(empleados.TProyecto.estado)}" sortBy="#{proyectoBean.cambiarEstado(empleados.TProyecto.estado)}" filterStyle="width:100%">   
                                          <h:outputText value="#{proyectoBean.cambiarEstado(empleados.TProyecto.estado)}"/>
                                        </p:column>
                                        <p:column  style=" width: 9%; text-align: center">
                                            <p:splitButton update=":padding"   oncomplete="PF('dlVerCredito').show()" icon="fa fa-eye" >
                                                <f:setPropertyActionListener  value="#{empleados.TProyecto}" target="#{proyectoBean.proyectoSeleccionado}"  />
                                                <f:setPropertyActionListener  value="#{empleados.TCliente}" target="#{proyectoBean.clienteSeleccionado}"  />
                                                <f:actionListener binding="#{proyectoBean.cargarVistaComercio()}"/>
                                                <p:menuitem rendered="#{empleados.TProyecto.estado eq 3 and empleados.TProyecto.estado ne 7}"  update=":padding" icon="fa fa-briefcase" value="Agregar desembolso">
                                                    <f:setPropertyActionListener  value="#{empleados.TCliente}" target="#{proyectoBean.clienteSeleccionado}"  />
                                                    <f:setPropertyActionListener  value="#{empleados.TProyecto}" target="#{proyectoBean.proyectoSeleccionado}"  />
                                                    <f:actionListener binding="#{proyectoBean.cargarDesembolsoPersona()}"/> 
                                                </p:menuitem>
                                                <p:menuitem rendered="#{empleados.TProyecto.estado gt 2}"  update=":padding" icon="fa fa-book" value="Ver historial de desembolsos">
                                                    <f:setPropertyActionListener  value="#{empleados.TCliente}" target="#{proyectoBean.clienteSeleccionado}"  />
                                                    <f:setPropertyActionListener  value="#{empleados.TProyecto}" target="#{proyectoBean.proyectoSeleccionado}"  />
                                                    <f:actionListener binding="#{proyectoBean.cargarDesembolsos(1)}"/> 
                                                </p:menuitem>
                                                <p:menuitem rendered="#{empleados.TProyecto.estado gt 4}"  update=":padding" oncomplete="PF('dlVerPlan').show()" icon="fa fa-calendar" value="Generar plan de pagos">
                                                    <f:setPropertyActionListener  value="#{empleados.TCliente}" target="#{proyectoBean.clienteSeleccionado}"  />
                                                    <f:setPropertyActionListener  value="#{empleados.TProyecto}" target="#{proyectoBean.proyectoSeleccionado}"  />
                                                    <f:actionListener binding="#{proyectoBean.mostrarCalculos()}"/> 
                                                </p:menuitem>
                                                <p:menuitem rendered="#{empleados.TProyecto.estado gt 4 and empleados.TProyecto.estado lt 6}"  update=":padding" icon="fa fa-usd" value="Agregar pago">
                                                    <f:setPropertyActionListener  value="#{empleados.TCliente}" target="#{proyectoBean.clienteSeleccionado}"  />
                                                    <f:setPropertyActionListener  value="#{empleados.TProyecto}" target="#{proyectoBean.proyectoSeleccionado}"  />
                                                    <f:actionListener binding="#{proyectoBean.cargarVistaPagos(2)}"/> 
                                                </p:menuitem>
                                                <p:menuitem rendered="#{empleados.TProyecto.estado gt 4}"  update=":padding" icon="fa fa-book" value="Ver historial de pagos">
                                                    <f:setPropertyActionListener  value="#{empleados.TCliente}" target="#{proyectoBean.clienteSeleccionado}"  />
                                                    <f:setPropertyActionListener  value="#{empleados.TProyecto}" target="#{proyectoBean.proyectoSeleccionado}"  />
                                                    <f:actionListener binding="#{proyectoBean.cargarRefinanciamientoPersona()}"/> 
                                                </p:menuitem>
                                                <p:menuitem rendered="#{empleados.TProyecto.estado gt 4 and empleados.TProyecto.estado lt 6}"   update=":padding" icon="fa fa-handshake-o" value="Agregar liquidación">
                                                    <f:setPropertyActionListener  value="#{empleados.TCliente}" target="#{proyectoBean.clienteSeleccionado}"  />
                                                    <f:setPropertyActionListener  value="#{empleados.TProyecto}" target="#{proyectoBean.proyectoSeleccionado}"  />
                                                    <f:actionListener binding="#{proyectoBean.cargarPagoTotalPersona()}"/> 
                                                </p:menuitem>
                                                <p:menuitem rendered="#{empleados.TProyecto.estado gt 5 and empleados.TProyecto.estado ne 7}"  update=":padding" icon="fa fa-sign-in" value="Ver cierre">
                                                    <f:setPropertyActionListener  value="#{empleados.TCliente}" target="#{proyectoBean.clienteSeleccionado}"  />
                                                    <f:setPropertyActionListener  value="#{empleados.TProyecto}" target="#{proyectoBean.proyectoSeleccionado}"  />
                                                    <f:actionListener binding="#{proyectoBean.cargarCierrePersona()}"/> 
                                                </p:menuitem>
                                                <p:menuitem rendered="#{empleados.TProyecto.estado eq 5 and empleados.TProyecto.estado lt 6}"  update=":padding" icon="fa fa-minus-square" value="Agregar incobrabilidad">
                                                    <f:setPropertyActionListener  value="#{empleados.TCliente}" target="#{proyectoBean.clienteSeleccionado}"  />
                                                    <f:setPropertyActionListener  value="#{empleados.TProyecto}" target="#{proyectoBean.proyectoSeleccionado}"  />
                                                    <f:actionListener binding="#{proyectoBean.llamarIncobrables()}"/> 
                                                </p:menuitem>
                                            </p:splitButton>
                                        </p:column>
                                    </p:dataTable> 
                                </p:outputPanel>
                                <p:outputPanel rendered="#{proyectoBean.mostrarCooperativas}">
                                    #{proyectoBean.updateListaCreditos()}
                                    <p:dataTable   id="entidadesData"
                                                   var="empleados" widgetVar="cooperativaData"
                                                   value="#{proyectoBean.listaEntidadProyectosReducida}" 
                                                   paginator="true"
                                                   rows="10"
                                                   paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                   rowsPerPageTemplate="5,10,15"
                                                   paginatorPosition="bottom"
                                                   currentPageReportTemplate="Mostrando {startRecord}-{endRecord} de {totalRecords}"
                                                   emptyMessage="No se encontraron créditos" rowIndexVar="No" >
                                        <f:facet name="header">
                                            <p:outputPanel>                                           
                                                <p:inputText id="globalFilter" onkeyup="PF('cooperativaData').filter()" style="width:150px" placeholder="Buscar"/>
                                            </p:outputPanel>
                                        </f:facet>
                                        <p:column headerText="Nº" style=" width: 5%; text-align: center">  
                                            <h:outputText value=" #{No+1}" />
                                        </p:column>
                                        <p:column headerText="Código crédito" style=" width: 15%" filterBy="#{empleados.TProyecto.codigoProyecto}"  filterStyle="width:100%" sortBy="#{empleados.TProyecto.codigo}">  
                                            <h:outputText value=" #{empleados.TProyecto.codigoProyecto}" />
                                        </p:column>
                                        <p:column headerText="Código cliente" style=" width: 15%" filterBy="#{empleados.TEntidad.codigoClienteEntidad}"  filterStyle="width:100%" sortBy="#{empleados.TEntidad.codigoClienteEntidad}">   
                                            <h:outputText value="#{empleados.TEntidad.codigoClienteEntidad}" />
                                        </p:column>
                                        <p:column headerText="Modalidad" style=" width: 35%" filterBy="#{proyectoBean.cambiar(empleados.TProyecto.TTipoCredito.idTipoCredito)}" filterStyle="width:100%" sortBy="#{proyectoBean.cambiar(empleados.TProyecto.TTipoCredito.idTipoCredito)}">   
                                            <h:outputText value="#{proyectoBean.cambiar(empleados.TProyecto.TTipoCredito.idTipoCredito)}" />
                                        </p:column>
                                        <p:column headerText="Monto" style="width: 11%" filterBy="#{empleados.TProyecto.monto}"  filterStyle="width:100%" sortBy="#{empleados.TProyecto.monto}">  
                                            <div aling="right">
                                                <h:outputText value="$"/>
                                                <h:outputText value="#{empleados.TProyecto.monto}" >
                                                    <f:convertNumber     pattern=",#00.00" locale="en-US" /> 
                                                </h:outputText>
                                            </div>
                                        </p:column>
                                        <p:column headerText="Estado" style=" width: 20%" filterBy="#{proyectoBean.cambiarEstado(empleados.TProyecto.estado)}"  filterStyle="width:100%" sortBy="#{proyectoBean.cambiarEstado(empleados.TProyecto.estado)}">   
                                            <h:outputText value="#{proyectoBean.cambiarEstado(empleados.TProyecto.estado)}"/>
                                        </p:column>
                                        <p:column  style=" width: 9%; text-align: center">                                            
                                            <p:splitButton update=":padding"   oncomplete="PF('dlVerCredito').show()" icon="fa fa-eye" >
                                                <f:setPropertyActionListener  value="#{empleados.TEntidad}" target="#{proyectoBean.entidadeleccionada}"  />
                                                <f:setPropertyActionListener  value="#{empleados.TProyecto}" target="#{proyectoBean.proyectoSeleccionado}"  />
                                                <f:actionListener binding="#{proyectoBean.cargarVistaCooperativa()}"/> 
                                                <p:menuitem rendered="#{empleados.TProyecto.estado eq 3 and empleados.TProyecto.estado ne 7}"  update=":padding" icon="fa fa-briefcase" value="Agregar desembolso">
                                                    <f:setPropertyActionListener  value="#{empleados.TEntidad}" target="#{proyectoBean.entidadeleccionada}"  />
                                                    <f:setPropertyActionListener  value="#{empleados.TProyecto}" target="#{proyectoBean.proyectoSeleccionado}"  />
                                                    <f:actionListener binding="#{proyectoBean.cargarDesembolso()}"/> 
                                                </p:menuitem>
                                                <p:menuitem rendered="#{empleados.TProyecto.estado gt 2}"  update=":padding" icon="fa fa-book" value="Ver historial de desembolsos">
                                                    <f:setPropertyActionListener  value="#{empleados.TEntidad}" target="#{proyectoBean.entidadeleccionada}"  />
                                                    <f:setPropertyActionListener  value="#{empleados.TProyecto}" target="#{proyectoBean.proyectoSeleccionado}"  />
                                                    <f:actionListener binding="#{proyectoBean.cargarDesembolsos(2)}"/> 
                                                </p:menuitem>
                                                <p:menuitem rendered="#{empleados.TProyecto.estado gt 4}"  update=":padding" oncomplete="PF('dlVerPlanCooperativa').show()" icon="fa fa-calendar" value="Generar plan de pagos">
                                                    <f:setPropertyActionListener  value="#{empleados.TEntidad}" target="#{proyectoBean.entidadeleccionada}"  />
                                                    <f:setPropertyActionListener  value="#{empleados.TProyecto}" target="#{proyectoBean.proyectoSeleccionado}"  />
                                                    <f:actionListener binding="#{proyectoBean.mostrarCalculos()}"/> 
                                                </p:menuitem>
                                                <p:menuitem rendered="#{empleados.TProyecto.estado eq 5 and empleados.TProyecto.estado ne 7}"  update=":padding" icon="fa fa-usd" value="Agregar Pago">
                                                    <f:setPropertyActionListener  value="#{empleados.TEntidad}" target="#{proyectoBean.entidadeleccionada}"  />
                                                    <f:setPropertyActionListener  value="#{empleados.TProyecto}" target="#{proyectoBean.proyectoSeleccionado}"  />
                                                    <f:actionListener binding="#{proyectoBean.cargarVistaPagos(1)}"/> 
                                                </p:menuitem>
                                                <p:menuitem rendered="#{empleados.TProyecto.estado gt 4}"  update=":padding" icon="fa fa-book" value="Ver historial de pagos">
                                                    <f:setPropertyActionListener  value="#{empleados.TEntidad}" target="#{proyectoBean.entidadeleccionada}"  />
                                                    <f:setPropertyActionListener  value="#{empleados.TProyecto}" target="#{proyectoBean.proyectoSeleccionado}"  />
                                                    <f:actionListener binding="#{proyectoBean.cargarRefinanciamientoCooperativa()}"/> 
                                                </p:menuitem>
                                                <p:menuitem rendered="#{empleados.TProyecto.estado gt 4}"  update=":padding" icon="fa fa-line-chart" value="Administrar seguimientos">
                                                    <f:setPropertyActionListener  value="#{empleados.TEntidad}" target="#{proyectoBean.entidadeleccionada}"  />
                                                    <f:setPropertyActionListener  value="#{empleados.TProyecto}" target="#{proyectoBean.proyectoSeleccionado}"  />
                                                    <f:actionListener binding="#{proyectoBean.mostrarListaSeguimiento()}"/> 
                                                </p:menuitem>
                                                <p:menuitem rendered="#{empleados.TProyecto.estado gt 4 and empleados.TProyecto.estado lt 6 }"   update=":padding" icon="fa fa-handshake-o" value="Agregar liquidación">
                                                    <f:setPropertyActionListener  value="#{empleados.TEntidad}" target="#{proyectoBean.entidadeleccionada}"  />
                                                    <f:setPropertyActionListener  value="#{empleados.TProyecto}" target="#{proyectoBean.proyectoSeleccionado}"  />
                                                    <f:actionListener binding="#{proyectoBean.cargarPagoTotalCooperativa()}"/> 
                                                </p:menuitem>
                                                <p:menuitem rendered="#{empleados.TProyecto.estado gt 5 and empleados.TProyecto.estado ne 7}"  update=":padding" icon="fa fa-sign-in" value="Ver cierre">
                                                    <f:setPropertyActionListener  value="#{empleados.TEntidad}" target="#{proyectoBean.entidadeleccionada}"  />
                                                    <f:setPropertyActionListener  value="#{empleados.TProyecto}" target="#{proyectoBean.proyectoSeleccionado}"  />
                                                    <f:actionListener binding="#{proyectoBean.cargarCierreCooperativa()}"/> 
                                                </p:menuitem>
                                                <p:menuitem rendered="#{empleados.TProyecto.estado eq 5 and empleados.TProyecto.estado lt 6}"  update=":padding" icon="fa fa-minus-square" value="Agregar incobrabilidad">
                                                    <f:setPropertyActionListener  value="#{empleados.TEntidad}" target="#{proyectoBean.entidadeleccionada}"  />
                                                    <f:setPropertyActionListener  value="#{empleados.TProyecto}" target="#{proyectoBean.proyectoSeleccionado}"  />
                                                    <f:actionListener binding="#{proyectoBean.llamarIncobrables2()}"/> 
                                                </p:menuitem>
                                            </p:splitButton>
                                        </p:column>
                                    </p:dataTable> 
                                </p:outputPanel>
                                <p:outputPanel rendered="#{proyectoBean.mostrarResumen}">
                                    #{proyectoBean.updateListaResumen()}
                                    <p:dataTable   id="entidadesTodas"
                                                   var="empleados" widgetVar="resumenData" 
                                                   value="#{proyectoBean.listaSolicitudesProyectos}" 
                                                   paginator="true"
                                                   rows="10"
                                                   paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                   rowsPerPageTemplate="5,10,15"
                                                   paginatorPosition="bottom"
                                                   currentPageReportTemplate="Mostrando {startRecord}-{endRecord} de {totalRecords}"
                                                   emptyMessage="No se encontraron créditos" rowIndexVar="No" >
                                        <f:facet name="header">
                                            <p:outputPanel>                                           
                                                <p:inputText id="globalFilter" onkeyup="PF('resumenData').filter()" style="width:150px" placeholder="Buscar"/>
                                            </p:outputPanel>
                                        </f:facet>
                                        <p:column headerText="Nº" style=" width: 5%; text-align: center">  
                                            <h:outputText value=" #{No+1}" />
                                        </p:column>
                                        <p:column headerText="Codigo crédito" style=" width: 15%" filterBy="#{empleados.codigoProyecto}"  filterStyle="width:100%" sortBy="#{empleados.codigoProyecto}">  
                                            <h:outputText value=" #{empleados.codigoProyecto}" />
                                        </p:column>
                                        <p:column headerText="Modalidad" style=" width: 44%" filterBy="#{proyectoBean.cambiar(empleados.TTipoCredito.idTipoCredito)}" filterStyle="width:100%" sortBy="#{solicitudBean.cambiar(empleados.TTipoCredito.idTipoCredito)}">   
                                            <h:outputText value="#{proyectoBean.cambiar(empleados.TTipoCredito.idTipoCredito)}" />
                                        </p:column>
                                        <p:column headerText="Monto" style="width: 11%" filterBy="#{empleados.monto}"  filterStyle="width:100%" sortBy="#{empleados.TProyecto.monto}">  
                                            <div aling="right">
                                                <h:outputText value="$"/>
                                                <h:outputText value="#{empleados.monto}" >
                                                    <f:convertNumber     pattern=",#00.00" locale="en-US" /> 
                                                </h:outputText>
                                           </div>
                                        </p:column>
                                        <p:column headerText="Estado" style=" width: 20%" filterBy="#{proyectoBean.cambiarEstado(empleados.estado)}" sortBy="#{proyectoBean.cambiarEstado(empleados.estado)}" filterStyle="width:100%">   
                                            <h:outputText value="#{proyectoBean.cambiarEstado(empleados.estado)}"/>
                                        </p:column>
                                    </p:dataTable> 
                                </p:outputPanel>
                            </h:form>
                            <p:dialog header="#{proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito eq 1? 'Datos de la solicitud de crédito para empleados ': false or proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito eq 2? 'Datos de la solicitud de crédito para cooperativa': false or proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito eq 3? 'Datos de la solicitud de crédito para cooperativa': false  or proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito eq 4? 'Datos de la solicitud de crédito agropecuario': false or proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito eq 5? 'Datos de la solicitud de crédito para lisiados de guerra': false or proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito eq 7? 'Datos de la solicitud de crédito para comercio': false or proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito eq 8? 'Datos de la solicitud de crédito agropecuario': false or proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito eq 9? 'Datos de la solicitud de crédito agropecuario': false}" widgetVar="dlVerCredito" modal="true" visible="false"  resizable="true" responsive="true" styleClass="ui-panelgrid-blank" width="70%" appendTo="@(body)">
                                <h:form target="_blank">
                                    <p:outputPanel  style="width: 100%">
                                        <p:tabView>
                                            <p:tab title="Cliente">
                                                     <p:panelGrid rendered="#{proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito eq 2? true:false or proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito eq 3? true:false}"    style=" width: 100%" >
                                               <b>  <h:outputText value="Cooperativa" /></b>  
                                                    <hr></hr>
                                                    <p:row>
                                                        <p:column style=" width: 15%"   >
                                                            <h:outputText value="Código: " />
                                                        </p:column>
                                                        <p:column style=" width: 30%"  >
                                                            <h:outputText value="#{proyectoBean.entidadeleccionada.codigoEntidad}" />
                                                        </p:column>
                                                        <p:column style=" width: 15%"   >
                                                            <h:outputText value="Nombre abreviado:" />
                                                        </p:column>
                                                        <p:column style=" width: 30%"  >
                                                            <h:outputText value="#{proyectoBean.entidadeleccionada.abreviacionEntidad}" />
                                                        </p:column>
                                                    </p:row>
                                                    <p:row>
                                                        <p:column  style=" width: 15%"   >
                                                            <h:outputText value="Nombre completo:" />
                                                        </p:column>
                                                        <p:column  colspan="3" style=" width: 50%"   >
                                                            <h:outputText value="#{proyectoBean.entidadeleccionada.nombreEntidad}" />
                                                        </p:column>
                                                    </p:row>
                                                    <p:row>
                                                        <p:column style=" width: 15%"   >
                                                            <h:outputText value="NIT: " />
                                                        </p:column>
                                                        <p:column style=" width: 30%"  >
                                                            <h:outputText value="#{proyectoBean.entidadeleccionada.nitEntidad}" />
                                                        </p:column>
                                                        <p:column style=" width: 15%"   >
                                                           <h:outputText value="Giro:" />
                                                        </p:column>
                                                        <p:column style=" width: 30%"  >
                                                            <h:outputText value="#{proyectoBean.entidadeleccionada.giroEntidad}" />
                                                        </p:column>
                                                    </p:row>
                                                    <p:row>
                                                        <p:column style=" width: 15%"   >
                                                            <h:outputText value="Representante legal: " />
                                                        </p:column>
                                                        <p:column style=" width: 30%"  >
                                                            <h:outputText value="#{proyectoBean.entidadeleccionada.nombreRepresentanteEntidad}" />
                                                        </p:column>

                                                        <p:column style=" width: 15%"   >
                                                            <h:outputText value="DUI del representante:" />
                                                        </p:column>
                                                        <p:column style=" width: 30%"  >
                                                            <h:outputText value=" #{proyectoBean.entidadeleccionada.duiRepresentanteEntidad}" />
                                                        </p:column>
                                                    </p:row>
                                                </p:panelGrid>
                                                <p:panelGrid rendered="#{proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito eq 1? true:false or proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito eq 4? true:false or proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito eq 5? true:false or proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito eq 6? true:false or proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito eq 7? true:false or proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito eq 8? true:false or proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito eq 9? true:false }"  style=" width: 100%" >
                                                      <b>  <h:outputText value="Personales" /></b>  
                                                    <hr></hr>
                                                    <p:row>
                                                        <p:column style=" width: 13%"   >
                                                            <h:outputText value="Nombres:" />
                                                        </p:column>
                                                        <p:column style=" width: 20%" >
                                                            <h:outputText value="#{proyectoBean.clienteSeleccionado.nombreCliente}" />
                                                        </p:column >
                                                        <p:column style=" width: 10%"  >
                                                            <h:outputText value="Apellidos:" />
                                                        </p:column>
                                                        <p:column style=" width: 20%"  >
                                                            <h:outputText value="#{proyectoBean.clienteSeleccionado.apellidoCliente}" />
                                                        </p:column>
                                                    </p:row>
                                                    <p:row>
                                                        <p:column style=" width: 13%"   >
                                                            <h:outputText value="DUI:" />
                                                        </p:column>
                                                        <p:column style=" width: 20%" >
                                                            <h:outputText value="#{proyectoBean.clienteSeleccionado.duiCliente}" />
                                                        </p:column >
                                                        <p:column style=" width: 10%"  >
                                                            <h:outputText value="NIT:" />
                                                        </p:column>
                                                        <p:column style=" width: 20%"  >
                                                            <h:outputText value="#{proyectoBean.clienteSeleccionado.nitCliente}" />
                                                        </p:column>
                                                    </p:row>
                                                    <p:row>
                                                        <p:column style=" width: 13%"   >
                                                            <h:outputText value="Fecha de nacimiento:" />
                                                        </p:column>
                                                        <p:column style=" width: 20%" >
                                                            <h:outputText value="#{proyectoBean.clienteSeleccionado.fechaNacimiento}" >
                                                                <f:convertDateTime pattern="dd/MM/YYYY"/>
                                                            </h:outputText>
                                                        </p:column >
                                                        <p:column style=" width: 10%"  >
                                                            <h:outputText value="Edad (años):" />
                                                        </p:column>
                                                        <p:column style=" width: 20%"  >
                                                            <h:outputText value="#{proyectoBean.edad}" />
                                                        </p:column>
                                                    </p:row>
                                                    <p:row>
                                                        <p:column style=" width: 13%"   >
                                                            <h:outputText value="Sexo:" />
                                                        </p:column>
                                                        <p:column style=" width: 20%" >
                                                            <h:outputText value="#{proyectoBean.clienteSeleccionado.sexoCliente}" />
                                                        </p:column >
                                                        <p:column style=" width: 10%"  >
                                                            <h:outputText value="Estado familiar:" />
                                                        </p:column>
                                                        <p:column style=" width: 20%"  >
                                                            <h:outputText value="#{proyectoBean.clienteSeleccionado.estadoFamiliar}" />
                                                        </p:column>
                                                    </p:row>
                                                </p:panelGrid>
                                                <br></br>
                                                      <p:panelGrid rendered="#{proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito eq 2? true:false or proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito eq 3? true:false}"  >
                                               <b>  <h:outputText value="Contacto" /></b>  
                                                    <hr></hr>
                                                    <p:row>
                                                        <p:column style=" width: 15%"   >
                                                            <h:outputText value="Correo:" />
                                                        </p:column>
                                                        <p:column style=" width: 30%" >
                                                            <h:outputText value="#{proyectoBean.entidadeleccionada.correoEntidad eq ''? '----':proyectoBean.entidadeleccionada.correoEntidad}" />
                                                        </p:column >

                                                        <p:column style=" width: 15%">
                                                            <h:outputText value="Teléfono:" />
                                                        </p:column>
                                                        <p:column style=" width: 30%"  >
                                                            <h:outputText value="#{proyectoBean.entidadeleccionada.telefonoEntidad}" />
                                                        </p:column>
                                                    </p:row>
                                                    <p:row>
                                                        <p:column    style=" width: 15%"  >
                                                            <h:outputText value="Móvil:" />
                                                        </p:column>
                                                        <p:column  colspan="3"  style=" width: 20%"  >
                                                            <h:outputText value="#{proyectoBean.entidadeleccionada.celularEntidad}" />
                                                       </p:column>
                                                   </p:row>
                                                    <p:row>
                                                        <p:column style=" width: 15%">
                                                            <h:outputText value="Dirección:" />
                                                        </p:column>
                                                        <p:column colspan="3" style=" width: 20%"  >
                                                            <h:outputText value="#{proyectoBean.entidadeleccionada.direccionEntidad}" />
                                                        </p:column>
                                                    </p:row>
                                                </p:panelGrid>
                                              <p:panelGrid rendered="#{proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito eq 1? true:false or proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito eq 4? true:false or proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito eq 5? true:false or proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito eq 6? true:false or proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito eq 7? true:false or proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito eq 8? true:false or proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito eq 9? true:false }"  style=" width: 100%" >
                                                <b>  <h:outputText value="Contacto" /></b>  
                                                    <hr></hr>
                                                    <p:row>
                                                        <p:column style=" width: 13%"   >
                                                            <h:outputText value="Correo:" />
                                                        </p:column>
                                                        <p:column style=" width: 20%" >
                                                            <h:outputText value="#{proyectoBean.clienteSeleccionado.correoCliente eq ''? '----':proyectoBean.clienteSeleccionado.correoCliente}" />
                                                        </p:column >
                                                        <p:column style=" width: 10%">
                                                            <h:outputText value="Teléfono:" />
                                                        </p:column>
                                                        <p:column style=" width: 20%"  >
                                                            <h:outputText value="#{proyectoBean.clienteSeleccionado.telefonoCliente}" />
                                                        </p:column>
                                                    </p:row>
                                                    <p:row>
                                                        <p:column    style=" width: 10%"  >
                                                            <h:outputText value="Móvil:" />
                                                        </p:column>
                                                        <p:column  colspan="3"  style=" width: 20%"  >
                                                            <h:outputText value="#{proyectoBean.clienteSeleccionado.celularCliente}" />
                                                        </p:column>
                                                    </p:row>
                                                    <p:row>
                                                        <p:column style=" width: 10%">
                                                            <h:outputText value="Dirección:" />
                                                        </p:column>
                                                        <p:column colspan="3" style=" width: 20%"  >
                                                            <h:outputText value="#{proyectoBean.clienteSeleccionado.direccionCliente}" />
                                                        </p:column>
                                                    </p:row>
                                                </p:panelGrid>
                                            </p:tab>
                                            <p:tab title="Crédito">
                                                <p:outputPanel style=" width: 100%"> 
                                                    <p:panelGrid   style=" width: 100%" >
                                                        <p:row>
                                                            <p:column style=" width: 25%"   >
                                                                <h:outputText value="Código:" />
                                                            </p:column>
                                                            <p:column style=" width: 25%"   >
                                                                <h:outputText value="#{proyectoBean.proyectoSeleccionado.codigoProyecto}" />
                                                            </p:column>
                                                            <p:column style=" width: 25%"  >
                                                                <h:outputText value="Solicitud: " />
                                                            </p:column>
                                                            <p:column style=" width: 25%"  >
                                                                <h:outputText value="#{proyectoBean.proyectoSeleccionado.codigo}" />
                                                            </p:column>
                                                        </p:row> 
                                                        <p:row>
                                                            <p:column style=" width: 25%"   >
                                                                <h:outputText value="Fecha de aprobación:" />
                                                            </p:column>
                                                            <p:column style=" width: 25%"   >
                                                                <h:outputText value="#{proyectoBean.proyectoSeleccionado.fechaAprovacion}" >
                                                                    <f:convertDateTime pattern="dd/MM/YYYY"/>
                                                                </h:outputText>
                                                            </p:column>
                                                            <p:column style=" width: 25%"  >
                                                                <h:outputText value="Fecha de vencimiento: " />
                                                            </p:column>
                                                            <p:column style=" width: 25%"  >
                                                                <h:outputText value="#{proyectoBean.proyectoSeleccionado.fechaVencimientoProyecto eq null? '--/--/----': proyectoBean.proyectoSeleccionado.fechaVencimientoProyecto }" >
                                                                    <f:convertDateTime pattern="dd/MM/YYYY"/>
                                                                </h:outputText>
                                                            </p:column>
                                                        </p:row> 
                                                        <p:row>
                                                            <p:column style=" width: 25%"   >
                                                                <h:outputText value="Modalidad:" />
                                                            </p:column>
                                                            <p:column style=" width: 25%"   >
                                                                <h:outputText value="#{proyectoBean.modalidad}" />
                                                            </p:column>
                                                            <p:column style=" width: 25%"  >
                                                                <h:outputText value="Destino: " />
                                                            </p:column>
                                                            <p:column style=" width: 25%"  >
                                                                <h:outputText value="#{proyectoBean.proyectoSeleccionado.destinoProyecto}" />
                                                            </p:column>
                                                        </p:row> 
                                                        <p:row>
                                                            <p:column    >
                                                                <h:outputText value="Monto:" />
                                                            </p:column>
                                                            <p:column   >
                                                                <h:outputText value="$"/>
                                                                <h:outputText value="#{proyectoBean.proyectoSeleccionado.monto}" >
                                                                    <f:convertNumber     pattern=",#00.00" locale="en-US" /> 
                                                                </h:outputText>
                                                            </p:column>
                                                            <p:column   >
                                                                <h:outputText value="Tasa de interés (%):"  />
                                                            </p:column>
                                                            <p:column   >
                                                                <h:outputText value="#{proyectoBean.politicaSeleccionada.tasaInteres}">
                                                                    <f:convertNumber     pattern="#0.00" locale="en-US" /> 
                                                               </h:outputText>
                                                            </p:column>
                                                        </p:row>
                                                        <p:row>
                                                            <p:column   >
                                                                <h:outputText value="Tasa de interés x mora (%):" />
                                                            </p:column>
                                                            <p:column    >
                                                                <h:outputText value="#{proyectoBean.politicaSeleccionada.tasaInteresMora}">
                                                                    <f:convertNumber     pattern="#0.00" locale="en-US" /> 
                                                                </h:outputText>
                                                            </p:column>
                                                            <p:column   >
                                                                <h:outputText value="Plazo (meses):"/>
                                                            </p:column>
                                                            <p:column   >
                                                                <h:outputText value="#{proyectoBean.proyectoSeleccionado.plazo}"/>
                                                            </p:column>
                                                        </p:row>
                                                        <p:row>
                                                            <p:column    >
                                                                <h:outputText value="Forma de pago:" />
                                                            </p:column>
                                                            <p:column    >
                                                                <h:outputText value="#{proyectoBean.formaPagos}" />
                                                            </p:column>
                                                            <p:column    >
                                                                <h:outputText value="Interés:" />
                                                            </p:column>
                                                            <p:column    >
                                                                <h:outputText value="$"/>
                                                                <h:outputText value="#{proyectoBean.intereses}" >
                                                                    <f:convertNumber     pattern=",#00.00" locale="en-US" /> 
                                                                </h:outputText>
                                                            </p:column>
                                                        </p:row>    
                                                        <p:row>
                                                            <p:column    >
                                                                <h:outputText value="Total:" />
                                                            </p:column>
                                                            <p:column   >
                                                                <h:outputText value="$"/>
                                                                <h:outputText value="#{proyectoBean.total}" >
                                                                    <f:convertNumber     pattern=",#00.00" locale="en-US" /> 
                                                                </h:outputText>
                                                            </p:column>
                                                            <p:column   >
                                                                <h:outputText value="Cuota:"/>
                                                            </p:column>
                                                            <p:column   >
                                                                <h:outputText value="$"/>
                                                                <h:outputText value="#{proyectoBean.couto}" >
                                                                    <f:convertNumber     pattern=",#00.00" locale="en-US" /> 
                                                                </h:outputText>
                                                            </p:column>
                                                        </p:row>
                                                    </p:panelGrid>
                                                </p:outputPanel>
                                            </p:tab>
                                            <p:tab title="Documentos">
                                                <p:outputPanel style=" width: 100%"> 
                                                    <p:panelGrid   style=" width: 100%" > 
                                                        <p:row rendered="#{proyectoBean.clienteSeleccionado.duiCopiaCliente ne null}">                                                           
                                                            <p:column colspan="1" style=" width: 20%">
                                                                <p:commandLink  target="_blank" ajax="false" actionListener="#{proyectoBean.generarDui}">
                                                                    <h:outputText class="etiqueta" value="DUI cliente" />
                                                                </p:commandLink>
                                                            </p:column>
                                                        </p:row>    
                                                        <p:row rendered="#{proyectoBean.clienteSeleccionado.nitCopiaCliente ne null}"> 
                                                            <p:column>
                                                                <p:commandLink  target="_blank" ajax="false" actionListener="#{proyectoBean.generarNit}">
                                                                    <h:outputText class="etiqueta" value="NIT cliente" />
                                                                </p:commandLink>
                                                            </p:column>
                                                        </p:row> 
                                                        <p:row rendered="#{proyectoBean.cooperativaSeleccionada.balanceGeneral ne null}"> 
                                                            <p:column colspan="5"  style=" width: 33%"   >
                                                                <p:lightBox iframe="true" width="700px" height="500px">
                                                                    <h:outputLink value="#{proyectoBean.cooperativaSeleccionada.balanceGeneral}" title="Balance general">
                                                                        <h:outputText class="etiqueta" value="Balance general" />
                                                                    </h:outputLink>
                                                                </p:lightBox>
                                                            </p:column>
                                                        </p:row>
                                                        <p:row rendered="#{proyectoBean.garantiaSeleccionada.fotocopiaDuiSolidariaGarantia ne null}">
                                                            <p:column style=" width: 25%"  >
                                                                <p:commandLink  target="_blank" ajax="false" actionListener="#{proyectoBean.generarDuiFiador}">
                                                                    <h:outputText class="etiqueta" value="DUI fiador" />
                                                                </p:commandLink>
                                                            </p:column>
                                                        </p:row>
                                                        <p:row rendered="#{proyectoBean.garantiaSeleccionada.fotocopiaNitSolidariaGarantia ne null}">
                                                            <p:column colspan="3" style=" width: 25%"  >
                                                               <p:commandLink  target="_blank" ajax="false" actionListener="#{proyectoBean.generarNitFiador}">
                                                                    <h:outputText class="etiqueta" value="NIT fiador" />
                                                                </p:commandLink>
                                                            </p:column>
                                                        </p:row>
                                                        <p:row rendered="#{proyectoBean.cooperativaSeleccionada.presupuesto ne null}" >
                                                            <p:column colspan="3">
                                                                <p:lightBox iframe="true" width="700px" height="500px">
                                                                    <h:outputLink value="#{proyectoBean.cooperativaSeleccionada.presupuesto}" title="Presupuesto o cotización">
                                                                        <h:outputText class="etiqueta" value="Presupuesto o cotización" />
                                                                    </h:outputLink>
                                                                </p:lightBox>  
                                                            </p:column>
                                                        </p:row> 
                                                        <p:row rendered="#{proyectoBean.garantiaSeleccionada.documentoPrendariaGarantia ne null}">
                                                            <p:column colspan="3" >
                                                                <p:lightBox iframe="true" width="700px" height="500px">
                                                                    <h:outputLink value="#{proyectoBean.garantiaSeleccionada.documentoPrendariaGarantia}" title="Comprobante de prenda">
                                                                        <h:outputText class="etiqueta" value="Comprobante de prenda" />
                                                                    </h:outputLink>
                                                                </p:lightBox>
                                                            </p:column>
                                                        </p:row> 
                                                        <p:row rendered="#{proyectoBean.lisiados.cartaLisiado ne null}">
                                                           <p:column colspan="3" style=" width: 20%"  >
                                                               <p:commandLink  target="_blank" ajax="false" actionListener="#{proyectoBean.generarCarta}">
                                                                    <h:outputText class="etiqueta" value="Carta de fondo de lisiado" />
                                                                </p:commandLink>
                                                           </p:column>
                                                       </p:row>
                                                        <p:row rendered="#{proyectoBean.trabajo.constancia ne null}">
                                                            <p:column colspan="3" style=" width: 20%" >
                                                                <p:commandLink  target="_blank" ajax="false" actionListener="#{proyectoBean.generarConstancia}">
                                                                    <h:outputText class="etiqueta" value="Constancia de trabajo" />
                                                                </p:commandLink>
                                                            </p:column >
                                                        </p:row>
                                                    </p:panelGrid> 
                                                </p:outputPanel>
                                            </p:tab>                                        
                                        </p:tabView>
                                        <br></br>
                                        <center>
                                            <p:splitButton rendered="#{proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito eq 2? true: false or proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito eq 3? true:false}"  update=":padding" value="Ver PDF"  ajax="false" icon="fa fa-eye"  >
                                                <f:actionListener binding="#{proyectoBean.verReporteSolicitudCooperativa()}"/> 
                                                <p:menuitem  ajax="false" update=":padding"  icon="fa fa-download" value="Descargar PDF">
                                                    <f:actionListener binding="#{proyectoBean.verReporteSolicitudCooperativaPDF()}"/> 
                                                </p:menuitem>
                                            </p:splitButton>
                                            <p:splitButton rendered="#{proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito eq 4? true: false or proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito eq 8? true:false or proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito eq 9? true:false }"  update=":padding" value="Ver PDF"  ajax="false" icon="fa fa-eye"  >
                                                <f:actionListener binding="#{proyectoBean.verReporteSolicitudAgropecuario()}"/> 
                                                <p:menuitem  ajax="false" update=":padding"  icon="fa fa-download" value="Descargar PDF">
                                                    <f:actionListener binding="#{proyectoBean.verReporteSolicitudAgropecuarioPDF()}"/> 
                                                </p:menuitem>
                                            </p:splitButton>
                                            <p:splitButton rendered="#{proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito eq 7? true: false}"  update=":padding" value="Ver PDF"  ajax="false" icon="fa fa-eye"  >
                                                <f:actionListener binding="#{proyectoBean.verReporteSolicitudComercio()}"/> 
                                                <p:menuitem  ajax="false" update=":padding"  icon="fa fa-download" value="Descargar PDF">
                                                    <f:actionListener binding="#{proyectoBean.verReporteSolicitudComercioPDF()}"/> 
                                                </p:menuitem>
                                            </p:splitButton>
                                            <p:splitButton rendered="#{proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito eq 5? true: false}"  update=":padding" value="Ver PDF"  ajax="false" icon="fa fa-eye"  >
                                                <f:actionListener binding="#{proyectoBean.verReporteSolicitudLisiado()}"/> 
                                                <p:menuitem  ajax="false" update=":padding"  icon="fa fa-download" value="Descargar PDF">
                                                    <f:actionListener binding="#{proyectoBean.verReporteSolicitudLisiadoPDF()}"/> 
                                                </p:menuitem>
                                            </p:splitButton>
                                            <p:splitButton rendered="#{proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito eq 1? true: false}"  update=":padding" value="Ver PDF"  ajax="false" icon="fa fa-eye"  >
                                                <f:actionListener binding="#{proyectoBean.verReporteSolicitudEmpleado()}"/> 
                                                <p:menuitem  ajax="false" update=":padding"  icon="fa fa-download" value="Descargar PDF">
                                                    <f:actionListener binding="#{proyectoBean.verReporteSolicitudEmpleadoPDF()}"/> 
                                                </p:menuitem>
                                            </p:splitButton>
                                        </center>
                                    </p:outputPanel>
                                </h:form>
                            </p:dialog>
                            <p:dialog header="Plan de pago"  widgetVar="dlVerPlan" modal="true" visible="false"  resizable="true" responsive="true" styleClass="ui-panelgrid-blank" width="75%" appendTo="@(body)">
                                <h:form target="_blank">
                                    <p:outputPanel id="dlVerEmpleado" style="width: 100%">
                                        
                                     <p:panelGrid  style="width: 100%; margin: auto;"> 
                                    <p:row>
                                        <p:column colspan="5" style=" width: 15%; background-color:#ebedf0">
                                            <center>  <h:outputText value="Cliente y crédito"/> </center> 
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column style=" width: 15%; ">
                                            <h:outputText value="Cliente:"/> <br></br>
                                            <h:outputText value="Crédito:"/> <br></br>
                                            <h:outputText value="Modalidad:"/> <br></br>
                                            
                                        </p:column>
                                        <p:column style=" width: 45%">
                                            <h:outputText value="#{proyectoBean.clienteSeleccionado.codigoCliente}"/> <br></br>
                                           <h:outputText value="#{proyectoBean.proyectoSeleccionado.codigoProyecto}"/> <br></br>
                                               <h:outputText value="#{proyectoBean.cambiar(proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito)}"/> <br></br>
                                          
                                        </p:column>
                                        <p:column colspan="2" style=" width:20%; ">
                                            <h:outputText value="Monto"/> <br></br>
                                            <h:outputText value="Plazo (meses)"/> <br></br>
                                            <h:outputText value="Forma de pago:"/>   <br></br>
                                           
                                        </p:column>
                                        <p:column style=" width: 20%">
                                             <h:outputText value="$"/>   
                                              <h:outputText value="#{proyectoBean.proyectoSeleccionado.monto}">
                                                
                                                  <f:convertNumber     pattern=",#00.00" locale="en-US" /> 
                                            </h:outputText>
                                                <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.plazo}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.formaPagos}"/> <br></br>
                                           
                                        </p:column>
                                    </p:row>
                                </p:panelGrid>
                                        <br></br>
                                        <b>  <h:outputText value="Lista de pagos"/>  </b>
                                        <hr></hr>
                                        <p:dataTable  id="basicDT"  var="entidades" widgetVar="amorti" rows="4"  paginator="true" value="#{proyectoBean.listaPagos}"
                                                      paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                      paginatorPosition="bottom" style="width: 100%;"
                                                      rowIndexVar="No" rowsPerPageTemplate="4"
                                                      currentPageReportTemplate="Mostrando {startRecord}-{endRecord} de {totalRecords}"
                                                      >
                                            <p:column style=" text-align:  center"   
                                                      headerText="Nº" width="5%" >                                             
                                                <h:outputText value="#{No+1}"  />  
                                            </p:column> 
                                            <p:column   
                                                headerText="Fecha" width="8%" filterBy="#{entidades.fecha}" sortBy="#{entidades.fecha}" > 
                                                <div style=" text-align: center">
                                                    <h:outputText value="#{entidades.fecha}">
                                                        <f:convertDateTime pattern="dd/MM/YYYY"/>
                                                    </h:outputText>
                                                </div>
                                            </p:column> 
                                            <p:column headerText="Cuota" width="8%" filterBy="#{entidades.cuota}" sortBy="#{entidades.cuota}"  
                                                      >  
                                                <div style=" text-align: right">
                                                    <h:outputText value="$"  />
                                                    <h:outputText value="#{entidades.cuota}">
                                                        <f:convertNumber      pattern=",#00.00" locale="en-US" />  
                                                    </h:outputText>
                                                </div>
                                            </p:column>  
                                            <p:column  headerText="Interés" width="8%" filterBy="#{entidades.interes}" sortBy="#{entidades.interes}" 
                                                       >  
                                                <div style="text-align: right">
                                                    <h:outputText value="$"/>
                                                    <h:outputText value="#{entidades.interes}">
                                                        <f:convertNumber     pattern=",#00.00" locale="en-US" />  
                                                    </h:outputText>
                                                </div>
                                            </p:column> 
                                            <p:column headerText="Abono a capital" width="10%" filterBy="#{entidades.abono}" sortBy="#{entidades.abono}" 
                                                      >
                                                <div style=" text-align: right">
                                                    <h:outputText value="$"/>
                                                    <h:outputText value="#{entidades.abono}">
                                                        <f:convertNumber     pattern=",#00.00" locale="en-US" />  
                                                    </h:outputText>
                                                </div>
                                            </p:column> 
                                            <p:column headerText="Capital amortizado" width="12%" filterBy="#{entidades.capitalamortizado}" sortBy="#{entidades.capitalamortizado}"  
                                                      >  
                                                <div style=" text-align: right">
                                                    <h:outputText value="$"/>
                                                    <h:outputText value="#{entidades.capitalamortizado}">
                                                        <f:convertNumber     pattern=",#00.00" locale="en-US" />  
                                                    </h:outputText>
                                                </div>
                                            </p:column>
                                            <p:column headerText="Saldo de capital" width="10%" filterBy="#{entidades.saldocapital}" sortBy="#{entidades.saldocapital}"   
                                                      >  
                                                <div style=" text-align: right">
                                                    <h:outputText value="$"/>
                                                    <h:outputText value="#{entidades.saldocapital}">
                                                        <f:convertNumber     pattern=",#00.00" locale="en-US" />  
                                                    </h:outputText>
                                                </div>
                                            </p:column>
                                        </p:dataTable>
                                        <br></br>        
                                       <p:outputPanel >
                                                
                                                <p:fieldset >
                                                    <p:panelGrid   style=" width: 55%;" styleClass="borderHidden" >
                                                        <p:row>
                                                            <p:column style=" width: 10%">
                                                                <h:outputText value="Total pagado:" /> 
                                                            </p:column>
                                                            <p:column style=" width: 10%"   >
                                                                <h:outputText value="$" />
                                                                <h:outputText value="#{proyectoBean.totalGeneral}">
                                                                    <f:convertNumber     pattern=",#00.00" locale="en-US" /> 
                                                                </h:outputText>
                                                            </p:column>
                                                            <p:column style=" width: 10%">
                                                                <h:outputText value="Interés generado:" /> 
                                                            </p:column>
                                                            <p:column style=" width: 10%"   >
                                                                <h:outputText value="$" />
                                                                <h:outputText value="#{proyectoBean.totalInteres}">
                                                                    <f:convertNumber     pattern=",#00.00" locale="en-US" /> 
                                                                </h:outputText>
                                                            </p:column>
                                                        </p:row>
                                                    </p:panelGrid>
                                                </p:fieldset>   
                                            </p:outputPanel>     
                                        <br></br>
                                        <center>
                                            <p:splitButton  update=":padding" value="Ver PDF"  ajax="false" icon="fa fa-eye"  >
                                                <f:actionListener binding="#{proyectoBean.reportePlan()}"/> 
                                                <p:menuitem  ajax="false" update=":padding"  icon="fa fa-download" value="Descargar PDF">
                                                    <f:actionListener binding="#{proyectoBean.reportePlanPDF()}"/> 
                                                </p:menuitem>
                                            </p:splitButton>
                                        </center>
                                    </p:outputPanel>
                                </h:form>
                            </p:dialog>
                            <p:dialog header="Plan de pago"  widgetVar="dlVerPlanCooperativa" modal="true" visible="false"  resizable="true" responsive="true" styleClass="ui-panelgrid-blank" width="75%" appendTo="@(body)">
                                <h:form target="_blank">
                                    <p:outputPanel id="dlVerEmpleado" style="width: 100%">
                                    <p:panelGrid  style="width: 100%; margin: auto;"> 
                                    <p:row>
                                        <p:column colspan="5" style=" width: 15%; background-color:#ebedf0">
                                            <center>  <h:outputText value="Cliente y crédito"/> </center> 
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column style=" width: 15%; ">
                                            <h:outputText value="Cliente:"/> <br></br>
                                            <h:outputText value="Crédito:"/> <br></br>
                                            <h:outputText value="Modalidad:"/> <br></br>
                                            
                                        </p:column>
                                        <p:column style=" width: 45%">
                                            <h:outputText value="#{proyectoBean.entidadeleccionada.codigoClienteEntidad}"/> <br></br>
                                           <h:outputText value="#{proyectoBean.proyectoSeleccionado.codigoProyecto}"/> <br></br>
                                               <h:outputText value="#{proyectoBean.cambiar(proyectoBean.proyectoSeleccionado.TTipoCredito.idTipoCredito)}"/> <br></br>
                                          
                                        </p:column>
                                        <p:column colspan="2" style=" width:20%; ">
                                            <h:outputText value="Monto"/> <br></br>
                                            <h:outputText value="Plazo (meses)"/> <br></br>
                                            <h:outputText value="Forma de pago:"/>   <br></br>
                                           
                                        </p:column>
                                        <p:column style=" width: 20%">
                                             <h:outputText value="$"/>   
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.monto}">
                                                
                                                  <f:convertNumber     pattern=",#00.00" locale="en-US" /> 
                                            </h:outputText>
                                                
                                                <br></br>
                                            <h:outputText value="#{proyectoBean.proyectoSeleccionado.plazo}"/> <br></br>
                                            <h:outputText value="#{proyectoBean.formaPagos}"/> <br></br>
                                           
                                        </p:column>
                                    </p:row>
                                </p:panelGrid>
                                        
                                          
                                        
                                        
                                        <br></br>
                                        <b>  <h:outputText value="Lista de pagos"/>  </b>
                                        <hr></hr>
                                        <p:dataTable  id="basicDT" var="entidades" widgetVar="amortizacionCooperativa"  paginator="true" rows="4" value="#{proyectoBean.listaPagos}"
                                                      paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                      paginatorPosition="bottom" style="width: 100%;"
                                                      rowIndexVar="No" rowsPerPageTemplate="4"
                                                      currentPageReportTemplate="Mostrando {startRecord}-{endRecord} de {totalRecords}"
                                                      >
                                           <p:column  style=" text-align:  center"  
                                                       headerText="Nº" width="5%" > 
                                           <h:outputText value="#{No+1}"  />  
                                            </p:column> 
                                            <p:column  style=" text-align:  center" 
                                                       headerText="Fecha" width="8%" filterBy="#{entidades.fecha}" sortBy="#{entidades.fecha}" >
                                                <h:outputText  value="#{entidades.fecha}">
                                                    <f:convertDateTime pattern="dd/MM/YYYY"/>
                                                </h:outputText>
                                            </p:column> 
                                           <p:column headerText="Cuota" width="8%" filterBy="#{entidades.cuota}" sortBy="#{entidades.cuota}"  
                                                      >  
                                                <div style=" text-align: right">
                                                    <h:outputText value="$"  />
                                                    <h:outputText value="#{entidades.cuota}">
                                                        <f:convertNumber      pattern=",#00.00" locale="en-US" />  
                                                    </h:outputText>
                                                </div>
                                            </p:column>  
                                            <p:column  headerText="Interés" width="8%" filterBy="#{entidades.interes}" sortBy="#{entidades.interes}"  
                                                       >  
                                                <div style=" text-align: right">
                                                    <h:outputText value="$"/>
                                                    <h:outputText value="#{entidades.interes}">
                                                        <f:convertNumber     pattern=",#00.00" locale="en-US" />  
                                                    </h:outputText>
                                                </div>
                                            </p:column> 
                                            <p:column headerText="Abono a capital" width="10%" filterBy="#{entidades.abono}" sortBy="#{entidades.abono}" 
                                                      >
                                                <div style=" text-align: right">
                                                    <h:outputText value="$"/>
                                                    <h:outputText value="#{entidades.abono}">
                                                        <f:convertNumber     pattern=",#00.00" locale="en-US" />  
                                                    </h:outputText>
                                                </div>
                                            </p:column> 
                                            <p:column headerText="Capital amortizado" width="12%" filterBy="#{entidades.capitalamortizado}" sortBy="#{entidades.capitalamortizado}" 
                                                      >  
                                                <div style=" text-align: right">
                                                    <h:outputText value="$"/>
                                                    <h:outputText value="#{entidades.capitalamortizado}">
                                                        <f:convertNumber     pattern=",#00.00" locale="en-US" />  
                                                    </h:outputText>  </div> </p:column>
                                            <p:column headerText="Saldo de capital" width="10%" filterBy="#{entidades.saldocapital}" sortBy="#{entidades.saldocapital}"   
                                                      >  
                                                <div style=" text-align: right">
                                                    <h:outputText value="$"/>
                                                    <h:outputText value="#{entidades.saldocapital}">
                                                        <f:convertNumber     pattern=",#00.00" locale="en-US" />  
                                                    </h:outputText>  </div>  </p:column>
                                        </p:dataTable>
                                        <br></br>        
                                        <p:outputPanel >
                                               
                                                <p:fieldset >
                                                    <p:panelGrid   style=" width: 55%;" styleClass="borderHidden" >
                                                        <p:row>
                                                            <p:column style=" width: 10%">
                                                                <h:outputText value="Total pagado:" /> 
                                                            </p:column>
                                                            <p:column style=" width: 10%"   >
                                                                <h:outputText value="$" />
                                                                <h:outputText value="#{proyectoBean.totalGeneral}">
                                                                    <f:convertNumber     pattern=",#00.00" locale="en-US" /> 
                                                                </h:outputText>
                                                            </p:column>
                                                            <p:column style=" width: 10%">
                                                                <h:outputText value="Interés generado:" /> 
                                                            </p:column>
                                                            <p:column style=" width: 10%"   >
                                                                <h:outputText value="$" />
                                                                <h:outputText value="#{proyectoBean.totalInteres}">
                                                                    <f:convertNumber     pattern=",#00.00" locale="en-US" /> 
                                                                </h:outputText>
                                                            </p:column>
                                                        </p:row>
                                                    </p:panelGrid>
                                                </p:fieldset>   
                                            </p:outputPanel> 
                                        <br></br>
                                        <center>
                                            <p:splitButton  update=":padding" value="Ver PDF"  ajax="false" icon="fa fa-eye"  >
                                                <f:actionListener binding="#{proyectoBean.reportePlanCooperativa()}"/> 
                                                <p:menuitem  ajax="false" update=":padding"  icon="fa fa-download" value="Descargar PDF">
                                                    <f:actionListener binding="#{proyectoBean.reportePlanCooperativaPDF()}"/> 
                                                </p:menuitem>
                                            </p:splitButton>
                                        </center>
                                    </p:outputPanel>
                                </h:form>
                            </p:dialog>
                        </p:panel>
                    </p:outputPanel>
                </p:outputPanel>
            </ui:define>
            <ui:define name="aux">
                <script>
                    $(document).ready(function () {
                        $("#fin").addClass("active");
                    });
                </script>
            </ui:define>
        </ui:composition>
    </body>
</html>

